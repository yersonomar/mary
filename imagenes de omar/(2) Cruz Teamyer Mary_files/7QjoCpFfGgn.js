/*!CK:442872673!*//*1457392079,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["EIp\/W"]); }

__d("MessageThreadViewSource",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={UNSPECIFIED:"unspecified",LEGACY:"legacy",LEGACY_MESSAGES_PREVIEW:"legacy_messages_preview",REFRESH_SPRINGBOARD:"springboard",REFRESH_MESSAGETAB:"message_tab",NEW_MESSAGETAB:"new_message_tab",REFRESH_PERMALINK:"permalink",REFRESH_HIGHLANDER_JEWEL:"highlander_jewel",REFRESH_SEARCH_TYPEAHEAD:"search_typeahead",MTOUCH_MESSAGE_TAB:"mtouch_message_tab",MBASIC_MESSAGE_TAB:"mbasic_message_tab"};},null);
__d("MNCommerceReplyTypes",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={COMMERCE_LINK:2,COMMERCE_UNLINK:3};},null);
__d("P2PPaymentLogMessageSubtype",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={SENT_IN_GROUP:"sent_in_group",CANCELED_SENDER_RISK:"canceled_sender_risk",CANCELED_DECLINED:"canceled_declined",CANCELED_RECIPIENT_RISK:"canceled_recipient_risk",CANCELED_EXPIRED:"canceled_expired",CANCELED_SAME_CARD:"canceled_same_card",CANCELED_CUSTOMER_SERVICE:"canceled_customer_service",CANCELED_CHARGEBACK:"canceled_chargeback",CANCELED_SYSTEM_FAIL:"canceled_system_fail",REQUEST_CANCELED_BY_REQUESTER:"request_canceled_by_requester",REQUEST_DECLINED_BY_REQUESTEE:"request_declined_by_requestee",REQUEST_EXPIRED:"request_expired"};},null);
__d("PagesManagerMessagingTabPerfEvents",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={MESSAGE_TAB_WILL_RENDER:"message_tab_will_render",MESSAGE_TAB_APP_DID_RENDER:"message_tab_app_did_render",MESSAGE_TAB_THREAD_LIST_DID_RENDER:"message_tab_thread_list_did_render",MESSAGE_TAB_DETAIL_VIEW_DID_RENDER:"message_tab_detail_view_did_render",OLD_MESSAGE_TAB_WILL_RENDER:"old_message_tab_will_render",OLD_MESSAGE_TAB_DID_RENDER:"old_message_tab_did_render"};},null);
__d("PagesMessagingActionPlacement",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={SPRINGBOARD_INLINE_ACTION:"springboard_inline_action",THREAD_LIST_BATCH_ACTION:"thread_list_batch_action",THREAD_ROW_ACTION_ICON:"thread_row_action_icon",MESSAGE_DIALOG_ACTION_LIST:"message_dialog_action_list",MESSAGE_DIALOG_OPENING:"message_dialog_opening",MESSAGE_DIALOG_SHOWN:"message_dialog_shown",THREAD_TITLE_BAR:"thread_title_bar",HOME_PAGE_PAGELET_INLINE_ACTION:"home_page_pagelet_inline_action",UNKNOWN:"unknown"};},null);
__d('PagesMessengerConfirmCloseThreadDialog.react',['fbt','React','XUIDialog.react','XUIDialogBody.react','XUIDialogButton.react','XUIDialogFooter.react','XUIDialogTitle.react'],function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes,l=300;i=babelHelpers.inherits(m,c('React').Component);j=i&&i.prototype;function m(n){'use strict';j.constructor.call(this,n);}m.prototype.render=function(){'use strict';return (c('React').createElement(c('XUIDialog.react'),{layerHideOnBlur:false,shown:this.props.shown,width:l},c('React').createElement(c('XUIDialogTitle.react'),{showCloseButton:false},h._("Cerrar cadena de mensajes")),c('React').createElement(c('XUIDialogBody.react'),null,h._("Todav\u00eda no has enviado tu mensaje. \u00bfQuieres salir sin enviarlo?")),c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIDialogButton.react'),{action:'cancel',label:h._("Seguir escribiendo"),onClick:this.props.onCancel,use:'default'}),c('React').createElement(c('XUIDialogButton.react'),{action:'confirm',label:h._("Salir de esta cadena"),onClick:this.props.onConfirm,use:'confirm'}))));};m.propTypes={onCancel:k.func.isRequired,onConfirm:k.func.isRequired,shown:k.bool.isRequired};f.exports=m;},null);
__d('UFICreatorInfo.react',['cx','fbt','HelpLink.react','Image.react','React','URI'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=c('React').createClass({displayName:'UFICreatorInfo',propTypes:{creatorID:j.string.isRequired,creatorType:j.string.isRequired,creatorName:j.string.isRequired,labelType:j.string.isRequired,pageID:j.string.isRequired,profileURI:j.string},render:function(){var l,m=this.getCreatorLink();switch(this.props.labelType){case 'commented':l=i._("Comentado por {creator}",[i.param('creator',m)]);break;case 'edited_comment':l=i._("Editado por {creator}",[i.param('creator',m)]);break;case 'sent_message':l=i._("Enviado por {creator}",[i.param('creator',m)]);break;case 'page_admin_note':l=i._("Nota de {creator}",[i.param('creator',m)]);break;default:return;}return (c('React').createElement('span',null,l,c('React').createElement(c('HelpLink.react'),{tooltip:this.getHelpText()})));},getCreatorLink:function(){switch(this.props.creatorType){case 'application':case 'gray_account':case 'indirect_admin':return (c('React').createElement('a',{className:'uiLinkSubtle','data-hover':'tooltip','data-tooltip-content':this.getTooltipText()},this.props.creatorName));case 'business_admin':return (c('React').createElement('a',{className:'uiLinkSubtle',href:this.props.profileURI},this.props.creatorName));case 'direct_admin':return this.getProfileLinkWithHovercard();case 'former_admin':return (c('React').createElement('span',{className:'uiLinkSubtle'},c('React').createElement(c('Image.react'),{src:'/images/privacy/cant-see.png',width:9,height:9,className:"_3-8_"}),this.getProfileLinkWithHovercard()));default:return (c('React').createElement('span',{className:'uiLinkSubtle'},this.props.creatorName));}},getTooltipText:function(){switch(this.props.creatorType){case 'application':return this.getApplicationText();case 'gray_account':return this.getGrayAccountText();case 'indirect_admin':return this.getIndirectAdminText();}},getProfileLinkWithHovercard:function(){if(!this.props.profileURI)return c('React').createElement('span',null,this.props.creatorName);var l=new (c('URI'))('/ajax/hovercard/user.php').setQueryData({id:this.props.creatorID}).addQueryData({type:'page_admin',extragetparams:JSON.stringify({directed_target_id:this.props.pageID})});return (c('React').createElement('a',{className:'uiLinkSubtle','data-hovercard':l,href:this.props.profileURI},this.props.creatorName));},getApplicationText:function(){switch(this.props.labelType){case 'commented':return i._("Lo ha comentado alguien que usa {application}.",[i.param('application',this.props.creatorName)]);case 'edited_comment':return i._("Lo ha editado alguien con {application}.",[i.param('application',this.props.creatorName)]);case 'sent_message':return i._("Lo ha enviado alguien con {application}.",[i.param('application',this.props.creatorName)]);case 'page_admin_note':return i._("Una persona ha creado esta nota usando {application}.",[i.param('application',this.props.creatorName)]);}},getIndirectAdminText:function(){switch(this.props.labelType){case 'commented':return i._("Lo ha comentado alguien de {page}.",[i.param('page',this.props.creatorName)]);case 'edited_comment':return i._("Lo ha editado alguien desde {page}.",[i.param('page',this.props.creatorName)]);case 'sent_message':return i._("Lo ha enviado alguien de {page}.",[i.param('page',this.props.creatorName)]);case 'page_admin_note':return i._("Una persona de {page} ha creado esta nota.",[i.param('page',this.props.creatorName)]);}},getGrayAccountText:function(){switch(this.props.labelType){case 'commented':return i._("Lo ha comentado alguien que no tiene una cuenta personal de Facebook.");case 'edited_comment':return i._("Lo ha editado alguien que no tiene una cuenta personal de Facebook.");case 'sent_message':return i._("Lo ha enviado alguien que no tiene una cuenta de Facebook personal.");case 'page_admin_note':return i._("Una persona que no tiene cuenta personal de Facebook ha creado esta nota.");}},getHelpText:function(){switch(this.props.labelType){case 'commented':return i._("Solo las personas que administran esta p\u00e1gina pueden publicar un comentario");case 'edited_comment':return i._("Solo las personas que administran esta p\u00e1gina pueden ver qui\u00e9n ha editado un comentario");case 'sent_message':return i._("Solo las personas que administran esta p\u00e1gina pueden ver qui\u00e9n env\u00eda los mensajes");case 'page_admin_note':return i._("Solo los administradores de esta p\u00e1gina pueden ver qui\u00e9n ha creado una nota");}}});f.exports=k;},null);
__d('PagesMessengerCreatorInfo.react',['cx','React','UFICreatorInfo.react','XUIGrayText.react'],function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.render=function(){return (c('React').createElement(c('XUIGrayText.react'),{className:"_ajk"+(this.props.isNote?' '+"_45l2":''),display:'inline',shade:'light',size:'small'},c('React').createElement(c('UFICreatorInfo.react'),{creatorID:this.props.creator_info.creatorID,creatorType:this.props.creator_info.creatorType,creatorName:this.props.creator_info.creatorName,labelType:this.props.creator_info.labelType,pageID:this.props.creator_info.pageID,profileURI:this.props.creator_info.profileURI})));};function l(){i.apply(this,arguments);}l.propTypes={creator_info:k.shape({creatorID:k.string.isRequired,creatorName:k.string.isRequired,creatorType:k.string.isRequired,labelType:k.string.isRequired,pageID:k.string.isRequired,profileURI:k.string}).isRequired};f.exports=l;},null);
__d('ChatFileUploaderMixin',['SubscriptionsHandler','React'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i={propTypes:{attachmentsShelf:h.object,onFileUploaderMounted:h.func,onUploadFinished:h.func,onUpdateAttachmentsShelf:h.func,onSubmit:h.func},setUpSubscriptionsHandler:function(j){this._uploader=j;this._subscriptions=new (c('SubscriptionsHandler'))();this._subscriptions.addSubscriptions(this._uploader.subscribe(['all-uploads-completed','upload-canceled'],this._handleUploadFinished),this._uploader.subscribe('dom-updated',this._handleUpdateAttachmentsShelf),this._uploader.subscribe('submit',this._handleSubmit));this.props.onFileUploaderMounted(this._uploader);},componentWillUnmount:function(){this._subscriptions&&this._subscriptions.release();if(!this.props.uploaderIsFromHigherLevel)this._uploader&&this._uploader.destroy();},isUploading:function(){return this._uploader.isUploading();},getAttachments:function(){return this._uploader.getAttachments();},getImageFiles:function(){return this._uploader.getImageFiles();},getVideoFiles:function(){return this._uploader.getVideoFiles();},getAudioFiles:function(){return this._uploader.getAudioFiles();},getFiles:function(){return this._uploader.getFiles();},removeAttachments:function(){return this._uploader.removeAttachments();},_handleUploadFinished:function(){if(this.props.onUploadFinished){var j;(j=this.props).onUploadFinished.apply(j,arguments);}},_handleUpdateAttachmentsShelf:function(){if(this.props.onUpdateAttachmentsShelf){var j;(j=this.props).onUpdateAttachmentsShelf.apply(j,arguments);}},_handleSubmit:function(){if(this.props.onSubmit){var j;(j=this.props).onSubmit.apply(j,arguments);}}};f.exports=i;},null);
__d('PagesMessengerFileUploader.react',['cx','fbt','ix','ChatFileUploaderMixin','Image.react','InlineBlock.react','Link.react','MercuryConfig','MercuryFileUploader','React','ReactDOM'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes,l=c('React').createClass({displayName:'PagesMessengerFileUploader',mixins:[c('ChatFileUploaderMixin')],propTypes:{actionURI:k.string,iconSize:k.oneOf(['small','large'])},shouldComponentUpdate:function(m,n){return m.actionURI!=this.props.actionURI;},componentDidMount:function(){this._fileUploader=new (c('MercuryFileUploader'))(this.props.attachmentsShelf,c('ReactDOM').findDOMNode(this.refs.form),c('ReactDOM').findDOMNode(this.refs.input),c('ReactDOM').findDOMNode(this.refs.attachID));this.setUpSubscriptionsHandler(this._fileUploader);},addFiles:function(m){this._fileUploader.addDroppedFiles(m);},getDefaultProps:function(){return {actionURI:c('MercuryConfig').upload_url,iconSize:'small'};},render:function(){return (c('React').createElement('form',{action:this.props.actionURI,method:'post',ref:'form'},c('React').createElement('input',{type:'hidden',name:'attach_id',ref:'attachID'}),c('React').createElement(c('InlineBlock.react'),{className:"_m _4q60 _3rzn"},c('React').createElement(c('Link.react'),{className:"_4q61"+(this.props.iconSize==='small'?' '+"_509v":'')+(this.props.iconSize==='large'?' '+"_5njm":'')+(' '+"bizOK")},this._renderIcon()),c('React').createElement('input',{type:'file',className:"_n",name:'attachment[]',multiple:'true',ref:'input'}))));},_renderIcon:function(){if(this.props.iconSize==='small'){return (c('React').createElement(c('Image.react'),{alt:i._("Archivo"),src:j('/images/composer/attachments/paperclip_icon.png')}));}else if(this.props.iconSize==='large')return (c('React').createElement(c('Image.react'),{alt:i._("Archivo"),src:j('/images/pages/pages_manager/messages/composer-attach.png')}));}});f.exports=l;},null);
__d('MercuryPageMessageActions',['MercuryActionType','MercuryMessageActions','MercuryPayloadSource','MercurySingletonMixin'],function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('MercuryMessageActions'));i=h&&h.prototype;function j(k){i.constructor.call(this,k);}j.prototype.createNote=function(k,l,m){this.__dispatcher.handleUpdate(this.__constructClientSingleMessagePayload({action_type:c('MercuryActionType').CREATE_PAGE_ADMIN_NOTE,message_id:m,note:k,thread_id:l},c('MercuryPayloadSource').CLIENT_CREATE_PAGE_ADMIN_NOTE));this.__serverRequests.createNote(k.body.text,m,l);};Object.assign(j,c('MercurySingletonMixin'),{_instances:{}});f.exports=j;},null);
__d('PagesMessengerTextInput.react',['cx','AbstractTextField.react','React','TextAreaControl','InputCaretUtility','joinClasses'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'PagesMessengerTextInput',_control:null,propTypes:babelHelpers['extends']({},c('AbstractTextField.react').propTypes,{onClick:i.func,onKeyUp:i.func,onPaste:i.func,onFocus:i.func,tabIndex:i.string}),componentDidMount:function(){if(this.refs.input)this._control=new (c('TextAreaControl'))(this.refs.input);},moveCaretToBeginning:function(){c('InputCaretUtility').delayedMoveCaretToBeginning(this.refs.input);},resetHeight:function(){this._control&&this._control.resetHeight();},updateHeight:function(){this._control&&this._control.updateHeight();},render:function(){var k=c('joinClasses')(this.props.className,"_58al"+(' '+"uiTextareaAutogrow"));return (c('React').createElement(c('AbstractTextField.react'),this.props,c('React').createElement('textarea',{type:'text',className:k,tabIndex:this.props.tabIndex,onClick:this.props.onClick,onKeyUp:this.props.onKeyUp,onPaste:this.props.onPaste,onFocus:this.props.onFocus,ref:'input'})));}});f.exports=j;},null);
__d('PagesMessengerSimpleMultilineComposer.react',['cx','fbt','MercuryMessageObject','MercurySourceType','MercuryPageMessageActions','PagesEventObserver','PagesEventType','PagesMessengerTextInput.react','React','ReactDOM','XUIButton.react','isEmpty'],function a(b,c,d,e,f,g,h,i){var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(n){'use strict';k.constructor.call(this,n);this.state={value:''};this.$PagesMessengerSimpleMultilineComposer1=c('MercuryPageMessageActions').getForFBID(this.props.sourceID);this.$PagesMessengerSimpleMultilineComposer2=c('MercuryMessageObject').getForFBID(this.props.sourceID);}m.prototype.hasInput=function(){'use strict';return !!this.state.value;};m.prototype.clearInput=function(){'use strict';this.setState({value:''});};m.prototype.focusInput=function(){'use strict';c('ReactDOM').findDOMNode(this.refs.textInput).focus();};m.prototype.getConfirmButtonLabel=function(){'use strict';return i._("Enviar");};m.prototype.getTextInputPlaceholder=function(){'use strict';return i._("Escribe un mensaje");};m.prototype.onTextInputChanged=function(event){'use strict';this.setState({value:event.target.value});};m.prototype.processSend=function(event){'use strict';var n=this.refs.textInput.props.value;if(!n)return;var o=this.$PagesMessengerSimpleMultilineComposer2.constructUserGeneratedMessageObject(n,c('MercurySourceType').TITAN_WEB,this.props.threadID,null,null);c('PagesEventObserver').logData_DEPRECATED({page_id:this.props.sourceID,event_name:c('PagesEventType').MESSAGES_DIALOG_SEND,thread_id:this.props.destinationID},null);event.preventDefault();if(this.props.allowSend()){this.$PagesMessengerSimpleMultilineComposer1.send(o);this.setState({value:''});this.props.afterSend();}};m.prototype.render=function(){'use strict';return (c('React').createElement('div',{className:"_1yn"},c('React').createElement('div',null,c('React').createElement(c('PagesMessengerTextInput.react'),{className:"_1yq"+(' '+"_32wh")+(c('isEmpty')(this.state.value)?' '+"_1yx":''),placeholder:this.getTextInputPlaceholder(),onChange:this.onTextInputChanged.bind(this),onKeyUp:this.props.onKeyUp,value:this.state.value,ref:'textInput'})),c('React').createElement('hr',{className:"_1yy"}),c('React').createElement('div',{className:"_1yz"},c('React').createElement('div',{className:"_1y-"},c('React').createElement(c('XUIButton.react'),{use:'confirm',onClick:this.processSend.bind(this),label:this.getConfirmButtonLabel()})))));};m.propTypes={afterSend:l.func.isRequired,allowSend:l.func.isRequired,destinationID:l.string.isRequired,onKeyUp:l.func.isRequired,sourceID:l.string.isRequired,threadID:l.string.isRequired};f.exports=m;},null);
__d("XPagesMessagingFindPageController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/messaging\/search\/page_name_typeahead\/",{page_id:{type:"String",required:true},value:{type:"String"}});},null);
__d('PagesMessengerNewThreadDialog.react',['cx','fbt','Event','Keys','MercuryIDs','MercuryParticipants','PagesEventObserver','PagesEventType','PagesMessengerConfirmCloseThreadDialog.react','PagesMessengerSimpleMultilineComposer.react','React','SearchableEntry','WebAsyncSearchSource','XPagesMessagingFindPageController','XUIDialog.react','XUIDialogBody.react','XUIDialogTitle.react','XUITokenizerRichToken.react','XUITypeahead.react'],function a(b,c,d,e,f,g,h,i){var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('React').PropTypes,m=445,n=326;j=babelHelpers.inherits(o,c('React').Component);k=j&&j.prototype;function o(p){'use strict';k.constructor.call(this,p);this.state={typeaheadErrorMessage:null,initDialog:false,pageName:'...',query:'',selectedItem:null,showCloseConfirmationDialog:false};this.$PagesMessengerNewThreadDialog1=false;this.$PagesMessengerNewThreadDialog2=false;var q=c('XPagesMessagingFindPageController').getURIBuilder().setString('page_id',this.props.pageID).getURI(),r={uri:q};this.$PagesMessengerNewThreadDialog3=new (c('WebAsyncSearchSource'))({bootstrapRequests:[r],queryRequests:[r],getAllForEmptyQuery:true});}o.prototype.$PagesMessengerNewThreadDialog4=function(p){'use strict';c('PagesEventObserver').notify(c('PagesEventType').MESSAGES_CLOSE_PAGE_MESSAGE_DIALOG,this.props.pageID,{flowID:this.props.flowID,close_state:p});};o.prototype.$PagesMessengerNewThreadDialog5=function(){'use strict';if(this.refs.newThreadComposer.hasInput()){this.setState({showCloseConfirmationDialog:true});this.$PagesMessengerNewThreadDialog4('has_message');}else{this.$PagesMessengerNewThreadDialog6();this.props.onHide();this.$PagesMessengerNewThreadDialog4('no_message');}};o.prototype.$PagesMessengerNewThreadDialog6=function(){'use strict';this.refs.newThreadComposer.clearInput();this.setState({query:'',selectedItem:null,showCloseConfirmationDialog:false});};o.prototype.$PagesMessengerNewThreadDialog7=function(){'use strict';this.$PagesMessengerNewThreadDialog6();this.props.onHide();this.$PagesMessengerNewThreadDialog4('confirm_close');};o.prototype.$PagesMessengerNewThreadDialog8=function(){'use strict';this.setState({showCloseConfirmationDialog:false});};o.prototype.$PagesMessengerNewThreadDialog9=function(p,event){'use strict';if(c('Event').getKeyCode(event)===c('Keys').ESC)setTimeout(this.$PagesMessengerNewThreadDialog5.bind(this),0);};o.prototype.$PagesMessengerNewThreadDialog10=function(event){'use strict';if(c('Event').getKeyCode(event)===c('Keys').ESC)setTimeout(this.$PagesMessengerNewThreadDialog5.bind(this),0);};o.prototype.$PagesMessengerNewThreadDialog11=function(p){'use strict';if(!p&&this.props.shown)this.$PagesMessengerNewThreadDialog5();};o.prototype.subscribeEvents=function(){'use strict';if(this.refs.newPageMessageDialog&&!this.$PagesMessengerNewThreadDialog2){this.refs.newPageMessageDialog.layerSubscribe('key',this.$PagesMessengerNewThreadDialog9.bind(this));this.$PagesMessengerNewThreadDialog2=true;}};o.prototype.loadPageName=function(){'use strict';if(!this.$PagesMessengerNewThreadDialog1){this.$PagesMessengerNewThreadDialog1=true;c('MercuryParticipants').get(c('MercuryIDs').getParticipantIDFromUserID(this.props.pageID),function(p){this.setState({pageName:p.name});}.bind(this));}};o.prototype.componentDidUpdate=function(p,q){'use strict';if(!this.props.shown)return;this.subscribeEvents();this.loadPageName();if(!this.refs.pageTypeahead)return;var r=this.refs.pageTypeahead.getTextFieldDOM();r.style.border='0px';r.style.fontSize='14px';r.style.lineHeight='14px';if(this.props.shown&&!p.shown)this.refs.pageTypeahead.focusInput();};o.prototype.renderFrom=function(){'use strict';return (c('React').createElement('div',{className:"_1vwk"},i._("De: {pageName}",[i.param('pageName',this.state.pageName)])));};o.prototype.renderSelectedResult=function(){'use strict';if(!this.state.selectedItem)return null;return (c('React').createElement('span',{className:"_31d6"},c('React').createElement(c('XUITokenizerRichToken.react'),{entry:this.state.selectedItem,highlighted:false,label:this.state.selectedItem.getTitle(),onRemove:this.$PagesMessengerNewThreadDialog12.bind(this)})));};o.prototype.renderTypeahead=function(){'use strict';if(this.state.selectedItem)return null;return (c('React').createElement(c('XUITypeahead.react'),{className:(!this.state.selectedItem?"_1vwn":'')+(this.state.selectedItem?' '+"_29ez":'')+(' '+"_2pir"),clearable:!!this.state.selectedItem,highlightOnSelect:true,onChange:this.$PagesMessengerNewThreadDialog13.bind(this),onClear:this.$PagesMessengerNewThreadDialog12.bind(this),onSelectAttempt:this.$PagesMessengerNewThreadDialog14.bind(this),queryString:this.state.query,ref:'pageTypeahead',searchSource:this.$PagesMessengerNewThreadDialog3,selectedEntry:this.state.selectedItem,showPhoto:!!this.state.selectedItem,tallInput:false,viewStyle:'rich',xuiError:this.state.typeaheadErrorMessage}));};o.prototype.renderTo=function(){'use strict';return (c('React').createElement('div',{className:"_1vwl"},c('React').createElement('span',{className:"_1vwm"},i._("Para:")),this.renderSelectedResult(),this.renderTypeahead(),c('React').createElement('span',{className:"_2f3y"},i._("Solo p\u00e1ginas"))));};o.prototype.$PagesMessengerNewThreadDialog14=function(p){'use strict';this.refs.newThreadComposer.focusInput();this.setState({typeaheadErrorMessage:null,query:p.getTitle(),selectedItem:p});c('PagesEventObserver').notify(c('PagesEventType').MESSAGES_PAGE_MESSAGE_DIALOG_CHOOSE_RECIPIENT,this.props.pageID,{flowID:this.props.flowID,recipient:p.getUniqueID()});};o.prototype.$PagesMessengerNewThreadDialog13=function(event){'use strict';this.setState({typeaheadErrorMessage:null,query:event.target.value,selectedItem:null});};o.prototype.$PagesMessengerNewThreadDialog12=function(){'use strict';this.setState({typeaheadErrorMessage:null,query:'',selectedItem:null});setTimeout(function(){this.refs.pageTypeahead.focusInput();}.bind(this),0);};o.prototype.$PagesMessengerNewThreadDialog15=function(){'use strict';setTimeout(this.$PagesMessengerNewThreadDialog5.bind(this),0);};o.prototype.$PagesMessengerNewThreadDialog16=function(){'use strict';if(!this.state.selectedItem||this.state.selectedItem.getUniqueID().length==0){var p=i._("Elige una p\u00e1gina para recibir el mensaje");this.refs.pageTypeahead.focusInput();this.setState({typeaheadErrorMessage:p});return false;}c('PagesEventObserver').notify(c('PagesEventType').MESSAGES_PAGE_MESSAGE_DIALOG_SEND,this.props.pageID,{flowID:this.props.flowID,recipient:this.state.selectedItem.getUniqueID()});return true;};o.prototype.renderAttachmentShelf=function(){'use strict';return (c('React').createElement('div',{ref:'newThreadAttachmentsShelf',className:"_jz4"}));};o.prototype.renderComposer=function(){'use strict';var p=this.state.selectedItem?this.state.selectedItem.getUniqueID():'',q='user:'+p;return (c('React').createElement(c('PagesMessengerSimpleMultilineComposer.react'),{afterSend:this.$PagesMessengerNewThreadDialog15.bind(this),allowSend:this.$PagesMessengerNewThreadDialog16.bind(this),destinationID:p,onKeyUp:this.$PagesMessengerNewThreadDialog10.bind(this),ref:'newThreadComposer',sourceID:this.props.pageID,threadID:q}));};o.prototype.componentWillReceiveProps=function(p){'use strict';if(!this.state.initDialog&&p.shown)this.setState({initDialog:true});};o.prototype.renderCloseConfirmationDialog=function(){'use strict';if(!this.state.showCloseConfirmationDialog)return null;return (c('React').createElement(c('PagesMessengerConfirmCloseThreadDialog.react'),{shown:this.state.showCloseConfirmationDialog,onCancel:this.$PagesMessengerNewThreadDialog8.bind(this),onConfirm:this.$PagesMessengerNewThreadDialog7.bind(this)}));};o.prototype.render=function(){'use strict';if(!this.state.initDialog)return null;return (c('React').createElement('div',null,c('React').createElement(c('XUIDialog.react'),{layerHideOnBlur:false,ref:'newPageMessageDialog',shown:this.props.shown,onToggle:this.$PagesMessengerNewThreadDialog11.bind(this),width:m,height:n},c('React').createElement(c('XUIDialogTitle.react'),{className:"_2ga7"},i._("Nuevo mensaje a una p\u00e1gina")),c('React').createElement(c('XUIDialogBody.react'),{className:"_1vwv"},this.renderFrom(),this.renderTo(),this.renderAttachmentShelf(),this.renderComposer())),this.renderCloseConfirmationDialog()));};o.propTypes={flowID:l.string,onHide:l.func.isRequired,shown:l.bool.isRequired,pageID:l.string.isRequired};f.exports=o;},null);
__d('PagesMessengerMessagePageButton.react',['ix','cx','Image.react','PagesEventObserver','PagesEventType','PagesMessengerNewThreadDialog.react','React','XUIButton.react','fbglyph'],function a(b,c,d,e,f,g,h,i){var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;m.getButtonSize=function(n){'use strict';return n.size||'medium';};function m(n){'use strict';k.constructor.call(this,n);this.state={showDialog:false};}m.prototype.$PagesMessengerMessagePageButton1=function(){'use strict';this.setState({showDialog:false});};m.prototype.$PagesMessengerMessagePageButton2=function(){'use strict';if(this.state.showDialog)return;this.setState({showDialog:true});c('PagesEventObserver').notify(c('PagesEventType').MESSAGES_OPEN_PAGE_MESSAGE_DIALOG,this.props.pageID,{flowID:this.props.flowID});};m.prototype.render=function(){'use strict';return (c('React').createElement('span',{className:!this.props.pagesCommNewMessagesTab?"_3-9a":''},c('React').createElement(c('XUIButton.react'),{className:this.props.pagesCommNewMessagesTab?"_3kr2":'',image:c('React').createElement(c('Image.react'),{src:h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/plus_16_bluegray-40.png")}),label:'Message Page',onClick:this.$PagesMessengerMessagePageButton2.bind(this),size:this.props.size}),c('React').createElement(c('PagesMessengerNewThreadDialog.react'),{flowID:this.props.flowID,shown:this.state.showDialog,onHide:this.$PagesMessengerMessagePageButton1.bind(this),pageID:this.props.pageID})));};m.propTypes={flowID:l.string,pageID:l.string.isRequired,pagesCommNewMessagesTab:l.bool};f.exports=m;},null);
__d('ChatShareLinkUploader',['AsyncRequest','CSS','DOM','URLScraper','MercuryShareLinkUploader','MercuryAttachmentTemplates','Event'],function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('MercuryShareLinkUploader'));i=h&&h.prototype;j.prototype.__initialize=function(k,l,m,n,o){'use strict';this.$ChatShareLinkUploader1=k;this.$ChatShareLinkUploader2=l;this.$ChatShareLinkUploader3=m;this.$ChatShareLinkUploader4=false;this.$ChatShareLinkUploader5=null;this.$ChatShareLinkUploader6=n;this.$ChatShareLinkUploader7=o;this.$ChatShareLinkUploader8=false;c('Event').listen(l,'keyup',function(){!this.getInputValue().length&&this.$ChatShareLinkUploader9.enable();}.bind(this));this.$ChatShareLinkUploader9=new (c('URLScraper'))(l,n);this.$ChatShareLinkUploader9.subscribe('match',function(p,q){this.loadShare(q&&q.url);}.bind(this));this.$ChatShareLinkUploader10=1337;this.$ChatShareLinkUploader11=null;};j.prototype.getInputValue=function(){'use strict';return this.$ChatShareLinkUploader6?this.$ChatShareLinkUploader6():this.$ChatShareLinkUploader2.value;};j.prototype.getAttachData=function(){'use strict';return this.loadAttachData(this.$ChatShareLinkUploader4,this.$ChatShareLinkUploader1,this.$ChatShareLinkUploader2,this.$ChatShareLinkUploader6);};j.prototype.getShareData=function(){'use strict';if(!this.$ChatShareLinkUploader4)return null;return this.getShareDataFromStage(this.$ChatShareLinkUploader4,this.$ChatShareLinkUploader1);};j.prototype.close=function(){'use strict';this.$ChatShareLinkUploader12();this.$ChatShareLinkUploader9.disable();this.inform('closed');};j.prototype.clear=function(){'use strict';this.$ChatShareLinkUploader12();this.$ChatShareLinkUploader9.enable();};j.prototype.$ChatShareLinkUploader12=function(){'use strict';var k=this.$ChatShareLinkUploader11;delete this.$ChatShareLinkUploader11;if(k){c('DOM').remove(k);this.inform('dom-updated');}this.$ChatShareLinkUploader13();this.$ChatShareLinkUploader4=false;this.$ChatShareLinkUploader8=false;this.$ChatShareLinkUploader5&&this.$ChatShareLinkUploader5.abort();this.$ChatShareLinkUploader5=null;this.$ChatShareLinkUploader9&&this.$ChatShareLinkUploader9.reset();};j.prototype.loadShareFromParams=function(k,l){'use strict';this.$ChatShareLinkUploader8=true;this.$ChatShareLinkUploader14(new (c('AsyncRequest'))().setMethod('POST').setURI('/ajax/share_params.php').setData({chat:true,share_type:k,share_params:l}));};j.prototype.loadShare=function(k,l){'use strict';this.$ChatShareLinkUploader14(new (c('AsyncRequest'))().setMethod('POST').setURI('/ajax/share_scrape.php').setData({chat:true,extra_params:JSON.stringify(l),u:k}),k);};j.prototype.loadedFromFeed=function(){'use strict';return this.$ChatShareLinkUploader8;};j.prototype.$ChatShareLinkUploader13=function(){'use strict';return ++this.$ChatShareLinkUploader10;};j.prototype.$ChatShareLinkUploader15=function(){'use strict';return this.$ChatShareLinkUploader10;};j.prototype.$ChatShareLinkUploader14=function(k,l){'use strict';this.$ChatShareLinkUploader5&&this.$ChatShareLinkUploader5.abort();var m=c('MercuryAttachmentTemplates')[':fb:mercury:share-link-row'].build();if(this.$ChatShareLinkUploader11)c('DOM').remove(this.$ChatShareLinkUploader11);this.$ChatShareLinkUploader11=m.getRoot();c('Event').listen(m.getNode('closeFileUpload'),'click',function(event){this.close();event.kill();}.bind(this));c('DOM').appendContent(this.$ChatShareLinkUploader1,this.$ChatShareLinkUploader11);c('CSS').show(this.$ChatShareLinkUploader1);this.inform('dom-updated');var n=this.$ChatShareLinkUploader13();this.$ChatShareLinkUploader5=k.setHandler(function(o){return this.$ChatShareLinkUploader16(n,o,l);}.bind(this));this.$ChatShareLinkUploader5.send();this.inform('link-detected');};j.prototype.$ChatShareLinkUploader16=function(k,l,m){'use strict';if(this.$ChatShareLinkUploader15()!==k)return;this.$ChatShareLinkUploader5=null;c('DOM').appendContent(this.$ChatShareLinkUploader11,l.payload);this.$ChatShareLinkUploader3();this.$ChatShareLinkUploader4=true;this.inform('share-loaded');if(!this.getAttachData()){this.close();if(m&&this.getInputValue().indexOf(m)===-1)this.$ChatShareLinkUploader7(m);return;}c('CSS').addClass(this.$ChatShareLinkUploader11,'done');};function j(){'use strict';h.apply(this,arguments);}f.exports=j;},null);
__d('PagesMessengerShareLinkUploader',['ChatShareLinkUploader','emptyFunction','SubscriptionsHandler'],function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('ChatShareLinkUploader'));i=h&&h.prototype;function j(k,l,m,n){'use strict';i.constructor.call(this,k,l,c('emptyFunction'));this.$PagesMessengerShareLinkUploader1=new (c('SubscriptionsHandler'))();this.$PagesMessengerShareLinkUploader1.addSubscriptions(this.subscribe(['all-uploads-completed','upload-canceled'],m),this.subscribe('submit',n));}j.prototype.destroy=function(){'use strict';this.$PagesMessengerShareLinkUploader1&&this.$PagesMessengerShareLinkUploader1.release();};f.exports=j;},null);
__d("XPagesMessagingSuggestedResponseController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/messaging\/suggestedresponse\/",{});},null);
__d("XPagesMessagingSuggestedResponseFeedbackController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/messaging\/suggestedresponse\/feedback\/",{});},null);
__d('PagesMessageSuggestedResponseHandler',['invariant','ActorURI','AsyncRequest','XPagesMessagingSuggestedResponseController','XPagesMessagingSuggestedResponseFeedbackController','isEmpty'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(j,k){'use strict';this.$PagesMessageSuggestedResponseHandler2=j;this.$PagesMessageSuggestedResponseHandler1=k;this.$PagesMessageSuggestedResponseHandler3=false;this.$PagesMessageSuggestedResponseHandler5=false;}i.prototype.requestSuggestedResponseAsync=function(j,k){'use strict';this.$PagesMessageSuggestedResponseHandler3=true;var l=c('XPagesMessagingSuggestedResponseController').getURIBuilder().getURI();new (c('AsyncRequest'))().setURI(c('ActorURI').create(l,this.$PagesMessageSuggestedResponseHandler1)).setData({message:this.$PagesMessageSuggestedResponseHandler2.body}).setMethod('POST').setHandler(function(m){return this.$PagesMessageSuggestedResponseHandler6(m.payload,j);}.bind(this)).setErrorHandler(k).send();};i.prototype.sendFeedback=function(j){'use strict';!this.hasReceviedSuggestedResponse()?h(0):undefined;var k=c('XPagesMessagingSuggestedResponseFeedbackController').getURIBuilder().getURI();new (c('AsyncRequest'))().setURI(c('ActorURI').create(k,this.$PagesMessageSuggestedResponseHandler1)).setMethod('POST').setData({message_id:this.$PagesMessageSuggestedResponseHandler4,accepted:j}).send();};i.prototype.$PagesMessageSuggestedResponseHandler6=function(j,k){'use strict';if(j.messageFound)this.$PagesMessageSuggestedResponseHandler4=j.messageID;k(this.$PagesMessageSuggestedResponseHandler2.message_id,j);};i.prototype.shouldBeTreatedAsRejected=function(){'use strict';return !this.getHasBeenAccepted()&&this.hasReceviedSuggestedResponse();};i.prototype.hasReceviedSuggestedResponse=function(){'use strict';return !c('isEmpty')(this.$PagesMessageSuggestedResponseHandler4);};i.prototype.alreadyRequested=function(){'use strict';return this.$PagesMessageSuggestedResponseHandler3;};i.prototype.getMessageID=function(){'use strict';return this.$PagesMessageSuggestedResponseHandler2.message_id;};i.prototype.getHasBeenAccepted=function(){'use strict';return this.$PagesMessageSuggestedResponseHandler5;};f.exports=i;},null);
__d('PagesMessengerSuggestedResponseView.react',['cx','fbt','LoadingIndicator.react','PagesMessageSuggestedResponseHandler','React','XUIGrayText.react','XUIButton.react'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=c('React').createClass({displayName:'PagesMessengerSuggestedResponseView',propTypes:{onAccepted:j.func.isRequired,onDeclined:j.func,suggestedResponseHandler:j.instanceOf(c('PagesMessageSuggestedResponseHandler'))},getInitialState:function(){return {shouldShowResult:false,shouldShowProgress:false,responseMessage:"",witMessageId:""};},_reset:function(){this.setState(this.getInitialState());},componentWillReceiveProps:function(l){if(l.suggestedResponseHandler!==this.props.suggestedResponseHandler){this._reset();var m=l.suggestedResponseHandler;if(!m||m.alreadyRequested())return;this.setState({shouldShowProgress:true});m.requestSuggestedResponseAsync(this._onSuggestedResponseReceived,this._onSuggestedResponseError);}},_onSuggestedResponseReceived:function(l,m){if(!this._isMessageIDCurrent(l))return;this.setState({shouldShowProgress:false});if(!!m.responseMessage&&m.responseMessage.length>0)this.setState({shouldShowResult:true,responseMessage:m.responseMessage,witMessageId:m.message_id});},_onSuggestedResponseError:function(l){if(!this._isMessageIDCurrent(l))return;this.setState({shouldShowProgress:false,shouldShowResult:false});},_isMessageIDCurrent:function(l){return !!this.props.suggestedResponseHandler&&l===this.props.suggestedResponseHandler.getMessageID();},render:function(){return (c('React').createElement('div',{className:"_710"+(' '+"_2ph-")+(!this.state.shouldShowResult&&!this.state.shouldShowProgress?' '+"hidden_elem":'')},this._renderProgressPart(),this._renderSuggestionPart()));},_renderSuggestionPart:function(){return (c('React').createElement('div',{className:!this.state.shouldShowResult?"hidden_elem":''},c('React').createElement('div',{className:"_3-94"},c('React').createElement(c('XUIGrayText.react'),{shade:'light'},i._("We found a suggested reply:"))),c('React').createElement('div',{className:"_3-94"},c('React').createElement(c('XUIGrayText.react'),{shade:'dark',className:"_711"},this.state.responseMessage)),c('React').createElement('div',{className:"_712"},c('React').createElement(c('XUIGrayText.react'),{shade:'light',className:"_3-90"},i._("Do you want to use this reply?")),c('React').createElement(c('XUIButton.react'),{label:i._("No"),use:'default',className:"_3-8_",onClick:this._onDeclined}),c('React').createElement(c('XUIButton.react'),{label:i._("Yes"),use:'confirm',onClick:this._onAccepted}))));},_renderProgressPart:function(){return (c('React').createElement('div',{className:(!this.state.shouldShowProgress?"hidden_elem":'')+(' '+"_71d")},c('React').createElement(c('XUIGrayText.react'),{shade:'light'},i._("Looking for suggested responses")),c('React').createElement(c('LoadingIndicator.react'),{size:'small',color:'white',className:"_3-9a"})));},_hide:function(){this.setState({shouldShowResult:false,shouldShowProgress:false});},_onAccepted:function(){this._hide();this.props.suggestedResponseHandler&&this.props.suggestedResponseHandler.sendFeedback(true);this.props.onAccepted&&this.props.onAccepted(this.state.responseMessage);},_onDeclined:function(){this._hide();this.props.suggestedResponseHandler&&this.props.suggestedResponseHandler.sendFeedback(false);this.props.onDeclined&&this.props.onDeclined();}});f.exports=k;},null);
__d('PageCustomTagSearchableEntry',['SearchableEntry'],function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('SearchableEntry'));i=h&&h.prototype;function j(k){'use strict';i.constructor.call(this,{uniqueID:k.id,title:k.name});this.$PageCustomTagSearchableEntry1=k;}j.prototype.getColor=function(){'use strict';return '#'+this.$PageCustomTagSearchableEntry1.color.substring(2);};j.prototype.getBorderColor=function(){'use strict';return '#'+this.$PageCustomTagSearchableEntry1.borderColor.substring(2);};j.prototype.getFillColor=function(){'use strict';return '#'+this.$PageCustomTagSearchableEntry1.fillColor.substring(2);};j.prototype.getData=function(){'use strict';return this.$PageCustomTagSearchableEntry1;};f.exports=j;},null);
__d('PageCustomTagSearchSource',['AbstractSearchSource','PageCustomTagSearchableEntry'],function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();var j=3,k=[];h=babelHelpers.inherits(l,c('AbstractSearchSource'));i=h&&h.prototype;l.getInstance=function(m,n){'use strict';var o=n?1:0;k.forEach(function(p){p.setAvailableTags(m);});if(!k[o])k[o]=new l(m,n);return k[o];};function l(m,n){'use strict';i.constructor.call(this);var o=n?1:0;if(!(k[o])){this.setAvailableTags(m);this.setShowQueryAsEntry(n);}}l.prototype.setAvailableTags=function(m){'use strict';this.$PageCustomTagSearchSource1=m;};l.prototype.setShowQueryAsEntry=function(m){'use strict';this.$PageCustomTagSearchSource2=m;};l.prototype.searchImpl=function(m,n,o){'use strict';var p=[],q=false;if(m){var r=m.toLowerCase();this.$PageCustomTagSearchSource1.forEach(function(u){if(u.name.toLowerCase().indexOf(r)!==-1)p.push(u);if(m===u.name)q=true;});}else p=this.$PageCustomTagSearchSource1.slice(0,j);var s=[],t=0;if(m&&!q&&this.$PageCustomTagSearchSource2)s.push(new (c('PageCustomTagSearchableEntry'))({id:0,color:'',borderColor:'',fillColor:'',name:m}));p.forEach(function(u){s.push(new (c('PageCustomTagSearchableEntry'))(u));});n(s,m);};f.exports=l;},null);
__d('PageCustomTagTypeaheadPresenter.react',['cx','ContextualLayerUpdateOnScroll','PageCustomTagSearchableEntry','React','XUITypeaheadViewItem.react','emptyFunction'],function a(b,c,d,e,f,g,h){var i,j,k,l,m,n;if(c.__markCompiled)c.__markCompiled();i=babelHelpers.inherits(o,c('React').Component);j=i&&i.prototype;o.prototype.render=function(){'use strict';var s=this.props.entry,t="_599m"+(this.props.highlighted?' '+"_599n":''),u=this.props.searchBar?{}:{color:s.getColor()};return (c('React').createElement('li',{'aria-selected':this.props.highlighted,className:t,key:s.getUniqueID(),onMouseDown:function(v){return this.props.onSelect(s,v);}.bind(this),onMouseEnter:function(){return this.props.onHighlight(s);}.bind(this)},c('React').createElement('div',{className:"_599p",style:u},s.getTitle())));};function o(){'use strict';i.apply(this,arguments);}k=babelHelpers.inherits(p,c('React').Component);l=k&&k.prototype;p.prototype.$PageCustomTagsRenderer1=function(s){'use strict';return (c('React').createElement(o,{entry:s,key:s.getUniqueID(),highlighted:s===this.props.highlightedEntry,onHighlight:this.props.onHighlight,onRenderHighlight:this.props.onRenderHighlight,onSelect:this.props.onSelect,searchBar:this.props.searchBar}));};p.prototype.render=function(){'use strict';var s=(!this.props.searchBar?"_599r":'')+(!this.props.entries.length?' '+"_599s":'');return (c('React').createElement('ul',{className:s,onMouseLeave:function(){return this.props.removeHighlight();}.bind(this)},this.props.entries.map(function(t){return this.$PageCustomTagsRenderer1(t);}.bind(this))));};function p(){'use strict';k.apply(this,arguments);}m=babelHelpers.inherits(q,c('React').Component);n=m&&m.prototype;q.prototype.render=function(){'use strict';var s=this.props.entry;return (c('React').createElement('span',{className:"_4n1-",style:{color:s.getColor()}},s.getTitle()));};function q(){'use strict';m.apply(this,arguments);}var r={useLayer:true,layerBehaviors:{ContextualLayerUpdateOnScroll:c('ContextualLayerUpdateOnScroll')},ViewRenderer:p,TokenRenderer:q};p.defaultProps={removeHighlight:c('emptyFunction'),searchBar:false};f.exports=r;},null);
__d('PagesContextCardCustomTag.react',['cx','Image.react','React','XUICard.react'],function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;function k(l){j.constructor.call(this,l);this.state={removed:false};this.$PagesContextCardCustomTag1=this.$PagesContextCardCustomTag1.bind(this);this.$PagesContextCardCustomTag2=this.$PagesContextCardCustomTag2.bind(this);}k.prototype.$PagesContextCardCustomTag1=function(){if(this.props.onClick)this.props.onClick(this.props.tagData);};k.prototype.$PagesContextCardCustomTag2=function(){if(this.props.hideOnRemove)this.setState({removed:true});if(this.props.onRemove)this.props.onRemove(this.props.tagData.name);};k.prototype.render=function(){if(this.props.hideOnRemove&&this.state.removed)return null;var l=this.props.tagData,m='/images/pages/context_card/cross/cross_'+l.borderColor+'.png';return (c('React').createElement(c('XUICard.react'),{className:"_1pbr"+(this.props.onClick?' '+"_2rj2":''),style:{backgroundColor:'#'+l.fillColor.substring(2),borderColor:'#'+l.borderColor.substring(2),color:'#'+l.color.substring(2)},key:l.id,onClick:this.$PagesContextCardCustomTag1},c('React').createElement('span',{className:"_2pih"},l.name),this.props.canRemove?c('React').createElement(c('Image.react'),{className:"_2rj2",src:m,onClick:this.$PagesContextCardCustomTag2,height:8,width:8}):null));};f.exports=k;},null);
__d('PagesContextCardCustomTagsBlock.react',['cx','fbt','PagesContextCardCustomTag.react','React'],function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;function l(m){k.constructor.call(this,m);}l.prototype.render=function(){if(!this.props.customTags||this.props.customTags.length===0)return (c('React').createElement('div',{className:"_5unn"},i._("Add labels to help manage your conversations. Only admins can see labels.")));return (c('React').createElement('div',{className:"_3774"},this.props.customTags.map(function(m){return (c('React').createElement(c('PagesContextCardCustomTag.react'),{canRemove:this.props.canRemove,hideOnRemove:true,key:m.id,onRemove:this.props.onRemove,tagData:m}));}.bind(this))));};f.exports=l;},null);
__d('PagesManagerMessagingNavigationUnitKey',['MercuryFilters','MessagingTag','PageMessageEnumTag'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={FILTERS:{ALL:c('MercuryFilters').ALL,UNREAD:c('MercuryFilters').UNREAD,FLAGGED:c('PageMessageEnumTag').FLAG},FOLDERS:{INBOX:c('MessagingTag').INBOX,ARCHIVED:c('MessagingTag').ACTION_ARCHIVED,SPAM:c('MessagingTag').SPAM}};f.exports=h;},null);
__d('PagesEnumTag.react',['PagesContextCardCustomTag.react','React','PagesManagerMessagingNavigationUnitKey'],function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;function j(k){'use strict';i.constructor.call(this,k);this.$PagesEnumTag1=this.$PagesEnumTag1.bind(this);this.$PagesEnumTag2=this.$PagesEnumTag2.bind(this);}j.prototype.getTagData=function(){'use strict';var k={};if(this.props.unit.getKey()===c('PagesManagerMessagingNavigationUnitKey').FILTERS.FLAGGED){k.borderColor='FFFB9240';k.color='FFFB9240';k.fillColor='FFFFF4EC';k.id=0;}k.name=this.props.unit.getDisplayTitle();return k;};j.prototype.$PagesEnumTag1=function(){'use strict';if(this.props.onClick)this.props.onClick(this.props.unit);};j.prototype.$PagesEnumTag2=function(){'use strict';if(this.props.onRemove)this.props.onRemove();};j.prototype.render=function(){'use strict';var k=this.getTagData();return (c('React').createElement(c('PagesContextCardCustomTag.react'),{canRemove:this.props.canRemove,key:k.id,onClick:this.$PagesEnumTag1,onRemove:this.$PagesEnumTag2,tagData:k}));};f.exports=j;},null);
__d('PagesManagerPerfTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(){this.clear();}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:PagesManagerPerfLoggerConfig',this.$PagesManagerPerfTypedLogger1,c('Banzai').BASIC);};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:PagesManagerPerfLoggerConfig',this.$PagesManagerPerfTypedLogger1,c('Banzai').VITAL);};h.prototype.clear=function(){this.$PagesManagerPerfTypedLogger1={};return this;};h.prototype.updateData=function(j){this.$PagesManagerPerfTypedLogger1=babelHelpers['extends']({},this.$PagesManagerPerfTypedLogger1,j);return this;};h.prototype.setEventName=function(j){this.$PagesManagerPerfTypedLogger1.event_name=j;return this;};h.prototype.setEventSeriesID=function(j){this.$PagesManagerPerfTypedLogger1.event_series_id=j;return this;};h.prototype.setPageID=function(j){this.$PagesManagerPerfTypedLogger1.page_id=j;return this;};h.prototype.setPerfTime=function(j){this.$PagesManagerPerfTypedLogger1.perf_time=j;return this;};h.prototype.setVC=function(j){this.$PagesManagerPerfTypedLogger1.vc=j;return this;};var i={event_name:true,event_series_id:true,page_id:true,perf_time:true,vc:true};f.exports=h;},null);
__d('MercuryPageThreadActions',['MercuryActionType','MercuryPayloadSource','MercurySingletonMixin','MercuryThreadActions'],function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('MercuryThreadActions'));i=h&&h.prototype;function j(k){'use strict';i.constructor.call(this,k);}j.prototype.addFlag=function(k,l){'use strict';this.batchFlag([k],l);};j.prototype.batchAddFlag=function(k,l){'use strict';k.forEach(function(m){this.__serverRequests.addThreadFlag(m,l);}.bind(this));this.__dispatcher.handleUpdate(this.$MercuryPageThreadActions1(k,true,l));};j.prototype.removeFlag=function(k,l){'use strict';this.batchRemoveFlag([k],l);};j.prototype.batchRemoveFlag=function(k,l){'use strict';k.forEach(function(m){this.__serverRequests.removeThreadFlag(m,l);}.bind(this));this.__dispatcher.handleUpdate(this.$MercuryPageThreadActions1(k,false,l));};j.prototype.$MercuryPageThreadActions1=function(k,l,m){'use strict';return this.__constructClientPayload(k,c('MercuryActionType').CHANGE_FLAG,c('MercuryPayloadSource').CLIENT_CHANGE_FLAG,{mark_as_flag:l,source:m});};Object.assign(j,c('MercurySingletonMixin'),{_instances:{}});f.exports=j;},null);
__d('MessengerErrorAttachment.react',['cx','React'],function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;function k(l){j.constructor.call(this,l);}k.prototype.render=function(){return (c('React').createElement('div',{className:"_1o12 _52mr"},c('React').createElement('div',{className:"_1o13"},this.props.attachment.error_msg)));};f.exports=k;},null);
__d('MessengerFileAttachment.react',['cx','Link.react','ReactComponentWithPureRenderMixin','React'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'MessengerFileAttachment',mixins:[c('ReactComponentWithPureRenderMixin')],propTypes:{attachment:i.object.isRequired},render:function(){return (c('React').createElement(c('Link.react'),{className:"_4pcn _2uf4",target:'_blank',href:this.props.attachment.url},c('React').createElement('div',{className:"_2uf5"}),this.props.attachment.name));}});f.exports=j;},null);
__d('MessengerPhoto.react',['cx','Image.react','MercuryAttachmentType','React','URI','joinClasses'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=206,k=450;function l(p){if(p.metadata){if(p.attach_type===c('MercuryAttachmentType').VIDEO)return p.metadata.inbox_preview;return new (c('URI'))('/ajax/mercury/attachments/photo.php').addQueryData({fbid:p.metadata.fbid,height:j,mode:'cover',request_user_id:p.metadata.pageid,width:j}).toString();}return null;}function m(p){if(p.preview_uploading)return {height:p.preview_height||j,src:p.preview_url,width:p.preview_width||j};var q=l(p);if(q)return babelHelpers['extends']({src:q},p.metadata.inbox_size);if(p.preview_url)return {height:p.preview_height,src:p.preview_url,width:p.preview_width};if(p.media)return p.media.playable&&p.media.animated_image?babelHelpers['extends']({},p.media.animated_image_size,{src:p.media.animated_image}):babelHelpers['extends']({},p.media.image_size,{src:p.media.image});}function n(p,q){if(p.preview_uploading)return p.preview_url?0:j;var r=p.media?m(p):{height:p.preview_height,width:p.preview_width};return Math.min(r.height*Math.min(1,k/r.width),k);}var o=c('React').createClass({displayName:'MessengerPhoto',contextTypes:{width:i.number},propTypes:{attachment:i.object.isRequired,isSingle:i.bool.isRequired,onClick:i.func},render:function(){var p=this.props.attachment,q=m(p);if(!q)return null;var r=this._getImageFromMetadata(q),s={};if(q.src)s.backgroundImage='url('+q.src+')';if(this.props.isSingle){var t=n(p,this.context);if(t)s.minHeight=t;}var u=!!this.props.attachment.app_attribution;return (c('React').createElement('div',{className:c('joinClasses')(this.props.className,"_4tsk"+(u?' '+"_mxz":'')+(this.props.isSingle&&!u?' '+"_52mr":'')+(p.preview_uploading&&!q.src?' '+"_3etv":'')),style:s,onClick:this._onClick},r,c('React').createElement('a',{className:"_4tsl",href:q.src},this.props.children)));},_onClick:function(p){p.preventDefault();if(this.props.onClick)this.props.onClick(this.props.attachment);},_getImageFromMetadata:function(p){if(this.props.attachment.preview_uploading&&!p.src)return null;if(this.props.isSingle)return c('React').createElement(c('Image.react'),{alt:'',src:p.src});return null;}});f.exports=o;},null);
__d('MessengerVideo.react',['cx','ix','Image.react','MessengerPhoto.react','ReactComponentWithPureRenderMixin','React','joinClasses'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=c('React').createClass({displayName:'MessengerVideo',mixins:[c('ReactComponentWithPureRenderMixin')],propTypes:{attachment:j.object.isRequired,isSingle:j.bool.isRequired,onClick:j.func},render:function(){return (c('React').createElement(c('MessengerPhoto.react'),babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,"_ccq")}),c('React').createElement(c('Image.react'),{className:"_ccr",src:i('/images/chat/chat_play_icon.png')}),c('React').createElement('span',{className:"_ccs"},this._getDuration())));},_getDuration:function(){var l;if(!!this.props.attachment.metadata){l=this.props.attachment.metadata.duration;}else if(!!this.props.attachment.media)l=this.props.attachment.media.duration;return !!l?this._formatDuration(l):null;},_formatDuration:function(l){var m=l%60;return Math.floor(l/60)+':'+(m<10?'0':'')+m;}});f.exports=k;},null);
__d('MessengerPhotosGroup.react',['cx','ChatSpeakingSticker.react','MercuryAttachmentType','MessagingGiftWrap.react','MessengerPhoto.react','MessengerVideo.react','MessagesViewer','ReactComponentWithPureRenderMixin','React','Vector','joinClasses'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i='empty-spacer',j=c('React').PropTypes,k=c('React').createClass({displayName:'MessengerPhotosGroup',mixins:[c('ReactComponentWithPureRenderMixin')],propTypes:{attachType:j.string,attachments:j.arrayOf(j.object).isRequired,isGiftWrapped:j.bool,message:j.object,onUnwrap:j.func},componentDidMount:function(){c('MessagesViewer').preload();},render:function(){var l=this.props.attachments,m=this._rowsFor(l);if(this.props.isGiftWrapped)m=c('React').createElement('div',null,m);return (c('React').createElement('div',babelHelpers['extends']({},this.props,{className:this._getRootClassNameFor(l)}),m,this.props.isGiftWrapped?c('React').createElement(c('MessagingGiftWrap.react'),{onUnwrap:this.props.onUnwrap}):null));},_onChildClicked:function(l){if(l.preview_uploading)return;if(l.attach_type===c('MercuryAttachmentType').VIDEO){c('MessagesViewer').renderVideo({pageID:l.metadata.pageid,rootClassName:"_1j1h",videoID:l.metadata.fbid,videoSize:new (c('Vector'))(l.metadata.dimensions.width,l.metadata.dimensions.height),videoURI:l.url});}else if(l.attach_type===c('MercuryAttachmentType').PHOTO||l.attach_type===c('MercuryAttachmentType').THIRDPARTYSTICKER||l.attach_type===c('MercuryAttachmentType').ANIMATED_IMAGE){c('MessagesViewer').bootstrapWithConfig({actorid:l.metadata.pageid,dimensions:l.metadata.dimensions,disableForward:!!l.metadata.pageid,disablePaging:this.props.attachments.length===1,endpoint:l.url,fbid:l.metadata.fbid,rootClassName:"_1j1h",snapToPhoto:true,src:l.preview_url});}else if(l.uri)window.open(l.uri);},_rowsFor:function(l){if(l.length===1)return [this._photo(l[0],true)];var m=3;if(l.length===2||l.length===4)m=2;var n=[];for(var o=0,p=l.length;o<p;o+=m){var q=l.slice(o,o+m),r=m-q.length;while(r>0){q.push({attach_type:i,key:'ghost'+r});r--;}n.push(c('React').createElement('div',{className:"_2n8g",key:o},q.map(function(s){return this._photo(s);}.bind(this))));}return n;},_photo:function(l,m){var n;if(l.deduplication_key){n=l.deduplication_key;}else if(l.metadata){n=l.metadata.fbid;}else n=l.upload_id;var o={attachment:l,isSingle:m||false,key:n,onClick:this._onChildClicked},p=this.props.attachType||l.attach_type;switch(p){case c('MercuryAttachmentType').PHOTO:case c('MercuryAttachmentType').ANIMATED_IMAGE:case c('MercuryAttachmentType').THIRDPARTYSTICKER:return c('React').createElement(c('MessengerPhoto.react'),o);case c('MercuryAttachmentType').VIDEO:if(l.metadata&&l.metadata.render_as_sticker)return (c('React').createElement(c('ChatSpeakingSticker.react'),{videoSize:l.metadata.dimensions,videoURI:l.url}));return c('React').createElement(c('MessengerVideo.react'),o);case i:return (c('React').createElement('div',{key:l.key,className:"_4tsk _4rf-"}));default:throw l.attachType+' is not handled by MessengerPhotoGroup';}},_getRootClassNameFor:function(l){var m=l.length===2||l.length===4;return c('joinClasses')(this.props.className,"_2n8h"+(l.length===1?' '+"_2n8i":'')+(m?' '+"_4ksk":'')+(l.length>1&&!m?' '+"_2n8k":''));}});f.exports=k;},null);
__d('MessengerStickerUtils',['MercuryAttachmentType'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(k){return !!(k&&k.attach_type===c('MercuryAttachmentType').STICKER);}function i(k){var l=k.attachments;return !!(k.is_like_preview||k.sticker_id||l&&l.length===1&&h(l[0]));}function j(k){return k.size===1&&i(k.first());}f.exports={isStickerMessageGroup:j,isStickerMessage:i,isStickerAttachment:h};},null);
__d("chroma",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();(function(){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa,ra,sa,ta,ua,va,wa,xa,ya,za,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,ac,bc,cc,dc,ec,fc,gc,hc,ic=[].slice;dc=(function(){var jc,kc,lc,mc,nc;jc={};nc="Boolean Number String Function Array Date RegExp Undefined Null".split(" ");for(mc=0,kc=nc.length;mc<kc;mc++){lc=nc[mc];jc["[object "+lc+"]"]=lc.toLowerCase();}return function(oc){var pc;pc=Object.prototype.toString.call(oc);return jc[pc]||"object";};})();za=function(jc,kc,lc){if(kc==null)kc=0;if(lc==null)lc=1;if(jc<kc)jc=kc;if(jc>lc)jc=lc;return jc;};ec=function(jc){if(jc.length>=3){return [].slice.call(jc);}else return jc[0];};aa=function(jc){var kc;for(kc in jc)if(kc<3){if(jc[kc]<0)jc[kc]=0;if(jc[kc]>255)jc[kc]=255;}else if(kc===3){if(jc[kc]<0)jc[kc]=0;if(jc[kc]>1)jc[kc]=1;}return jc;};k=Math.PI,yb=Math.round,da=Math.cos,ia=Math.floor,ib=Math.pow,ab=Math.log,ac=Math.sin,bc=Math.sqrt,t=Math.atan2,db=Math.max,s=Math.abs;n=k*2;l=k/3;i=k/180;m=180/k;z=function(){if(arguments[0] instanceof h)return arguments[0];return (function(jc,kc,lc){lc.prototype=jc.prototype;var mc=new lc(),nc=jc.apply(mc,kc);return Object(nc)===nc?nc:mc;})(h,arguments,function(){});};r=[];if((typeof f!=="undefined"&&f!==null)&&(f.exports!=null))f.exports=z;if(typeof define==='function'&&define.amd){define([],function(){return z;});}else{xb=typeof g!=="undefined"&&g!==null?g:this;xb.chroma=z;}z.version='1.1.1';q={};o=[];p=false;h=(function(){function jc(){var kc,lc,mc,nc,oc,pc,qc,rc,sc;pc=this;lc=[];for(rc=0,nc=arguments.length;rc<nc;rc++){kc=arguments[rc];if(kc!=null)lc.push(kc);}qc=lc[lc.length-1];if(q[qc]!=null){pc._rgb=aa(q[qc](ec(lc.slice(0,-1))));}else{if(!p){o=o.sort(function(tc,uc){return uc.p-tc.p;});p=true;}for(sc=0,oc=o.length;sc<oc;sc++){mc=o[sc];qc=mc.test.apply(mc,lc);if(qc)break;}if(qc)pc._rgb=aa(q[qc].apply(q,lc));}pc._rgb==null;if(pc._rgb==null)pc._rgb=[0,0,0];if(pc._rgb.length===3)pc._rgb.push(1);}jc.prototype.alpha=function(kc){if(arguments.length){this._rgb[3]=kc;return this;}return this._rgb[3];};jc.prototype.toString=function(){return this.name();};return jc;})();z._input=q;z.brewer=x={OrRd:['#fff7ec','#fee8c8','#fdd49e','#fdbb84','#fc8d59','#ef6548','#d7301f','#b30000','#7f0000'],PuBu:['#fff7fb','#ece7f2','#d0d1e6','#a6bddb','#74a9cf','#3690c0','#0570b0','#045a8d','#023858'],BuPu:['#f7fcfd','#e0ecf4','#bfd3e6','#9ebcda','#8c96c6','#8c6bb1','#88419d','#810f7c','#4d004b'],Oranges:['#fff5eb','#fee6ce','#fdd0a2','#fdae6b','#fd8d3c','#f16913','#d94801','#a63603','#7f2704'],BuGn:['#f7fcfd','#e5f5f9','#ccece6','#99d8c9','#66c2a4','#41ae76','#238b45','#006d2c','#00441b'],YlOrBr:['#ffffe5','#fff7bc','#fee391','#fec44f','#fe9929','#ec7014','#cc4c02','#993404','#662506'],YlGn:['#ffffe5','#f7fcb9','#d9f0a3','#addd8e','#78c679','#41ab5d','#238443','#006837','#004529'],Reds:['#fff5f0','#fee0d2','#fcbba1','#fc9272','#fb6a4a','#ef3b2c','#cb181d','#a50f15','#67000d'],RdPu:['#fff7f3','#fde0dd','#fcc5c0','#fa9fb5','#f768a1','#dd3497','#ae017e','#7a0177','#49006a'],Greens:['#f7fcf5','#e5f5e0','#c7e9c0','#a1d99b','#74c476','#41ab5d','#238b45','#006d2c','#00441b'],YlGnBu:['#ffffd9','#edf8b1','#c7e9b4','#7fcdbb','#41b6c4','#1d91c0','#225ea8','#253494','#081d58'],Purples:['#fcfbfd','#efedf5','#dadaeb','#bcbddc','#9e9ac8','#807dba','#6a51a3','#54278f','#3f007d'],GnBu:['#f7fcf0','#e0f3db','#ccebc5','#a8ddb5','#7bccc4','#4eb3d3','#2b8cbe','#0868ac','#084081'],Greys:['#ffffff','#f0f0f0','#d9d9d9','#bdbdbd','#969696','#737373','#525252','#252525','#000000'],YlOrRd:['#ffffcc','#ffeda0','#fed976','#feb24c','#fd8d3c','#fc4e2a','#e31a1c','#bd0026','#800026'],PuRd:['#f7f4f9','#e7e1ef','#d4b9da','#c994c7','#df65b0','#e7298a','#ce1256','#980043','#67001f'],Blues:['#f7fbff','#deebf7','#c6dbef','#9ecae1','#6baed6','#4292c6','#2171b5','#08519c','#08306b'],PuBuGn:['#fff7fb','#ece2f0','#d0d1e6','#a6bddb','#67a9cf','#3690c0','#02818a','#016c59','#014636'],Spectral:['#9e0142','#d53e4f','#f46d43','#fdae61','#fee08b','#ffffbf','#e6f598','#abdda4','#66c2a5','#3288bd','#5e4fa2'],RdYlGn:['#a50026','#d73027','#f46d43','#fdae61','#fee08b','#ffffbf','#d9ef8b','#a6d96a','#66bd63','#1a9850','#006837'],RdBu:['#67001f','#b2182b','#d6604d','#f4a582','#fddbc7','#f7f7f7','#d1e5f0','#92c5de','#4393c3','#2166ac','#053061'],PiYG:['#8e0152','#c51b7d','#de77ae','#f1b6da','#fde0ef','#f7f7f7','#e6f5d0','#b8e186','#7fbc41','#4d9221','#276419'],PRGn:['#40004b','#762a83','#9970ab','#c2a5cf','#e7d4e8','#f7f7f7','#d9f0d3','#a6dba0','#5aae61','#1b7837','#00441b'],RdYlBu:['#a50026','#d73027','#f46d43','#fdae61','#fee090','#ffffbf','#e0f3f8','#abd9e9','#74add1','#4575b4','#313695'],BrBG:['#543005','#8c510a','#bf812d','#dfc27d','#f6e8c3','#f5f5f5','#c7eae5','#80cdc1','#35978f','#01665e','#003c30'],RdGy:['#67001f','#b2182b','#d6604d','#f4a582','#fddbc7','#ffffff','#e0e0e0','#bababa','#878787','#4d4d4d','#1a1a1a'],PuOr:['#7f3b08','#b35806','#e08214','#fdb863','#fee0b6','#f7f7f7','#d8daeb','#b2abd2','#8073ac','#542788','#2d004b'],Set2:['#66c2a5','#fc8d62','#8da0cb','#e78ac3','#a6d854','#ffd92f','#e5c494','#b3b3b3'],Accent:['#7fc97f','#beaed4','#fdc086','#ffff99','#386cb0','#f0027f','#bf5b17','#666666'],Set1:['#e41a1c','#377eb8','#4daf4a','#984ea3','#ff7f00','#ffff33','#a65628','#f781bf','#999999'],Set3:['#8dd3c7','#ffffb3','#bebada','#fb8072','#80b1d3','#fdb462','#b3de69','#fccde5','#d9d9d9','#bc80bd','#ccebc5','#ffed6f'],Dark2:['#1b9e77','#d95f02','#7570b3','#e7298a','#66a61e','#e6ab02','#a6761d','#666666'],Paired:['#a6cee3','#1f78b4','#b2df8a','#33a02c','#fb9a99','#e31a1c','#fdbf6f','#ff7f00','#cab2d6','#6a3d9a','#ffff99','#b15928'],Pastel2:['#b3e2cd','#fdcdac','#cbd5e8','#f4cae4','#e6f5c9','#fff2ae','#f1e2cc','#cccccc'],Pastel1:['#fbb4ae','#b3cde3','#ccebc5','#decbe4','#fed9a6','#ffffcc','#e5d8bd','#fddaec','#f2f2f2']};fc={indigo:"#4b0082",gold:"#ffd700",hotpink:"#ff69b4",firebrick:"#b22222",indianred:"#cd5c5c",yellow:"#ffff00",mistyrose:"#ffe4e1",darkolivegreen:"#556b2f",olive:"#808000",darkseagreen:"#8fbc8f",pink:"#ffc0cb",tomato:"#ff6347",lightcoral:"#f08080",orangered:"#ff4500",navajowhite:"#ffdead",lime:"#00ff00",palegreen:"#98fb98",darkslategrey:"#2f4f4f",greenyellow:"#adff2f",burlywood:"#deb887",seashell:"#fff5ee",mediumspringgreen:"#00fa9a",fuchsia:"#ff00ff",papayawhip:"#ffefd5",blanchedalmond:"#ffebcd",chartreuse:"#7fff00",dimgray:"#696969",black:"#000000",peachpuff:"#ffdab9",springgreen:"#00ff7f",aquamarine:"#7fffd4",white:"#ffffff",orange:"#ffa500",lightsalmon:"#ffa07a",darkslategray:"#2f4f4f",brown:"#a52a2a",ivory:"#fffff0",dodgerblue:"#1e90ff",peru:"#cd853f",lawngreen:"#7cfc00",chocolate:"#d2691e",crimson:"#dc143c",forestgreen:"#228b22",darkgrey:"#a9a9a9",lightseagreen:"#20b2aa",cyan:"#00ffff",mintcream:"#f5fffa",silver:"#c0c0c0",antiquewhite:"#faebd7",mediumorchid:"#ba55d3",skyblue:"#87ceeb",gray:"#808080",darkturquoise:"#00ced1",goldenrod:"#daa520",darkgreen:"#006400",floralwhite:"#fffaf0",darkviolet:"#9400d3",darkgray:"#a9a9a9",moccasin:"#ffe4b5",saddlebrown:"#8b4513",grey:"#808080",darkslateblue:"#483d8b",lightskyblue:"#87cefa",lightpink:"#ffb6c1",mediumvioletred:"#c71585",slategrey:"#708090",red:"#ff0000",deeppink:"#ff1493",limegreen:"#32cd32",darkmagenta:"#8b008b",palegoldenrod:"#eee8aa",plum:"#dda0dd",turquoise:"#40e0d0",lightgrey:"#d3d3d3",lightgoldenrodyellow:"#fafad2",darkgoldenrod:"#b8860b",lavender:"#e6e6fa",maroon:"#800000",yellowgreen:"#9acd32",sandybrown:"#f4a460",thistle:"#d8bfd8",violet:"#ee82ee",navy:"#000080",magenta:"#ff00ff",dimgrey:"#696969",tan:"#d2b48c",rosybrown:"#bc8f8f",olivedrab:"#6b8e23",blue:"#0000ff",lightblue:"#add8e6",ghostwhite:"#f8f8ff",honeydew:"#f0fff0",cornflowerblue:"#6495ed",slateblue:"#6a5acd",linen:"#faf0e6",darkblue:"#00008b",powderblue:"#b0e0e6",seagreen:"#2e8b57",darkkhaki:"#bdb76b",snow:"#fffafa",sienna:"#a0522d",mediumblue:"#0000cd",royalblue:"#4169e1",lightcyan:"#e0ffff",green:"#008000",mediumpurple:"#9370db",midnightblue:"#191970",cornsilk:"#fff8dc",paleturquoise:"#afeeee",bisque:"#ffe4c4",slategray:"#708090",darkcyan:"#008b8b",khaki:"#f0e68c",wheat:"#f5deb3",teal:"#008080",darkorchid:"#9932cc",deepskyblue:"#00bfff",salmon:"#fa8072",darkred:"#8b0000",steelblue:"#4682b4",palevioletred:"#db7093",lightslategray:"#778899",aliceblue:"#f0f8ff",lightslategrey:"#778899",lightgreen:"#90ee90",orchid:"#da70d6",gainsboro:"#dcdcdc",mediumseagreen:"#3cb371",lightgray:"#d3d3d3",mediumturquoise:"#48d1cc",lemonchiffon:"#fffacd",cadetblue:"#5f9ea0",lightyellow:"#ffffe0",lavenderblush:"#fff0f5",coral:"#ff7f50",purple:"#800080",aqua:"#00ffff",whitesmoke:"#f5f5f5",mediumslateblue:"#7b68ee",darkorange:"#ff8c00",mediumaquamarine:"#66cdaa",darksalmon:"#e9967a",beige:"#f5f5dc",blueviolet:"#8a2be2",azure:"#f0ffff",lightsteelblue:"#b0c4de",oldlace:"#fdf5e6",rebeccapurple:"#663399"};z.colors=ca=fc;ua=function(){var jc,kc,lc,mc,nc,oc,pc,qc,rc;kc=ec(arguments);nc=kc[0],jc=kc[1],lc=kc[2];qc=(nc+16)/116;pc=isNaN(jc)?qc:qc+jc/500;rc=isNaN(lc)?qc:qc-lc/200;qc=j.Yn*va(qc);pc=j.Xn*va(pc);rc=j.Zn*va(rc);oc=hc(3.2404542*pc-1.5371385*qc-.4985314*rc);mc=hc(-.969266*pc+1.8760108*qc+.041556*rc);lc=hc(.0556434*pc-.2040259*qc+1.0572252*rc);oc=za(oc,0,255);mc=za(mc,0,255);lc=za(lc,0,255);return [oc,mc,lc,kc.length>3?kc[3]:1];};hc=function(jc){return yb(255*(jc<=.00304?12.92*jc:1.055*ib(jc,1/2.4)-.055));};va=function(jc){if(jc>j.t1){return jc*jc*jc;}else return j.t2*(jc-j.t0);};j={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452};pb=function(){var jc,kc,lc,mc,nc,oc,pc,qc;mc=ec(arguments),lc=mc[0],kc=mc[1],jc=mc[2];nc=ub(lc,kc,jc),oc=nc[0],pc=nc[1],qc=nc[2];return [116*pc-16,500*(oc-pc),200*(pc-qc)];};vb=function(jc){if((jc/=255)<=.04045){return jc/12.92;}else return ib((jc+.055)/1.055,2.4);};gc=function(jc){if(jc>j.t3){return ib(jc,1/3);}else return jc/j.t2+j.t0;};ub=function(){var jc,kc,lc,mc,nc,oc,pc;mc=ec(arguments),lc=mc[0],kc=mc[1],jc=mc[2];lc=vb(lc);kc=vb(kc);jc=vb(jc);nc=gc((.4124564*lc+.3575761*kc+.1804375*jc)/j.Xn);oc=gc((.2126729*lc+.7151522*kc+.072175*jc)/j.Yn);pc=gc((.0193339*lc+.119192*kc+.9503041*jc)/j.Zn);return [nc,oc,pc];};z.lab=function(){return (function(jc,kc,lc){lc.prototype=jc.prototype;var mc=new lc(),nc=jc.apply(mc,kc);return Object(nc)===nc?nc:mc;})(h,ic.call(arguments).concat(['lab']),function(){});};q.lab=ua;h.prototype.lab=function(){return pb(this._rgb);};u=function(jc){var kc,lc,mc,nc,oc,pc,qc,rc,sc,tc,uc;jc=(function(){var vc,wc,xc;xc=[];for(wc=0,vc=jc.length;wc<vc;wc++){nc=jc[wc];xc.push(z(nc));}return xc;})();if(jc.length===2){sc=(function(){var vc,wc,xc;xc=[];for(wc=0,vc=jc.length;wc<vc;wc++){nc=jc[wc];xc.push(nc.lab());}return xc;})(),oc=sc[0],pc=sc[1];kc=function(vc){var wc,xc;xc=(function(){var yc,zc;zc=[];for(wc=yc=0;yc<=2;wc=++yc)zc.push(oc[wc]+vc*(pc[wc]-oc[wc]));return zc;})();return z.lab.apply(z,xc);};}else if(jc.length===3){tc=(function(){var vc,wc,xc;xc=[];for(wc=0,vc=jc.length;wc<vc;wc++){nc=jc[wc];xc.push(nc.lab());}return xc;})(),oc=tc[0],pc=tc[1],qc=tc[2];kc=function(vc){var wc,xc;xc=(function(){var yc,zc;zc=[];for(wc=yc=0;yc<=2;wc=++yc)zc.push((1-vc)*(1-vc)*oc[wc]+2*(1-vc)*vc*pc[wc]+vc*vc*qc[wc]);return zc;})();return z.lab.apply(z,xc);};}else if(jc.length===4){uc=(function(){var vc,wc,xc;xc=[];for(wc=0,vc=jc.length;wc<vc;wc++){nc=jc[wc];xc.push(nc.lab());}return xc;})(),oc=uc[0],pc=uc[1],qc=uc[2],rc=uc[3];kc=function(vc){var wc,xc;xc=(function(){var yc,zc;zc=[];for(wc=yc=0;yc<=2;wc=++yc)zc.push((1-vc)*(1-vc)*(1-vc)*oc[wc]+3*(1-vc)*(1-vc)*vc*pc[wc]+3*(1-vc)*vc*vc*qc[wc]+vc*vc*vc*rc[wc]);return zc;})();return z.lab.apply(z,xc);};}else if(jc.length===5){lc=u(jc.slice(0,3));mc=u(jc.slice(2,5));kc=function(vc){if(vc<.5){return lc(vc*2);}else return mc((vc-.5)*2);};}return kc;};z.bezier=function(jc){var kc;kc=u(jc);kc.scale=function(){return z.scale(kc);};return kc;};z.cubehelix=function(jc,kc,lc,mc,nc){var oc,pc,qc;if(jc==null)jc=300;if(kc==null)kc=-1.5;if(lc==null)lc=1;if(mc==null)mc=1;if(nc==null)nc=[0,1];pc=nc[1]-nc[0];oc=0;qc=function(rc){var sc,tc,uc,vc,wc,xc,yc,zc,ad;sc=n*((jc+120)/360+kc*rc);yc=ib(nc[0]+pc*rc,mc);xc=oc!==0?lc[0]+rc*oc:lc;tc=xc*yc*(1-yc)/2;vc=da(sc);ad=ac(sc);zc=yc+tc*(-.14861*vc+1.78277*ad);wc=yc+tc*(-.29227*vc-.90649*ad);uc=yc+tc*(+1.97294*vc);return z(aa([zc*255,wc*255,uc*255]));};qc.start=function(rc){if(rc==null)return jc;jc=rc;return qc;};qc.rotations=function(rc){if(rc==null)return kc;kc=rc;return qc;};qc.gamma=function(rc){if(rc==null)return mc;mc=rc;return qc;};qc.hue=function(rc){if(rc==null)return lc;lc=rc;if(dc(lc)==='array'){oc=lc[1]-lc[0];if(oc===0)lc=lc[1];}else oc=0;return qc;};qc.lightness=function(rc){if(rc==null)return nc;nc=rc;if(dc(nc)==='array'){pc=nc[1]-nc[0];if(pc===0)nc=nc[1];}else pc=0;return qc;};qc.scale=function(){return z.scale(qc);};qc.hue(lc);return qc;};z.random=function(){var jc,kc,lc,mc;kc='0123456789abcdef';jc='#';for(lc=mc=0;mc<6;lc=++mc)jc+=kc.charAt(ia(Math.random()*16));return new h(jc);};q.rgb=function(){var jc,kc,lc,mc;kc=ec(arguments);lc=[];for(jc in kc){mc=kc[jc];lc.push(mc);}return lc;};z.rgb=function(){return (function(jc,kc,lc){lc.prototype=jc.prototype;var mc=new lc(),nc=jc.apply(mc,kc);return Object(nc)===nc?nc:mc;})(h,ic.call(arguments).concat(['rgb']),function(){});};h.prototype.rgb=function(){return this._rgb.slice(0,3);};h.prototype.rgba=function(){return this._rgb;};o.push({p:15,test:function(jc){var kc;kc=ec(arguments);if(dc(kc)==='array'&&kc.length===3)return 'rgb';if(kc.length===4&&dc(kc[3])==="number"&&kc[3]>=0&&kc[3]<=1)return 'rgb';}});ja=function(jc){var kc,lc,mc,nc,oc,pc;if(jc.match(/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/)){if(jc.length===4||jc.length===7)jc=jc.substr(1);if(jc.length===3){jc=jc.split("");jc=jc[0]+jc[0]+jc[1]+jc[1]+jc[2]+jc[2];}pc=parseInt(jc,16);nc=pc>>16;mc=pc>>8&255;lc=pc&255;return [nc,mc,lc,1];}if(jc.match(/^#?([A-Fa-f0-9]{8})$/)){if(jc.length===9)jc=jc.substr(1);pc=parseInt(jc,16);nc=pc>>24&255;mc=pc>>16&255;lc=pc>>8&255;kc=yb((pc&255)/255*100)/100;return [nc,mc,lc,kc];}if((q.css!=null)&&(oc=q.css(jc)))return oc;throw "unknown color: "+jc;};lb=function(jc,kc){var lc,mc,nc,oc,pc,qc,rc;if(kc==null)kc='rgb';pc=jc[0],nc=jc[1],mc=jc[2],lc=jc[3];rc=pc<<16|nc<<8|mc;qc="000000"+rc.toString(16);qc=qc.substr(qc.length-6);oc='0'+yb(lc*255).toString(16);oc=oc.substr(oc.length-2);return "#"+(function(){switch(kc.toLowerCase()){case 'rgba':return qc+oc;case 'argb':return oc+qc;default:return qc;}})();};q.hex=function(jc){return ja(jc);};z.hex=function(){return (function(jc,kc,lc){lc.prototype=jc.prototype;var mc=new lc(),nc=jc.apply(mc,kc);return Object(nc)===nc?nc:mc;})(h,ic.call(arguments).concat(['hex']),function(){});};h.prototype.hex=function(jc){if(jc==null)jc='rgb';return lb(this._rgb,jc);};o.push({p:10,test:function(jc){if(arguments.length===1&&dc(jc)==="string")return 'hex';}});ma=function(){var jc,kc,lc,mc,nc,oc,pc,qc,rc,sc,tc,uc,vc,wc;jc=ec(arguments);nc=jc[0],tc=jc[1],pc=jc[2];if(tc===0){rc=mc=kc=pc*255;}else{wc=[0,0,0];lc=[0,0,0];vc=pc<.5?pc*(1+tc):pc+tc-pc*tc;uc=2*pc-vc;nc/=360;wc[0]=nc+1/3;wc[1]=nc;wc[2]=nc-1/3;for(oc=qc=0;qc<=2;oc=++qc){if(wc[oc]<0)wc[oc]+=1;if(wc[oc]>1)wc[oc]-=1;if(6*wc[oc]<1){lc[oc]=uc+(vc-uc)*6*wc[oc];}else if(2*wc[oc]<1){lc[oc]=vc;}else if(3*wc[oc]<2){lc[oc]=uc+(vc-uc)*((2/3)-wc[oc])*6;}else lc[oc]=uc;}sc=[yb(lc[0]*255),yb(lc[1]*255),yb(lc[2]*255)],rc=sc[0],mc=sc[1],kc=sc[2];}if(jc.length>3){return [rc,mc,kc,jc[3]];}else return [rc,mc,kc];};nb=function(jc,kc,lc){var mc,nc,oc,pc,qc;if(jc!==void 0&&jc.length>=3)pc=jc,jc=pc[0],kc=pc[1],lc=pc[2];jc/=255;kc/=255;lc/=255;oc=Math.min(jc,kc,lc);db=Math.max(jc,kc,lc);nc=(db+oc)/2;if(db===oc){qc=0;mc=Number.NaN;}else qc=nc<.5?(db-oc)/(db+oc):(db-oc)/(2-db-oc);if(jc===db){mc=(kc-lc)/(db-oc);}else if(kc===db){mc=2+(lc-jc)/(db-oc);}else if(lc===db)mc=4+(jc-kc)/(db-oc);mc*=60;if(mc<0)mc+=360;return [mc,qc,nc];};z.hsl=function(){return (function(jc,kc,lc){lc.prototype=jc.prototype;var mc=new lc(),nc=jc.apply(mc,kc);return Object(nc)===nc?nc:mc;})(h,ic.call(arguments).concat(['hsl']),function(){});};q.hsl=ma;h.prototype.hsl=function(){return nb(this._rgb);};na=function(){var jc,kc,lc,mc,nc,oc,pc,qc,rc,sc,tc,uc,vc,wc,xc,yc,zc,ad;jc=ec(arguments);nc=jc[0],yc=jc[1],ad=jc[2];ad*=255;if(yc===0){rc=mc=kc=ad;}else{if(nc===360)nc=0;if(nc>360)nc-=360;if(nc<0)nc+=360;nc/=60;oc=ia(nc);lc=nc-oc;pc=ad*(1-yc);qc=ad*(1-yc*lc);zc=ad*(1-yc*(1-lc));switch(oc){case 0:sc=[ad,zc,pc],rc=sc[0],mc=sc[1],kc=sc[2];break;case 1:tc=[qc,ad,pc],rc=tc[0],mc=tc[1],kc=tc[2];break;case 2:uc=[pc,ad,zc],rc=uc[0],mc=uc[1],kc=uc[2];break;case 3:vc=[pc,qc,ad],rc=vc[0],mc=vc[1],kc=vc[2];break;case 4:wc=[zc,pc,ad],rc=wc[0],mc=wc[1],kc=wc[2];break;case 5:xc=[ad,pc,qc],rc=xc[0],mc=xc[1],kc=xc[2];}}rc=yb(rc);mc=yb(mc);kc=yb(kc);return [rc,mc,kc,jc.length>3?jc[3]:1];};ob=function(){var jc,kc,lc,mc,nc,oc,pc,qc,rc;pc=ec(arguments),oc=pc[0],lc=pc[1],jc=pc[2];nc=Math.min(oc,lc,jc);db=Math.max(oc,lc,jc);kc=db-nc;rc=db/255;if(db===0){mc=Number.NaN;qc=0;}else{qc=kc/db;if(oc===db)mc=(lc-jc)/kc;if(lc===db)mc=2+(jc-oc)/kc;if(jc===db)mc=4+(oc-lc)/kc;mc*=60;if(mc<0)mc+=360;}return [mc,qc,rc];};z.hsv=function(){return (function(jc,kc,lc){lc.prototype=jc.prototype;var mc=new lc(),nc=jc.apply(mc,kc);return Object(nc)===nc?nc:mc;})(h,ic.call(arguments).concat(['hsv']),function(){});};q.hsv=na;h.prototype.hsv=function(){return ob(this._rgb);};gb=function(jc){var kc,lc,mc;if(dc(jc)==="number"&&jc>=0&&jc<=16777215){mc=jc>>16;lc=(jc>>8)&255;kc=jc&255;return [mc,lc,kc,1];}return [0,0,0,1];};sb=function(){var jc,kc,lc,mc;mc=ec(arguments),lc=mc[0],kc=mc[1],jc=mc[2];return (lc<<16)+(kc<<8)+jc;};z.num=function(jc){return new h(jc,'num');};h.prototype.num=function(jc){if(jc==null)jc='rgb';return sb(this._rgb,jc);};q.num=gb;o.push({p:10,test:function(jc){if(arguments.length===1&&dc(jc)==="number"&&jc>=0&&jc<=16777215)return 'num';}});ea=function(jc){var kc,lc,mc,nc,oc,pc,qc,rc;jc=jc.toLowerCase();if((z.colors!=null)&&z.colors[jc])return ja(z.colors[jc]);if(oc=jc.match(/rgb\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*\)/)){qc=oc.slice(1,4);for(nc=pc=0;pc<=2;nc=++pc)qc[nc]=+qc[nc];qc[3]=1;}else if(oc=jc.match(/rgba\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*,\s*([01]|[01]?\.\d+)\)/)){qc=oc.slice(1,5);for(nc=rc=0;rc<=3;nc=++rc)qc[nc]=+qc[nc];}else if(oc=jc.match(/rgb\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/)){qc=oc.slice(1,4);for(nc=kc=0;kc<=2;nc=++kc)qc[nc]=yb(qc[nc]*2.55);qc[3]=1;}else if(oc=jc.match(/rgba\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/)){qc=oc.slice(1,5);for(nc=lc=0;lc<=2;nc=++lc)qc[nc]=yb(qc[nc]*2.55);qc[3]=+qc[3];}else if(oc=jc.match(/hsl\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/)){mc=oc.slice(1,4);mc[1]*=.01;mc[2]*=.01;qc=ma(mc);qc[3]=1;}else if(oc=jc.match(/hsla\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/)){mc=oc.slice(1,4);mc[1]*=.01;mc[2]*=.01;qc=ma(mc);qc[3]=+oc[4];}return qc;};kb=function(jc){var kc;kc=jc[3]<1?'rgba':'rgb';if(kc==='rgb'){return kc+'('+jc.slice(0,3).map(yb).join(',')+')';}else if(kc==='rgba')return kc+'('+jc.slice(0,3).map(yb).join(',')+','+jc[3]+')';};wb=function(jc){return yb(jc*100)/100;};la=function(jc,kc){var lc;lc=kc<1?'hsla':'hsl';jc[0]=wb(jc[0]||0);jc[1]=wb(jc[1]*100)+'%';jc[2]=wb(jc[2]*100)+'%';if(lc==='hsla')jc[3]=kc;return lc+'('+jc.join(',')+')';};q.css=function(jc){return ea(jc);};z.css=function(){return (function(jc,kc,lc){lc.prototype=jc.prototype;var mc=new lc(),nc=jc.apply(mc,kc);return Object(nc)===nc?nc:mc;})(h,ic.call(arguments).concat(['css']),function(){});};h.prototype.css=function(jc){if(jc==null)jc='rgb';if(jc.slice(0,3)==='rgb'){return kb(this._rgb);}else if(jc.slice(0,3)==='hsl')return la(this.hsl(),this.alpha());};q.named=function(jc){return ja(fc[jc]);};o.push({p:20,test:function(jc){if(arguments.length===1&&(fc[jc]!=null))return 'named';}});h.prototype.name=function(jc){var kc,lc;if(arguments.length){if(fc[jc])this._rgb=ja(fc[jc]);this._rgb[3]=1;this;}kc=this.hex();for(lc in fc)if(kc===fc[lc])return lc;return kc;};wa=function(){var jc,kc,lc,mc;mc=ec(arguments),lc=mc[0],jc=mc[1],kc=mc[2];kc=kc*i;return [lc,da(kc)*jc,ac(kc)*jc];};xa=function(){var jc,kc,lc,mc,nc,oc,pc,qc,rc,sc,tc;lc=ec(arguments);qc=lc[0],nc=lc[1],pc=lc[2];sc=wa(qc,nc,pc),jc=sc[0],kc=sc[1],mc=sc[2];tc=ua(jc,kc,mc),rc=tc[0],oc=tc[1],mc=tc[2];return [za(rc,0,255),za(oc,0,255),za(mc,0,255),lc.length>3?lc[3]:1];};ta=function(){var jc,kc,lc,mc,nc,oc;oc=ec(arguments),nc=oc[0],jc=oc[1],kc=oc[2];lc=bc(jc*jc+kc*kc);mc=(t(kc,jc)*m+360)%360;if(yb(lc*10000)===0)mc=Number.NaN;return [nc,lc,mc];};qb=function(){var jc,kc,lc,mc,nc,oc,pc;oc=ec(arguments),nc=oc[0],lc=oc[1],kc=oc[2];pc=pb(nc,lc,kc),mc=pc[0],jc=pc[1],kc=pc[2];return ta(mc,jc,kc);};z.lch=function(){var jc;jc=ec(arguments);return new h(jc,'lch');};z.hcl=function(){var jc;jc=ec(arguments);return new h(jc,'hcl');};q.lch=xa;q.hcl=function(){var jc,kc,lc,mc;mc=ec(arguments),kc=mc[0],jc=mc[1],lc=mc[2];return xa([lc,jc,kc]);};h.prototype.lch=function(){return qb(this._rgb);};h.prototype.hcl=function(){return qb(this._rgb).reverse();};jb=function(jc){var kc,lc,mc,nc,oc,pc,qc,rc,sc;if(jc==null)jc='rgb';rc=ec(arguments),qc=rc[0],nc=rc[1],kc=rc[2];qc=qc/255;nc=nc/255;kc=kc/255;oc=1-Math.max(qc,Math.max(nc,kc));mc=oc<1?1/(1-oc):0;lc=(1-qc-oc)*mc;pc=(1-nc-oc)*mc;sc=(1-kc-oc)*mc;return [lc,pc,sc,oc];};ba=function(){var jc,kc,lc,mc,nc,oc,pc,qc,rc;kc=ec(arguments);mc=kc[0],pc=kc[1],rc=kc[2],oc=kc[3];jc=kc.length>4?kc[4]:1;if(oc===1)return [0,0,0,jc];qc=mc>=1?0:yb(255*(1-mc)*(1-oc));nc=pc>=1?0:yb(255*(1-pc)*(1-oc));lc=rc>=1?0:yb(255*(1-rc)*(1-oc));return [qc,nc,lc,jc];};q.cmyk=function(){return ba(ec(arguments));};z.cmyk=function(){return (function(jc,kc,lc){lc.prototype=jc.prototype;var mc=new lc(),nc=jc.apply(mc,kc);return Object(nc)===nc?nc:mc;})(h,ic.call(arguments).concat(['cmyk']),function(){});};h.prototype.cmyk=function(){return jb(this._rgb);};q.gl=function(){var jc,kc,lc,mc,nc;mc=(function(){var oc,pc;oc=ec(arguments);pc=[];for(kc in oc){nc=oc[kc];pc.push(nc);}return pc;}).apply(this,arguments);for(jc=lc=0;lc<=2;jc=++lc)mc[jc]*=255;return mc;};z.gl=function(){return (function(jc,kc,lc){lc.prototype=jc.prototype;var mc=new lc(),nc=jc.apply(mc,kc);return Object(nc)===nc?nc:mc;})(h,ic.call(arguments).concat(['gl']),function(){});};h.prototype.gl=function(){var jc;jc=this._rgb;return [jc[0]/255,jc[1]/255,jc[2]/255,jc[3]];};rb=function(jc,kc,lc){var mc;mc=ec(arguments),jc=mc[0],kc=mc[1],lc=mc[2];jc=bb(jc);kc=bb(kc);lc=bb(lc);return .2126*jc+.7152*kc+.0722*lc;};bb=function(jc){jc/=255;if(jc<=.03928){return jc/12.92;}else return ib((jc+.055)/1.055,2.4);};r=[];oa=function(jc,kc,lc,mc){var nc,oc,pc,qc;if(lc==null)lc=.5;if(mc==null)mc='rgb';if(dc(jc)!=='object')jc=z(jc);if(dc(kc)!=='object')kc=z(kc);for(pc=0,oc=r.length;pc<oc;pc++){nc=r[pc];if(mc===nc[0]){qc=nc[1](jc,kc,lc,mc);break;}}if(qc==null)throw "color mode "+mc+" is not supported";qc.alpha(jc.alpha()+lc*(kc.alpha()-jc.alpha()));return qc;};z.interpolate=oa;h.prototype.interpolate=function(jc,kc,lc){return oa(this,jc,kc,lc);};z.mix=oa;h.prototype.mix=h.prototype.interpolate;sa=function(jc,kc,lc,mc){var nc,oc;nc=jc._rgb;oc=kc._rgb;return new h(nc[0]+lc*(oc[0]-nc[0]),nc[1]+lc*(oc[1]-nc[1]),nc[2]+lc*(oc[2]-nc[2]),mc);};r.push(['rgb',sa]);h.prototype.luminance=function(jc,kc){var lc,mc,nc,oc;if(kc==null)kc='rgb';if(!arguments.length)return rb(this._rgb);if(jc===0){this._rgb=[0,0,0,this._rgb[3]];}else if(jc===1){this._rgb=[255,255,255,this._rgb[3]];}else{mc=1e-07;nc=20;oc=function(pc,qc){var rc,sc;sc=pc.interpolate(qc,.5,kc);rc=sc.luminance();if(Math.abs(jc-rc)<mc||!nc--)return sc;if(rc>jc)return oc(pc,sc);return oc(sc,qc);};lc=rb(this._rgb);this._rgb=(lc>jc?oc(z('black'),this):oc(this,z('white'))).rgba();}return this;};cc=function(jc){var kc,lc,mc,nc;nc=jc/100;if(nc<66){mc=255;lc=-155.25485562709179-.44596950469579133*(lc=nc-2)+104.49216199393888*ab(lc);kc=nc<20?0:-254.76935184120902+.8274096064007395*(kc=nc-10)+115.67994401066147*ab(kc);}else{mc=351.97690566805693+.114206453784165*(mc=nc-55)-40.25366309332127*ab(mc);lc=325.4494125711974+.07943456536662342*(lc=nc-50)-28.0852963507957*ab(lc);kc=255;}return aa([mc,lc,kc]);};tb=function(){var jc,kc,lc,mc,nc,oc,pc,qc,rc;pc=ec(arguments),oc=pc[0],lc=pc[1],jc=pc[2];nc=1000;mc=40000;kc=.4;while(mc-nc>kc){rc=(mc+nc)*.5;qc=cc(rc);if((qc[2]/qc[0])>=(jc/oc)){mc=rc;}else nc=rc;}return yb(rc);};z.temperature=z.kelvin=function(){return (function(jc,kc,lc){lc.prototype=jc.prototype;var mc=new lc(),nc=jc.apply(mc,kc);return Object(nc)===nc?nc:mc;})(h,ic.call(arguments).concat(['temperature']),function(){});};q.temperature=q.kelvin=q.K=cc;h.prototype.temperature=function(){return tb(this._rgb);};h.prototype.kelvin=h.prototype.temperature;z.contrast=function(jc,kc){var lc,mc,nc,oc;if((nc=dc(jc))==='string'||nc==='number')jc=new h(jc);if((oc=dc(kc))==='string'||oc==='number')kc=new h(kc);lc=jc.luminance();mc=kc.luminance();if(lc>mc){return (lc+.05)/(mc+.05);}else return (mc+.05)/(lc+.05);};h.prototype.get=function(jc){var kc,lc,mc,nc,oc,pc;mc=this;oc=jc.split('.'),nc=oc[0],kc=oc[1];pc=mc[nc]();if(kc){lc=nc.indexOf(kc);if(lc>-1){return pc[lc];}else return false;}else return pc;};h.prototype.set=function(jc,kc){var lc,mc,nc,oc,pc,qc;nc=this;pc=jc.split('.'),oc=pc[0],lc=pc[1];if(lc){qc=nc[oc]();mc=oc.indexOf(lc);if(mc>-1)if(dc(kc)==='string'){switch(kc.charAt(0)){case '+':qc[mc]+=+kc;break;case '-':qc[mc]+=+kc;break;case '*':qc[mc]*=+(kc.substr(1));break;case '/':qc[mc]/=+(kc.substr(1));break;default:qc[mc]=+kc;}}else qc[mc]=kc;}else qc=kc;nc._rgb=z(qc,oc).alpha(nc.alpha())._rgb;return nc;};h.prototype.darken=function(jc){var kc,lc;if(jc==null)jc=1;lc=this;kc=lc.lab();kc[0]-=j.Kn*jc;return z.lab(kc).alpha(lc.alpha());};h.prototype.brighten=function(jc){if(jc==null)jc=1;return this.darken(-jc);};h.prototype.darker=h.prototype.darken;h.prototype.brighter=h.prototype.brighten;h.prototype.saturate=function(jc){var kc,lc;if(jc==null)jc=1;lc=this;kc=lc.lch();kc[1]+=jc*j.Kn;if(kc[1]<0)kc[1]=0;return z.lch(kc).alpha(lc.alpha());};h.prototype.desaturate=function(jc){if(jc==null)jc=1;return this.saturate(-jc);};h.prototype.premultiply=function(){var jc,kc;kc=this.rgb();jc=this.alpha();return z(kc[0]*jc,kc[1]*jc,kc[2]*jc,jc);};v=function(jc,kc,lc){if(!v[lc])throw 'unknown blend mode '+lc;return v[lc](jc,kc);};w=function(jc){return function(kc,lc){var mc,nc;mc=z(lc).rgb();nc=z(kc).rgb();return z(jc(mc,nc),'rgb');};};ha=function(jc){return function(kc,lc){var mc,nc,oc;oc=[];for(mc=nc=0;nc<=3;mc=++nc)oc[mc]=jc(kc[mc],lc[mc]);return oc;};};fb=function(jc,kc){return jc;};eb=function(jc,kc){return jc*kc/255;};fa=function(jc,kc){if(jc>kc){return kc;}else return jc;};ya=function(jc,kc){if(jc>kc){return jc;}else return kc;};zb=function(jc,kc){return 255*(1-(1-jc/255)*(1-kc/255));};hb=function(jc,kc){if(kc<128){return 2*jc*kc/255;}else return 255*(1-2*(1-jc/255)*(1-kc/255));};y=function(jc,kc){return 255*(1-(1-kc/255)/(jc/255));};ga=function(jc,kc){if(jc===255)return 255;jc=255*(kc/255)/(1-jc/255);if(jc>255){return 255;}else return jc;};v.normal=w(ha(fb));v.multiply=w(ha(eb));v.screen=w(ha(zb));v.overlay=w(ha(hb));v.darken=w(ha(fa));v.lighten=w(ha(ya));v.dodge=w(ha(ga));v.burn=w(ha(y));z.blend=v;z.analyze=function(jc){var kc,lc,mc,nc;mc={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0};for(lc=0,kc=jc.length;lc<kc;lc++){nc=jc[lc];if((nc!=null)&&!isNaN(nc)){mc.values.push(nc);mc.sum+=nc;if(nc<mc.min)mc.min=nc;if(nc>mc.max)mc.max=nc;mc.count+=1;}}mc.domain=[mc.min,mc.max];mc.limits=function(oc,pc){return z.limits(mc,oc,pc);};return mc;};z.scale=function(jc,kc){var lc,mc,nc,oc,pc,qc,rc,sc,tc,uc,vc,wc,xc,yc,zc,ad,bd,cd,dd,ed,fd;tc='rgb';uc=z('#ccc');yc=0;qc=false;pc=[0,1];xc=[];wc=[0,0];lc=false;nc=[];vc=false;sc=0;rc=1;oc=false;mc={};ed=function(gd){var hd,id,jd,kd,ld,md,nd;if(gd==null)gd=['#fff','#000'];if((gd!=null)&&dc(gd)==='string'&&(((kd=z.brewer)!=null?kd[gd]:void 0)!=null))gd=z.brewer[gd];if(dc(gd)==='array'){gd=gd.slice(0);for(hd=jd=0,ld=gd.length-1;0<=ld?jd<=ld:jd>=ld;hd=0<=ld?++jd:--jd){id=gd[hd];if(dc(id)==="string")gd[hd]=z(id);}xc.length=0;for(hd=nd=0,md=gd.length-1;0<=md?nd<=md:nd>=md;hd=0<=md?++nd:--nd)xc.push(hd/(gd.length-1));}dd();return nc=gd;};bd=function(gd){var hd,id;if(lc!=null){id=lc.length-1;hd=0;while(hd<id&&gd>=lc[hd])hd++;return hd-1;}return 0;};fd=function(gd){return gd;};zc=function(gd){var hd,id,jd,kd,ld;ld=gd;if(lc.length>2){kd=lc.length-1;hd=bd(gd);jd=lc[0]+(lc[1]-lc[0])*(0+yc*.5);id=lc[kd-1]+(lc[kd]-lc[kd-1])*(1-yc*.5);ld=sc+((lc[hd]+(lc[hd+1]-lc[hd])*.5-jd)/(id-jd))*(rc-sc);}return ld;};cd=function(gd,hd){var id,jd,kd,ld,md,nd,od,pd;if(hd==null)hd=false;if(isNaN(gd))return uc;if(!hd){if(lc&&lc.length>2){id=bd(gd);pd=id/(lc.length-2);pd=wc[0]+(pd*(1-wc[0]-wc[1]));}else if(rc!==sc){pd=(gd-sc)/(rc-sc);pd=wc[0]+(pd*(1-wc[0]-wc[1]));pd=Math.min(1,Math.max(0,pd));}else pd=1;}else pd=gd;if(!hd)pd=fd(pd);ld=Math.floor(pd*10000);if(mc[ld]){jd=mc[ld];}else{if(dc(nc)==='array'){for(kd=md=0,od=xc.length-1;0<=od?md<=od:md>=od;kd=0<=od?++md:--md){nd=xc[kd];if(pd<=nd){jd=nc[kd];break;}if(pd>=nd&&kd===xc.length-1){jd=nc[kd];break;}if(pd>nd&&pd<xc[kd+1]){pd=(pd-nd)/(xc[kd+1]-nd);jd=z.interpolate(nc[kd],nc[kd+1],pd,tc);break;}}}else if(dc(nc)==='function')jd=nc(pd);mc[ld]=jd;}return jd;};dd=function(){return mc={};};ed(jc);ad=function(gd){var hd;hd=z(cd(gd));if(vc&&hd[vc]){return hd[vc]();}else return hd;};ad.classes=function(gd){var hd;if(gd!=null){if(dc(gd)==='array'){lc=gd;pc=[gd[0],gd[gd.length-1]];}else{hd=z.analyze(pc);if(gd===0){lc=[hd.min,hd.max];}else lc=z.limits(hd,'e',gd);}return ad;}return lc;};ad.domain=function(gd){var hd,id,jd,kd,ld,md,nd;if(!arguments.length)return pc;sc=gd[0];rc=gd[gd.length-1];xc=[];jd=nc.length;if(gd.length===jd&&sc!==rc){for(ld=0,kd=gd.length;ld<kd;ld++){id=gd[ld];xc.push((id-sc)/(rc-sc));}}else for(hd=nd=0,md=jd-1;0<=md?nd<=md:nd>=md;hd=0<=md?++nd:--nd)xc.push(hd/(jd-1));pc=[sc,rc];return ad;};ad.mode=function(gd){if(!arguments.length)return tc;tc=gd;dd();return ad;};ad.range=function(gd,hd){ed(gd,hd);return ad;};ad.out=function(gd){vc=gd;return ad;};ad.spread=function(gd){if(!arguments.length)return yc;yc=gd;return ad;};ad.correctLightness=function(gd){if(gd==null)gd=true;oc=gd;dd();if(oc){fd=function(hd){var id,jd,kd,ld,md,nd,od,pd,qd;id=cd(0,true).lab()[0];jd=cd(1,true).lab()[0];od=id>jd;kd=cd(hd,true).lab()[0];md=id+(jd-id)*hd;ld=kd-md;pd=0;qd=1;nd=20;while(Math.abs(ld)>.01&&nd-->0)(function(){if(od)ld*=-1;if(ld<0){pd=hd;hd+=(qd-hd)*.5;}else{qd=hd;hd+=(pd-hd)*.5;}kd=cd(hd,true).lab()[0];return ld=kd-md;})();return hd;};}else fd=function(hd){return hd;};return ad;};ad.padding=function(gd){if(gd!=null){if(dc(gd)==='number')gd=[gd,gd];wc=gd;return ad;}else return wc;};ad.colors=function(){var gd,hd,id,jd,kd,ld,md,nd,od,pd;jd=0;ld='hex';if(arguments.length===1)if(dc(arguments[0])==='string'){ld=arguments[0];}else jd=arguments[0];if(arguments.length===2)jd=arguments[0],ld=arguments[1];if(jd){hd=pc[0];gd=pc[1]-hd;return (function(){nd=[];for(var qd=0;0<=jd?qd<jd:qd>jd;0<=jd?qd++:qd--)nd.push(qd);return nd;}).apply(this).map(function(qd){return ad(hd+qd/(jd-1)*gd)[ld]();});}jc=[];od=[];if(lc&&lc.length>2){for(id=pd=1,md=lc.length;1<=md?pd<md:pd>md;id=1<=md?++pd:--pd)od.push((lc[id-1]+lc[id])*.5);}else od=pc;return od.map(function(qd){return ad(qd)[ld]();});};return ad;};if(z.scales==null)z.scales={};z.scales.cool=function(){return z.scale([z.hsl(180,1,.9),z.hsl(250,.7,.4)]);};z.scales.hot=function(){return z.scale(['#000','#f00','#ff0','#fff'],[0,.25,.75,1]).mode('rgb');};z.analyze=function(jc,kc,lc){var mc,nc,oc,pc,qc,rc,sc;qc={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0};if(lc==null)lc=function(){return true;};mc=function(tc){if((tc!=null)&&!isNaN(tc)){qc.values.push(tc);qc.sum+=tc;if(tc<qc.min)qc.min=tc;if(tc>qc.max)qc.max=tc;qc.count+=1;}};sc=function(tc,uc){if(lc(tc,uc))if((kc!=null)&&dc(kc)==='function'){return mc(kc(tc));}else if((kc!=null)&&dc(kc)==='string'||dc(kc)==='number'){return mc(tc[kc]);}else return mc(tc);};if(dc(jc)==='array'){for(pc=0,oc=jc.length;pc<oc;pc++){rc=jc[pc];sc(rc);}}else for(nc in jc){rc=jc[nc];sc(rc,nc);}qc.domain=[qc.min,qc.max];qc.limits=function(tc,uc){return z.limits(qc,tc,uc);};return qc;};z.limits=function(jc,kc,lc){var mc,nc,oc,pc,qc,rc,sc,tc,uc,vc,wc,xc,yc,zc,ad,bd,cd,dd,ed,fd,gd,hd,id,jd,kd,ld,md,nd,od,pd,qd,rd,sd,td,ud,vd,wd,xd,yd,zd,ae,be,ce,de,ee,fe,ge,he,ie,je,ke,le,me,ne,oe;if(kc==null)kc='equal';if(lc==null)lc=7;if(dc(jc)==='array')jc=z.analyze(jc);kd=jc.min;db=jc.max;ke=jc.sum;ne=jc.values.sort(function(pe,qe){return pe-qe;});id=[];if(kc.substr(0,1)==='c'){id.push(kd);id.push(db);}if(kc.substr(0,1)==='e'){id.push(kd);for(fd=qd=1,ud=lc-1;1<=ud?qd<=ud:qd>=ud;fd=1<=ud?++qd:--qd)id.push(kd+(fd/lc)*(db-kd));id.push(db);}else if(kc.substr(0,1)==='l'){if(kd<=0)throw 'Logarithmic scales are only possible for values > 0';ld=Math.LOG10E*ab(kd);jd=Math.LOG10E*ab(db);id.push(kd);for(fd=oe=1,vd=lc-1;1<=vd?oe<=vd:oe>=vd;fd=1<=vd?++oe:--oe)id.push(ib(10,ld+(fd/lc)*(jd-ld)));id.push(db);}else if(kc.substr(0,1)==='q'){id.push(kd);for(fd=mc=1,be=lc-1;1<=be?mc<=be:mc>=be;fd=1<=be?++mc:--mc){rd=ne.length*fd/lc;sd=ia(rd);if(sd===rd){id.push(ne[sd]);}else{td=rd-sd;id.push(ne[sd]*td+ne[sd+1]*(1-td));}}id.push(db);}else if(kc.substr(0,1)==='k'){nd=ne.length;zc=new Array(nd);dd=new Array(lc);je=true;od=0;bd=null;bd=[];bd.push(kd);for(fd=nc=1,ce=lc-1;1<=ce?nc<=ce:nc>=ce;fd=1<=ce?++nc:--nc)bd.push(kd+(fd/lc)*(db-kd));bd.push(db);while(je){for(gd=oc=0,de=lc-1;0<=de?oc<=de:oc>=de;gd=0<=de?++oc:--oc)dd[gd]=0;for(fd=pc=0,ee=nd-1;0<=ee?pc<=ee:pc>=ee;fd=0<=ee?++pc:--pc){me=ne[fd];md=Number.MAX_VALUE;for(gd=qc=0,fe=lc-1;0<=fe?qc<=fe:qc>=fe;gd=0<=fe?++qc:--qc){ed=s(bd[gd]-me);if(ed<md){md=ed;ad=gd;}}dd[ad]++;zc[fd]=ad;}pd=new Array(lc);for(gd=rc=0,ge=lc-1;0<=ge?rc<=ge:rc>=ge;gd=0<=ge?++rc:--rc)pd[gd]=null;for(fd=sc=0,he=nd-1;0<=he?sc<=he:sc>=he;fd=0<=he?++sc:--sc){cd=zc[fd];if(pd[cd]===null){pd[cd]=ne[fd];}else pd[cd]+=ne[fd];}for(gd=tc=0,ie=lc-1;0<=ie?tc<=ie:tc>=ie;gd=0<=ie?++tc:--tc)pd[gd]*=1/dd[gd];je=false;for(gd=uc=0,wd=lc-1;0<=wd?uc<=wd:uc>=wd;gd=0<=wd?++uc:--uc)if(pd[gd]!==bd[fd]){je=true;break;}bd=pd;od++;if(od>200)je=false;}hd={};for(gd=vc=0,xd=lc-1;0<=xd?vc<=xd:vc>=xd;gd=0<=xd?++vc:--vc)hd[gd]=[];for(fd=wc=0,yd=nd-1;0<=yd?wc<=yd:wc>=yd;fd=0<=yd?++wc:--wc){cd=zc[fd];hd[cd].push(ne[fd]);}le=[];for(gd=xc=0,zd=lc-1;0<=zd?xc<=zd:xc>=zd;gd=0<=zd?++xc:--xc){le.push(hd[gd][0]);le.push(hd[gd][hd[gd].length-1]);}le=le.sort(function(pe,qe){return pe-qe;});id.push(le[0]);for(fd=yc=1,ae=le.length-1;yc<=ae;fd=yc+=2)if(!isNaN(le[fd]))id.push(le[fd]);}return id;};ka=function(jc,kc,lc){var mc,nc,oc,pc;mc=ec(arguments);jc=mc[0],kc=mc[1],lc=mc[2];jc/=360;if(jc<1/3){nc=(1-kc)/3;pc=(1+kc*da(n*jc)/da(l-n*jc))/3;oc=1-(nc+pc);}else if(jc<2/3){jc-=1/3;pc=(1-kc)/3;oc=(1+kc*da(n*jc)/da(l-n*jc))/3;nc=1-(pc+oc);}else{jc-=2/3;oc=(1-kc)/3;nc=(1+kc*da(n*jc)/da(l-n*jc))/3;pc=1-(oc+nc);}pc=za(lc*pc*3);oc=za(lc*oc*3);nc=za(lc*nc*3);return [pc*255,oc*255,nc*255,mc.length>3?mc[3]:1];};mb=function(){var jc,kc,lc,mc,nc,oc,pc,qc;pc=ec(arguments),oc=pc[0],kc=pc[1],jc=pc[2];n=Math.PI*2;oc/=255;kc/=255;jc/=255;nc=Math.min(oc,kc,jc);mc=(oc+kc+jc)/3;qc=1-nc/mc;if(qc===0){lc=0;}else{lc=((oc-kc)+(oc-jc))/2;lc/=Math.sqrt((oc-kc)*(oc-kc)+(oc-jc)*(kc-jc));lc=Math.acos(lc);if(jc>kc)lc=n-lc;lc/=n;}return [lc*360,qc,mc];};z.hsi=function(){return (function(jc,kc,lc){lc.prototype=jc.prototype;var mc=new lc(),nc=jc.apply(mc,kc);return Object(nc)===nc?nc:mc;})(h,ic.call(arguments).concat(['hsi']),function(){});};q.hsi=ka;h.prototype.hsi=function(){return mb(this._rgb);};pa=function(jc,kc,lc,mc){var nc,oc,pc,qc,rc,sc,tc,uc,vc,wc,xc,yc,zc;if(mc==='hsl'){yc=jc.hsl();zc=kc.hsl();}else if(mc==='hsv'){yc=jc.hsv();zc=kc.hsv();}else if(mc==='hsi'){yc=jc.hsi();zc=kc.hsi();}else if(mc==='lch'||mc==='hcl'){mc='hcl';yc=jc.hcl();zc=kc.hcl();}if(mc.substr(0,1)==='h'){pc=yc[0],wc=yc[1],sc=yc[2];qc=zc[0],xc=zc[1],tc=zc[2];}if(!isNaN(pc)&&!isNaN(qc)){if(qc>pc&&qc-pc>180){nc=qc-(pc+360);}else if(qc<pc&&pc-qc>180){nc=qc+360-pc;}else nc=qc-pc;oc=pc+lc*nc;}else if(!isNaN(pc)){oc=pc;if((tc===1||tc===0)&&mc!=='hsv')vc=wc;}else if(!isNaN(qc)){oc=qc;if((sc===1||sc===0)&&mc!=='hsv')vc=xc;}else oc=Number.NaN;if(vc==null)vc=wc+lc*(xc-wc);rc=sc+lc*(tc-sc);return uc=z[mc](oc,vc,rc);};r=r.concat((function(){var jc,kc,lc,mc;lc=['hsv','hsl','hsi','hcl','lch'];mc=[];for(kc=0,jc=lc.length;kc<jc;kc++){cb=lc[kc];mc.push([cb,pa]);}return mc;})());ra=function(jc,kc,lc,mc){var nc,oc;nc=jc.num();oc=kc.num();return z.num(nc+(oc-nc)*lc,'num');};r.push(['num',ra]);qa=function(jc,kc,lc,mc){var nc,oc,pc;oc=jc.lab();pc=kc.lab();return nc=new h(oc[0]+lc*(pc[0]-oc[0]),oc[1]+lc*(pc[1]-oc[1]),oc[2]+lc*(pc[2]-oc[2]),mc);};r.push(['lab',qa]);}).call(this);},null);
__d('messengerCustomColorUtils',['cssVar','chroma'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(j,k){k=k||{};k.backgroundColor=j;k.color=c('chroma').hex(j).luminance()>=.6?'black':'white';return k;}f.exports={customBubbleStyle:i};},null);
__d('MessengerVoiceClipAttachment.react',['cx','MercuryAttachmentAudioClip.react','MercuryShareAttachmentRenderLocations','MessagingGiftWrap.react','ReactComponentWithPureRenderMixin','React','messengerCustomColorUtils'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'MessengerVoiceClipAttachment',mixins:[c('ReactComponentWithPureRenderMixin')],propTypes:{attachment:i.object.isRequired,customColor:i.string,isGiftWrapped:i.bool,message:i.object.isRequired,onUnwrap:i.func},render:function(){var k=this.props.attachment,l=k.metadata.duration/1000,m=!!k.app_attribution,n={};if(this.props.customColor)n=c('messengerCustomColorUtils').customBubbleStyle(this.props.customColor,n);var o=this.props.isGiftWrapped?c('React').createElement(c('MessagingGiftWrap.react'),{onUnwrap:this.props.onUnwrap}):null;return (c('React').createElement('div',{className:"_hh7"+(' '+"_s1-")+(!!this.props.customColor?' '+"_5sxi":'')+(!m?' '+"_52mr":'')+(m?' '+"_mxz":'')+(' '+"_1fz8")+(m?' '+"_1-wa":'')+(' '+"_1nqp"),style:n},c('React').createElement(c('MercuryAttachmentAudioClip.react'),{src:k.url,duration:l,key:'audio:'+this.props.message.message_id,showHelp:false,width:200,location:c('MercuryShareAttachmentRenderLocations').MESSENGER,rootClassName:"_3czg"+(m?' '+"_4yjw":'')+(' '+"_2poz")+(' '+"_ui9")}),o));}});f.exports=j;},null);
__d('isRetina',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();f.exports=function(){return (window.devicePixelRatio||1)>1;};},null);
__d('MessengerAttachmentRenderer',['cx','EmojiSticker.react','EmojiLikeUtils','MercuryAttachment','MercuryAttachmentType','MercuryAudioType','MercuryConfig','MercuryShareAttachment.react','MercuryShareAttachmentRenderLocations','MessagingGiftWrap.react','MessagingGiftWrapChecker','MessagingSourceEnum','MessengerErrorAttachment.react','MessengerFileAttachment.react','MessengerHotLikePreview.react','MessengerHotLikeUtils','MessengerPhotosGroup.react','MessengerStickerUtils','MessengerVoiceClipAttachment.react','React','Set','Sticker.react','StickerActions','StickerAssetType','StickerConstants','StickerImages','StickerUtils','StoryAttachmentStyle','XStickerAssetController','isRetina'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=new (c('Set'))([c('MercuryAttachmentType').ANIMATED_IMAGE,c('MercuryAttachmentType').PHOTO,c('MercuryAttachmentType').VIDEO,c('MercuryAttachmentType').THIRDPARTYSTICKER]),j=700,k='sticker:',l='giftwrap:',m=function(o){return o===Object(o);},n={getAttachmentsInsideBubble:function(o,p){var q=c('MercuryAttachment').get(o).filter(m).filter(function(r){return (!this.attachmentShouldAppearOutsideBubble(r));}.bind(this));return this._getAttachmentComponents(q,o,p);},getAttachmentsOutsideBubble:function(o,p,q,r){var s=c('MercuryAttachment').get(o).filter(m).filter(function(t){return (this.attachmentShouldAppearOutsideBubble(t));}.bind(this));return this._getAttachmentComponents(s,o,p,q,r);},_getAttachmentComponents:function(o,p,q,r,s){var t=this._getPhotosGroup(o.filter(this.isPhotoAttachment),p,s),u=o.filter(function(v){return !this.isPhotoAttachment(v);}.bind(this)).map(function(v){return this._getAttachmentComponent(v,p,q,r,s);}.bind(this));if(t)u.push(t);return u;},_getAttachmentComponent:function(o,p,q,r,s){if(c('MessengerStickerUtils').isStickerAttachment(o))return this._getStickerComponent(o,p,r,s);if(this.isEmojiLikeAttachment(o))return this._getEmojiLikeAttachment(o,p,s);if(this.isVoiceClip(o))return this._getVoiceClip(o,p,r,s);if(this.isFileAttchment(o))return this._getFileComponent(o,p);if(this.isP2P(o)||this.isShareAttachment(o))return this._getShareAttachment(o,p,q);if(this.isErrorAttachment(o))return this._getErrorAttachment(o,p);},_getStickerComponent:function(o,p,q,r){if(p.is_like_preview)return this._maybeGiftWrapSticker(c('React').createElement(c('MessengerHotLikePreview.react'),{customColor:q,customLike:p.customLike,key:'hlp:'+p.like_preview_since,since:p.like_preview_since}),p,r);var s=o.metadata;if(!s){s=c('MessengerHotLikeUtils').getMetadataForHotLike(p.sticker_id);if(!s){var t=c('StickerImages').getSticker(p.sticker_id);s=babelHelpers['extends']({},t);var u=c('StickerUtils').getScaledDimensions(t?t.height:c('StickerConstants').THREAD_SIZE,t?t.width:c('StickerConstants').THREAD_SIZE,c('StickerConstants').THREAD_SIZE),v=u.height,w=u.width;s.height=v;s.width=w;}s.stickerID=p.sticker_id;}var x=c('XStickerAssetController').getURIBuilder().setInt('sticker_id',s.stickerID),y=null,z=null;if(c('isRetina')()){y=s.paddedSpriteURI2x;z=s.spriteURI2x;}else{y=s.paddedSpriteURI;z=s.spriteURI;}var aa=s.stickerID.toString(),ba=c('React').createElement(c('Sticker.react'),{className:"_2poz"+(' '+"_ui9")+(c('MessagingGiftWrapChecker').shouldRenderWithGiftWrap(p)&&!!c('MessengerHotLikeUtils').getMetadataForHotLike(aa)?' '+"_4ue_":''),animationTrigger:'hover',customColor:q,frameCount:s.frameCount||1,frameRate:s.frameRate||c('StickerConstants').DEFAULT_FRAME_RATE,framesPerCol:s.framesPerCol||1,framesPerRow:s.framesPerRow||1,key:k+p.message_id,onStickerClick:function(ca,da){c('StickerActions').handleStickerClick(ca,p.thread_id);},packID:s.packID&&s.packID.toString(),paddedSpriteURI:y,sourceHeight:s.height,sourceURI:x.setEnum('image_type',c('StickerAssetType').IMAGE).getURI().toString(),sourceWidth:s.width,spriteURI:z,stickerID:aa});return this._maybeGiftWrapSticker(ba,p,r);},_getEmojiLikeAttachment:function(o,p,q){var r=c('MercuryConfig').MessengerNewEmojiGK&&c('MercuryConfig').MessengerNewEmojiUtils?c('MercuryConfig').MessengerNewEmojiUtils.getNewEmojiData(p.body,o.size):null,s=r?r.emoji:undefined;if(!r){var t=c('EmojiLikeUtils').getURI(p.body,o.size);if(!t)return this._getErrorAttachment(o,p);}var u=c('React').createElement(c('EmojiSticker.react'),{className:"_2poz _ui9",key:k+p.message_id,emoji:p.body,emojiImage:s,sourceURI:t?t:''});return this._maybeGiftWrapSticker(u,p,q);},_getShareAttachment:function(o,p,q){return c('React').createElement(c('MercuryShareAttachment.react'),{attachment:o.share,isSponsored:p.is_sponsored,key:'share:'+p.message_id,location:c('MercuryShareAttachmentRenderLocations').MESSENGER,maxWidth:j,messageID:p.message_id,onComponentLoaded:q,pageID:p.author,thread_id:p.thread_id});},_getVoiceClip:function(o,p,q,r){return (c('React').createElement(c('MessengerVoiceClipAttachment.react'),{attachment:o,customColor:q||undefined,isGiftWrapped:c('MessagingGiftWrapChecker').shouldRenderWithGiftWrap(p),key:'audio:'+p.message_id,message:p,onUnwrap:function(){r&&r();}}));},_getErrorAttachment:function(o,p){return (c('React').createElement(c('MessengerErrorAttachment.react'),{attachment:o,key:'error:'+p.message_id}));},_getPhotosGroup:function(o,p,q){return o.length?c('React').createElement(c('MessengerPhotosGroup.react'),{attachments:o,className:"_2poz _52mr _ui9",isGiftWrapped:c('MessagingGiftWrapChecker').shouldRenderWithGiftWrap(p)&&this._rendersWithoutAttribution(o),key:'photos:'+p.message_id,message:p,onUnwrap:function(){q&&q();}}):null;},_rendersWithoutAttribution:function(o){return o.length!=1||!c('MercuryAttachment').hasAttribution(o[0]);},_getFileComponent:function(o,p){return (c('React').createElement(c('MessengerFileAttachment.react'),{attachment:o,className:"_2poz",key:'file:'+o.url}));},attachmentShouldAppearOutsideBubble:function(o){return c('MessengerStickerUtils').isStickerAttachment(o)||this.isPhotoAttachment(o)||this.isShareAttachment(o)||this.isP2P(o)||this.isVoiceClip(o)||this.isErrorAttachment(o)||this.isEmojiLikeAttachment(o);},isPhotoAttachment:function(o){return i.has(o.attach_type);},isFileAttchment:function(o){return o.attach_type===c('MercuryAttachmentType').FILE;},isShareAttachment:function(o){return !!(this._isStoryBased(o)&&!this.isP2P(o)&&(o.share.style_list.indexOf(c('StoryAttachmentStyle').SHARE)>-1||o.share.style_list.indexOf(c('StoryAttachmentStyle').FALLBACK)>-1));},isP2P:function(o){return !!(this._isStoryBased(o)&&o.share.style_list.indexOf(c('StoryAttachmentStyle').ORION)>-1);},_isStoryBased:function(o){return !!(o.attach_type===c('MercuryAttachmentType').SHARE&&o.share&&o.share.style_list);},isEmojiLikeAttachment:function(o){return o.attach_type===c('MercuryAttachmentType').EMOJI_LIKE;},isVoiceClip:function(o){return !!o.metadata&&(o.metadata.type===c('MercuryAudioType').AudioClip||o.metadata.type===c('MercuryAudioType').VoiceMessageWithTranscript);},isVoiceClipAttachment:function(o){var p=c('MercuryAttachment').get(o).filter(m).filter(function(q){return (this.isVoiceClip(q));}.bind(this));return !!p.length;},isP2PAttachment:function(o){var p=c('MercuryAttachment').get(o).filter(function(q){return (m(q)&&this.isP2P(q));}.bind(this));return !!p.length;},isErrorAttachment:function(o){return o.attach_type===c('MercuryAttachmentType').ERROR;},_maybeGiftWrapComponentForMessage:function(o,p,q){if(!c('MessagingGiftWrapChecker').shouldRenderWithGiftWrap(p))return o;return (c('React').createElement('div',{key:l+p.message_id},o,c('React').createElement(c('MessagingGiftWrap.react'),{onUnwrap:q})));},_maybeGiftWrapSticker:function(o,p,q){if(!c('MessagingGiftWrapChecker').shouldRenderWithGiftWrap(p))return o;return (c('React').createElement('div',{key:l+p.message_id},o,c('React').createElement(c('MessagingGiftWrap.react'),{isSticker:true,onUnwrap:q})));}};f.exports=n;},null);
__d('shouldNotRenderSegoe',['MessengerConfig','UserAgent'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=new RegExp('[\u0530-\u058f\u10a0-\u10ff]'),i=c('UserAgent').isBrowser('Chrome')&&c('UserAgent').isPlatform('Windows 10');f.exports=function j(k){return (!c('MessengerConfig').SegoeUIDisabled&&i&&h.test(k));};},null);
__d('MessengerBubble.react',['cx','EmojiLikeUtils','EmojiOnlyMessage.react','immutable','MercuryMessageBody.react','MessagingGiftWrap.react','ReactComponentWithPureRenderMixin','shouldNotRenderSegoe','React','joinClasses','messengerCustomColorUtils'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'MessengerBubble',mixins:[c('ReactComponentWithPureRenderMixin')],propTypes:{attachments:i.instanceOf(c('immutable').List),body:i.string,customColor:i.string,customLike:i.object,isGiftWrapped:i.bool,isP2PAttachment:i.bool,onUnwrap:i.func,ranges:i.array,threadID:i.string},getInitialState:function(){return {emojis:undefined};},componentDidMount:function(){if(!this.props.emojis){var k=this.props.body||'',l=c('EmojiLikeUtils').richContent(k);if(l&&l.length)this.setState({emojis:l});}},render:function(){var k={};if(!this.state.emojis&&this.props.customColor)k=c('messengerCustomColorUtils').customBubbleStyle(this.props.customColor,k);if(this.state.emojis){var l=c('EmojiLikeUtils').getSourceURIs(this.state.emojis),m=c('React').createElement(c('EmojiOnlyMessage.react'),{sourceURIs:l});}else m=c('React').createElement(c('MercuryMessageBody.react'),{className:"_3oh-"+(c('shouldNotRenderSegoe')(this.props.body||'')?' '+"_2por":''),body:this.props.body,ranges:this.props.ranges,threadID:this.props.threadID,customLike:this.props.customLike});var n=this.props.isGiftWrapped?c('React').createElement(c('MessagingGiftWrap.react'),{onUnwrap:this._handleUnwrap}):null;return (c('React').createElement('div',babelHelpers['extends']({},this.props,{style:k,className:c('joinClasses')(this.props.className,"_hh7"+(' '+"_s1-")+(' '+"_52mr")+(this.props.isP2PAttachment?' '+"_4z55":'')+(!!this.state.emojis?' '+"_2f5r":'')+(!!this.state.emojis?' '+"_581a":''))}),m,this.props.attachments,n));},_handleUnwrap:function(){this.props.onUnwrap&&this.props.onUnwrap();}});f.exports=j;},null);
__d('MessengerCodePasteUtils',['cx','BanzaiODS','MessengerBubble.react','React'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=/`{3,}/;function j(l){return !!(l&&l.search(i)!==-1&&l.split('\n').length>1);}function k(l,m,n){var o=l.split(i),p=[];for(var q=0;q<o.length;q+=2){var r=o[q].trim();if(r&&r.length>0)p.push(c('React').createElement(c('MessengerBubble.react'),{key:q,body:r,className:"clearfix _3058 _ui9",ranges:m,threadID:n}));if(q+1<o.length&&o[q+1]){var s=o[q+1].split('\n'),t=s[0].replace(/[^a-zA-Z]+/g,''),u=s.slice(1).join('\n');c('BanzaiODS').bumpEntityKey('messenger_code_paste','render_bubble');p.push(c('React').createElement('div',{key:q+1,className:"_3058 _15gf _wu0 _52mr"},c('React').createElement('div',{ref:'syntaxTarget'+q,className:'language-'+t},u)));}}return p;}f.exports={containsCodeBlock:j,getCodeAndMessageBubbles:k};},null);
__d('MessengerStore',['MessengerDispatcher','mixInEventEmitter'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(){this.$MessengerStore1=c('MessengerDispatcher').register(this.__onDispatch.bind(this));}h.prototype.getDispatchToken=function(){return this.$MessengerStore1;};h.prototype.emitChange=function(){this.emit('change');};h.prototype.destroy=function(){c('MessengerDispatcher').unregister(this.$MessengerStore1);};c('mixInEventEmitter')(h,{change:true});f.exports=h;},null);
__d('MessengerStateStore',['MessengerActions','MessengerStore'],function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('MessengerStore'));i=h&&h.prototype;function j(){i.constructor.call(this);this.$MessengerStateStore1={activeThreadID:null,detailView:null,filter:null,folder:null,masterView:null,serverThreadID:null};this.$MessengerStateStore2=babelHelpers['extends']({},this.$MessengerStateStore1);}j.prototype.getState=function(){return this.$MessengerStateStore1;};j.prototype.getPrevState=function(){return this.$MessengerStateStore2;};j.prototype.__onDispatch=function(k){switch(k.type){case c('MessengerActions').Types.REPLACE_STATE:this.$MessengerStateStore2=this.$MessengerStateStore1;this.$MessengerStateStore1=babelHelpers['extends']({activeThreadID:null,detailView:null,filter:null,folder:null,masterView:null,serverThreadID:null},k.nextState);this.emitChange();break;}};f.exports=new j();},null);
__d('MessengerAttachmentAttribution.react',['cx','ImmutableObject','MercuryAttachmentAttribution.react','React'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'MessengerAttachmentAttribution',propTypes:{attachment:i.instanceOf(c('ImmutableObject'))},render:function(){return (c('React').createElement(c('MercuryAttachmentAttribution.react'),{attachment:this.props.attachment,className:"_2f5n _4br2"}));}});f.exports=j;},null);
__d('MessengerBubbleBlock.react',['cx','React'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('React').createClass({displayName:'MessengerBubbleBlock',render:function(){return (c('React').createElement('div',{className:"_52mr _4h13 _3058"},this.props.children));}});f.exports=i;},null);
__d('MessengerCodeBubble.react',['Bootloader','immutable','MessengerCodePasteUtils','ReactComponentWithPureRenderMixin','React','ReactDOM'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=c('React').createClass({displayName:'MessengerCodeBubble',mixins:[c('ReactComponentWithPureRenderMixin')],propTypes:{attachments:h.instanceOf(c('immutable').List),body:h.string.isRequired,ranges:h.array.isRequired,threadID:h.string.isRequired},componentDidMount:function(){c('Bootloader').loadModules(["Prism.Complete"],function(j){for(var k in this.refs){var l=c('ReactDOM').findDOMNode(this.refs[k]);j.highlightElement(l);}}.bind(this));},render:function(){var j=c('MessengerCodePasteUtils').getCodeAndMessageBubbles(this.props.body,this.props.ranges,this.props.threadID);return c('React').createElement('div',null,j);}});f.exports=i;},null);
__d('MessengerDateBreak.react',['cx','React','formatDate','joinClasses'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'MessengerDateBreak',propTypes:{date:i.instanceOf(Date).isRequired},shouldComponentUpdate:function(k){return this.props.date.getTime()!==k.date.getTime();},render:function(){var k=c('formatDate')(this.props.date,{today:'g:ia',withinWeek:'D g:ia',thisYear:'M jS, g:ia',older:'m/d/Y g:ia'});return (c('React').createElement('h4',{className:c('joinClasses')(this.props.className,"_497p _2lpt")},c('React').createElement('time',{className:"_3oh-"},k)));}});f.exports=j;},null);
__d('MessengerDialogCancelButton.react',['fbt','MessengerDialogButton.react','ReactComponentWithPureRenderMixin','React'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('React').createClass({displayName:'MessengerDialogCancelButton',mixins:[c('ReactComponentWithPureRenderMixin')],render:function(){return (c('React').createElement(c('MessengerDialogButton.react'),babelHelpers['extends']({action:'cancel',label:h._("Cancelar"),type:'secondary'},this.props)));}});f.exports=i;},null);
__d('MessengerDeleteMessageDialog.react',['fbt','MercuryConfig','MessengerDialog.react','MessengerDialogBody.react','MessengerDialogButton.react','MessengerDialogCancelButton.react','MessengerDialogFooter.react','MessengerDialogHeader.react','ReactComponentWithPureRenderMixin','React'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'MessengerDeleteMessageDialog',mixins:[c('ReactComponentWithPureRenderMixin')],propTypes:{isFromViewer:i.bool,onDelete:i.func,onToggle:i.func},render:function(){return (c('React').createElement(c('MessengerDialog.react'),{onToggle:this.props.onToggle},c('React').createElement(c('MessengerDialogHeader.react'),null,this._renderDialogHeaderMsg()),c('React').createElement(c('MessengerDialogBody.react'),null,this._renderDialogBodyMsg()),c('React').createElement(c('MessengerDialogFooter.react'),null,c('React').createElement(c('MessengerDialogCancelButton.react'),{onClick:this._handleCancel}),c('React').createElement(c('MessengerDialogButton.react'),{label:this._renderDialogButtonMsg(),onClick:this._handleDelete,type:'primary',use:'danger'}))));},_renderDialogHeaderMsg:function(){if(c('MercuryConfig').MessengerGlobalDeleteGK)if(this.props.isFromViewer){return h._("\u00bfEliminar mensaje?");}else return h._("\u00bfOcultar mensaje?");return h._("Eliminar mensaje");},_renderDialogBodyMsg:function(){if(c('MercuryConfig').MessengerGlobalDeleteGK)if(this.props.isFromViewer){return h._("Si eliminas este mensaje, ya no podr\u00e1 verlo ning\u00fan participante de la conversaci\u00f3n. Esta acci\u00f3n no se puede deshacer.");}else return h._("Si ocultas tu copia de este mensaje, no podr\u00e1s recuperarla. El otro participante de la conversaci\u00f3n podr\u00e1 seguir vi\u00e9ndolo.");return h._("\u00bfSeguro que quieres eliminar este mensaje?");},_renderDialogButtonMsg:function(){if(!this.props.isFromViewer&&c('MercuryConfig').MessengerGlobalDeleteGK)return h._("Ocultar");return h._("Eliminar");},_handleDelete:function(){this.props.onToggle&&this.props.onToggle(false);this.props.onDelete&&this.props.onDelete();},_handleCancel:function(){this.props.onCancel&&this.props.onCancel();}});f.exports=j;},null);
__d('MNCommerceLoggingConstants',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={DIALOG_SURFACE:{CHECKOUT_ORDER_CONFIG:'checkout_order_config',SHIPMENT:'shipment',RECEIPT:'receipt',UNLINK:'unlink',UNLINK_ERROR:'unlink_error',MANAGE:'manage'}};f.exports=h;},null);
__d('MNCommerceUnlinkDialog.react',['fbt','MNCommerceButton.react','MNCommerceDialog.react','MNCommerceDialogBody.react','MNCommerceDialogFooter.react','MNCommerceDialogTitle.react','React'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'MNCommerceUnlinkDialog',propTypes:{onCancelButtonClick:i.func,onTurnOffButtonClick:i.func},render:function(){var k=h._("Cancelar"),l=h._("Desactivar");return (c('React').createElement(c('MNCommerceDialog.react'),{onToggle:this.props.onToggle,shown:this.props.shown},c('React').createElement(c('MNCommerceDialogTitle.react'),{showCloseButton:false},h._("\u00bfQuieres desvincular la cuenta?")),c('React').createElement(c('MNCommerceDialogBody.react'),null,c('React').createElement('div',null,h._("Puedes desactivar las actualizaciones si no te has registrado o si no quieres recibirlas m\u00e1s."))),c('React').createElement(c('MNCommerceDialogFooter.react'),null,c('React').createElement(c('MNCommerceButton.react'),{label:k,onClick:this.props.onCancelButtonClick,use:'default'}),c('React').createElement(c('MNCommerceButton.react'),{label:l,onClick:this.props.onTurnOffButtonClick,use:'confirm'}))));}});f.exports=j;},null);
__d('MNCommerceUnlinkErrorDialog.react',['fbt','MNCommerceAttachmentConstants','MNCommerceErrors','React','MNCommerceButton.react','MNCommerceDialog.react','MNCommerceDialogBody.react','MNCommerceDialogFooter.react','MNCommerceDialogTitle.react'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'MNCommerceUnlinkErrorDialog',propTypes:{errorType:i.number,onOkayButtonClick:i.func},render:function(){var k=h._("Aceptar"),l=null,m=null;switch(this.props.errorType){case c('MNCommerceErrors').ALREADY_UNLINKED:m=c('React').createElement('div',null,h._("Las actualizaciones ya est\u00e1n desactivadas"));l=c('React').createElement('div',null,h._("No recibes actualizaciones en Messenger."));break;default:m=c('React').createElement('div',null,h._("No se han podido desactivar las actualizaciones"));l=c('React').createElement('div',null,h._("Se ha producido un error. Vuelve a intentarlo."));break;}return (c('React').createElement(c('MNCommerceDialog.react'),{onToggle:this.props.onToggle,shown:this.props.shown,width:c('MNCommerceAttachmentConstants').UNLINK_ERROR_DIALOG.WIDTH},c('React').createElement(c('MNCommerceDialogTitle.react'),null,m),c('React').createElement(c('MNCommerceDialogBody.react'),null,l),c('React').createElement(c('MNCommerceDialogFooter.react'),null,c('React').createElement(c('MNCommerceButton.react'),{label:k,onClick:this.props.onOkayButtonClick,use:'confirm'}))));}});f.exports=j;},null);
__d('MNCommerceUnlinkDialogContainer.react',['BanzaiLogger','MNCommerceDialogStateActions','MNCommerceDialogStateStore','MNCommerceLoggingConstants','MNCommerceLoggerEvents','MNCommerceUnlinkDialog.react','MNCommerceUnlinkErrorDialog.react','React'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('React').createClass({displayName:'MNCommerceUnlinkDialogContainer',render:function(){var i=c('MNCommerceDialogStateStore').getState();if(i&&i.errorType){c('BanzaiLogger').log('MessengerCommerceLoggerConfig',{event:c('MNCommerceLoggerEvents').DIALOG_LOAD_SUCCESS,debug_data:JSON.stringify({dialog_surface:c('MNCommerceLoggingConstants').DIALOG_SURFACE.UNLINK_ERROR})});return (c('React').createElement(c('MNCommerceUnlinkErrorDialog.react'),{onToggle:this._onToggle,shown:!!i,errorType:i.errorType,onOkayButtonClick:this._hideDialog}));}else{c('BanzaiLogger').log('MessengerCommerceLoggerConfig',{event:c('MNCommerceLoggerEvents').DIALOG_LOAD_SUCCESS,debug_data:JSON.stringify({dialog_surface:c('MNCommerceLoggingConstants').DIALOG_SURFACE.UNLINK})});return (c('React').createElement(c('MNCommerceUnlinkDialog.react'),{onToggle:this._onToggle,shown:!!i,onCancelButtonClick:this._hideDialog,onTurnOffButtonClick:i&&i.onTurnOffButtonClick}));}},_onToggle:function(i){if(!i)this._hideDialog();},_hideDialog:function(){c('MNCommerceDialogStateActions').hideDialog();}});f.exports=h;},null);
__d("XMNCommerceUnlinkController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/messages\/commerce\/unlink\/",{page_id:{type:"String",required:true},user_id:{type:"String",required:true}});},null);
__d('MNCommerceUnlinkDataManager',['AsyncRequest','MNCommerceDialogStateActions','MNCommerceUnlinkDialogContainer.react','XMNCommerceUnlinkController'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();h.prototype.unlink=function(i,j){var k=c('XMNCommerceUnlinkController').getURIBuilder().setString('page_id',i).setString('user_id',j).getURI();new (c('AsyncRequest'))().setURI(k).setErrorHandler(this.$MNCommerceUnlinkDataManager1).send();};h.prototype.$MNCommerceUnlinkDataManager1=function(i){c('MNCommerceDialogStateActions').showDialog(c('MNCommerceUnlinkDialogContainer.react'),{errorType:i.error});};function h(){}f.exports=new h();},null);
__d('MNCommerceLogMessageUtils',['cx','fbt','invariant','BanzaiLogger','Link.react','MercuryConfig','MercuryIDs','MercuryThreads','MNCommerceLoggingConstants','MNCommerceLoggerEvents','MNCommerceDialogStateActions','MNCommerceReplyTypes','MNCommercePromotionBlockDataManager','MNCommercePromotionManageBlockDialogContainer.react','MNCommerceUnlinkDataManager','MNCommerceUnlinkDialogContainer.react','React'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=c('MercuryThreads').get();l.prototype.isCommercePageAdminMessage=function(m){return !!(m&&m.log_message_data&&(m.log_message_data.replyType===c('MNCommerceReplyTypes').COMMERCE_LINK||m.log_message_data.replyType===c('MNCommerceReplyTypes').COMMERCE_UNLINK));};l.prototype.getCommercePageManage=function(m,n){var o=null;if(c('MercuryConfig').WWWMessengerManageAdminGK){var p=function(){var r=c('MercuryIDs').getUserIDFromParticipantID(m.author),s=function(t,u){return c('MNCommercePromotionBlockDataManager').block(t,u);};c('MNCommerceDialogStateActions').showDialog(c('MNCommercePromotionManageBlockDialogContainer.react'),{pageID:r,onConfirmButtonClick:s});c('BanzaiLogger').log('MessengerCommerceLoggerConfig',{event:c('MNCommerceLoggerEvents').DIALOG_OPENED,debug_data:JSON.stringify({dialog_surface:c('MNCommerceLoggingConstants').DIALOG_SURFACE.MANAGE})});};o=c('React').createElement(c('Link.react'),{className:(!n?"_2w2m":'')+(n?' '+"_1jvn":''),onClick:p},i._("Gestionar"));}else if(m.log_message_data.replyType===c('MNCommerceReplyTypes').COMMERCE_LINK){var q=function(){var r=c('MercuryIDs').getUserIDFromParticipantID(m.author),s=k.getThreadMetaNow(m.thread_id);!s?j(0):undefined;var t=null;s.participants.every(function(v){if(v!==m.author){t=c('MercuryIDs').getUserIDFromParticipantID(v);return false;}return true;});var u=function(){c('MNCommerceDialogStateActions').hideDialog();c('MNCommerceUnlinkDataManager').unlink(r,t);};c('MNCommerceDialogStateActions').showDialog(c('MNCommerceUnlinkDialogContainer.react'),{onTurnOffButtonClick:u});c('BanzaiLogger').log('MessengerCommerceLoggerConfig',{event:c('MNCommerceLoggerEvents').DIALOG_OPENED,debug_data:JSON.stringify({dialog_surface:c('MNCommerceLoggingConstants').DIALOG_SURFACE.UNLINK})});};o=c('React').createElement(c('Link.react'),{className:(!n?"_2w2m":'')+(n?' '+"_1jvn":''),onClick:q},i._("Desactivar"));}return (c('React').createElement('span',null,m.log_message_body,' ',o));};function l(){}f.exports=new l();},null);
__d('P2PBigAmount.react',['cx','ix','CurrentEnvironment','Image.react','React'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=c('React').createClass({displayName:'P2PBigAmount',propTypes:{amount:j.string.isRequired,isPending:j.bool,size:j.oneOf(['medium','large'])},getDefaultProps:function(){return {size:'medium'};},getImage:function(){if(this.isMessengerDotCom()){if(this.props.isPending){if(this.props.size==='large'){return i('/images/p2p/message-icon-dark-gray-large.png');}else return i('/images/p2p/message-icon-dark-gray.png');}else if(this.props.size==='large'){return i('/images/p2p/message-icon-messenger-blue.png');}else return i('/images/p2p/message-icon-blue.png');}else if(this.props.isPending){if(this.props.size==='large'){return i('/images/p2p/message-icon-gray-large.png');}else return i('/images/p2p/message-icon-gray.png');}else if(this.props.size==='large'){return i('/images/p2p/message-icon-facebook-blue.png');}else return i('/images/p2p/message-icon-www-blue.png');},isMessengerDotCom:function(){return c('CurrentEnvironment').messengerdotcom;},render:function(){var l=this.props.size==='large'?'24':'16';return (c('React').createElement('div',{className:"_8j6"+(this.isMessengerDotCom()?' '+"_8j7":'')+(this.props.size==='large'?' '+"_1fv":'')},c('React').createElement('div',{className:"_8j8"},c('React').createElement(c('Image.react'),{height:l,src:this.getImage(),width:l})),c('React').createElement('div',{className:"_8jc"+(this.props.isPending?' '+"_8jd":'')+(this.props.amount.length>=8?' '+"_8je":'')+(' '+"_3oh-")},this.props.amount)));}});f.exports=k;},null);
__d('P2PGroupSendReceiptDialog.react',['cx','fbt','CurrentEnvironment','Image.react','Link.react','P2PAmountUtils','P2PButton.react','P2PBigAmount.react','P2PDialog.react','P2PDialogBody.react','P2PDialogFooter.react','P2PDialogTitle.react','P2PLinkConstants','P2PLogger','P2PPaymentLoggerEvent','P2PPaymentLoggerEventFlow','P2PText.react','React'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=c('React').createClass({displayName:'P2PGroupSendReceiptDialog',propTypes:{amount:j.string.isRequired,eventFlow:j.string,isGrayAmount:j.bool,onClose:j.func.isRequired,receiver:j.object.isRequired,sender:j.object.isRequired,title:j.node},getDefaultProps:function(){return {bodyText:i._("Puedes enviar dinero a amigos en grupos."),eventFlow:c('P2PPaymentLoggerEventFlow').UI_FLOW_P2P_GROUP_SEND,isGrayAmount:false,title:i._("Detalles del pago")};},componentDidMount:function(){this.log(c('P2PPaymentLoggerEvent').UI_ACTN_3RD_PARTY_RECEIPT_SHOWN,{raw_amount:this.props.amount});},log:function(l,m){c('P2PLogger').log(l,babelHelpers['extends']({www_event_flow:this.props.eventFlow},m));},handleClose:function(){this.log(c('P2PPaymentLoggerEvent').UI_ACTN_3RD_PARTY_RECEIPT_DISMISSED);this.props.onClose();},renderParticipantRow:function(l,m){var n;if(m){n=i._("De");}else n=i._("Para");return (c('React').createElement('li',{className:"_2chg",key:l.id},c('React').createElement('div',{className:"_2chh"},c('React').createElement(c('Link.react'),{href:l.profile_uri,onClick:this.props.onClose},c('React').createElement(c('Image.react'),{height:50,src:l.picture,width:50}))),c('React').createElement('div',{className:"_2chi"},c('React').createElement(c('P2PText.react'),{type:'primary'},c('React').createElement(c('P2PText.react'),{type:'secondary'},n),l.full_name))));},render:function(){var l=c('CurrentEnvironment').messengerdotcom,m=l?380:360,n=this.props.title;return (c('React').createElement(c('P2PDialog.react'),{className:l?"_bpv":'',layerHideOnBlur:false,onToggle:this.props.onClose,width:m},c('React').createElement(c('P2PDialogTitle.react'),null,n),c('React').createElement(c('P2PDialogBody.react'),null,c('React').createElement('ul',null,this.renderParticipantRow(this.props.sender,true),this.renderParticipantRow(this.props.receiver,false)),c('React').createElement('div',{className:"_bpy"},c('React').createElement(c('P2PBigAmount.react'),{amount:c('P2PAmountUtils').sanitizeAmount(this.props.amount),isPending:this.props.isGrayAmount,size:'large'})),c('React').createElement(c('P2PText.react'),{className:"_bpt",size:'small',type:'secondary'},this.props.bodyText,' ',c('React').createElement(c('Link.react'),{className:"_1ed3",href:c('P2PLinkConstants').helpCenterURI,target:'_blank'},i._("M\u00e1s informaci\u00f3n")))),c('React').createElement(c('P2PDialogFooter.react'),null,c('React').createElement(c('P2PButton.react'),{label:i._("Aceptar"),onClick:this.handleClose,type:'primary'}))));}});f.exports=k;},null);
__d('P2PGroupPaymentRequestReceiptDialog.react',['fbt','P2PActions','P2PPaymentLoggerEventFlow','P2PGroupSendReceiptDialog.react','React'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'P2PGroupPaymentRequestReceiptDialog',propTypes:{amount:i.string,onClose:i.func,requestee:i.object.isRequired,requester:i.object.isRequired},render:function(){return (c('React').createElement(c('P2PGroupSendReceiptDialog.react'),{amount:this.props.amount,bodyText:h._("Puedes enviar solicitudes de pago a los amigos de tus grupos"),eventFlow:c('P2PPaymentLoggerEventFlow').UI_FLOW_P2P_GROUP_REQUEST,isGrayAmount:true,onClose:this.props.onClose||c('P2PActions').hideDialog,title:h._("Detalles de la solicitud de pago"),receiver:this.props.requestee,sender:this.props.requester}));}});f.exports=j;},null);
__d("XP2PPaymentRequestReceiptController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/payment_request\/",{id:{type:"String",required:true}});},null);
__d("XP2PTransactionDetailController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/transaction\/",{id:{type:"String",required:true}});},null);
__d('P2PMercuryLogMessage.react',['cx','fbt','CurrentEnvironment','CurrentUser','Link.react','MercuryIDs','P2PGroupPaymentRequestReceiptDialog.react','P2PGroupSendReceiptDialog.react','P2PPaymentLogMessageSubtype','React','ReactLayeredComponentMixin','XP2PPaymentRequestReceiptController','XP2PTransactionDetailController'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=c('React').createClass({displayName:'P2PMercuryLogMessage',mixins:[c('ReactLayeredComponentMixin')],propTypes:{amount:j.string,receiver:j.object.isRequired,sender:j.object.isRequired,subtype:j.oneOf(Object.keys(c('P2PPaymentLogMessageSubtype')).map(function(l){return c('P2PPaymentLogMessageSubtype')[l];})),transferID:j.string.isRequired,threadFBID:j.string,threadID:j.string},getDefaultProps:function(){return {amount:'',sender:null,receiver:null,subtype:null};},getInitialState:function(){return {groupPaymentRequestReceiptDetailsShown:false,groupSendReceiptDetailsShown:false};},handleGroupDetailsLinkClicked:function(){this.setState({groupSendReceiptDetailsShown:true});},handleGroupPaymentRequestDetailsLinkClicked:function(){this.setState({groupPaymentRequestReceiptDetailsShown:true});},handleThirdPartyReceiptDialogClosed:function(){this.setState({groupPaymentRequestReceiptDetailsShown:false,groupSendReceiptDetailsShown:false});},isViewerSender:function(){return (c('MercuryIDs').getUserIDFromParticipantID(this.props.sender.id)===c('CurrentUser').getID());},isViewerReceiver:function(){return (c('MercuryIDs').getUserIDFromParticipantID(this.props.receiver.id)===c('CurrentUser').getID());},renderPaymentRequestDetailsLink:function(){var l=c('XP2PPaymentRequestReceiptController').getURIBuilder().setString('id',this.props.transferID).getURI();return (c('React').createElement(c('Link.react'),{className:"_kiq",href:l,target:'_blank'},i._("Ver detalles")));},renderTransferDetailsLink:function(){var l=c('XP2PTransactionDetailController').getURIBuilder().setString('id',this.props.transferID).getURI();return (c('React').createElement(c('Link.react'),{className:"_kiq",href:l,target:'_blank'},i._("Ver detalles")));},renderGroupDetailsLink:function(){return (c('React').createElement(c('Link.react'),{className:"_kiq",href:'#',onClick:this.handleGroupDetailsLinkClicked},i._("Ver detalles")));},renderGroupPaymentRequestDetailsLink:function(){return (c('React').createElement(c('Link.react'),{className:"_kiq",href:'#',onClick:this.handleGroupPaymentRequestDetailsLinkClicked},i._("Ver detalles")));},renderLayers:function(){var l={},m={full_name:this.props.receiver.name,id:this.props.receiver.id,picture:this.props.receiver.image_src,profile_uri:this.props.receiver.href},n={full_name:this.props.sender.name,id:this.props.sender.id,picture:this.props.sender.image_src,profile_uri:this.props.sender.href};if(this.state.groupSendReceiptDetailsShown){l.groupSendReceiptDetailsDialog=c('React').createElement(c('P2PGroupSendReceiptDialog.react'),{amount:this.props.amount,onClose:this.handleThirdPartyReceiptDialogClosed,receiver:m,sender:n});}else if(this.state.groupPaymentRequestReceiptDetailsShown)l.groupPaymentRequestReceiptDetailsDialog=c('React').createElement(c('P2PGroupPaymentRequestReceiptDialog.react'),{amount:this.props.amount,onClose:this.handleThirdPartyReceiptDialogClosed,requestee:m,requester:n});return l;},render:function(){var l=null,m=this.props.amount,n=this.props.subtype,o=this.isViewerSender(),p=this.isViewerReceiver(),q;if(!o&&!p){q=this.renderGroupDetailsLink();}else q=this.renderTransferDetailsLink();switch(n){case c('P2PPaymentLogMessageSubtype').SENT_IN_GROUP:l=i._("{sendername} ha enviado {amount} a {receivername}. {details}",[i.param('sendername',this.props.sender.name),i.param('amount',m),i.param('receivername',this.props.receiver.name),i.param('details',q)]);break;case c('P2PPaymentLogMessageSubtype').CANCELED_EXPIRED:case c('P2PPaymentLogMessageSubtype').CANCELED_SAME_CARD:case c('P2PPaymentLogMessageSubtype').CANCELED_SENDER_RISK:case c('P2PPaymentLogMessageSubtype').CANCELED_RECIPIENT_RISK:case c('P2PPaymentLogMessageSubtype').CANCELED_CUSTOMER_SERVICE:if(o){l=i._("Se ha cancelado tu pago de {amount}. {details}",[i.param('amount',m),i.param('details',this.renderTransferDetailsLink())]);}else if(p){l=i._("Se ha cancelado el pago de {amount} de {name}. {details}",[i.param('name',this.props.sender.name),i.param('amount',m),i.param('details',this.renderTransferDetailsLink())]);}else l=i._("Se ha cancelado el pago de {amount} de {sender_name} a {receiver_name}. {details}",[i.param('sender_name',this.props.sender.name),i.param('amount',m),i.param('receiver_name',this.props.receiver.name),i.param('details',q)]);l=c('React').createElement('span',{className:"_5rdx"},l);break;case c('P2PPaymentLogMessageSubtype').CANCELED_DECLINED:if(o){l=i._("{name} no ha aceptado tu pago de {amount}. {details}",[i.param('name',this.props.receiver.name),i.param('amount',m),i.param('details',this.renderTransferDetailsLink())]);}else if(p){l=i._("No has aceptado el pago de {amount} de {name}. {details}",[i.param('name',this.props.sender.name),i.param('amount',m),i.param('details',this.renderTransferDetailsLink())]);}else l=i._("{receiver_name} no ha aceptado el pago de {amount} de {sender_name}. {details}",[i.param('receiver_name',this.props.receiver.name),i.param('sender_name',this.props.sender.name),i.param('amount',m),i.param('details',q)]);l=c('React').createElement('span',{className:"_5rdx"},l);break;case c('P2PPaymentLogMessageSubtype').REQUEST_CANCELED_BY_REQUESTER:if(o){l=i._("Has cancelado tu solicitud de {payment request amount}. {details}",[i.param('payment request amount',m),i.param('details',this.renderPaymentRequestDetailsLink())]);}else if(p){l=i._("{sender's name} ha cancelado su solicitud de {payment request amount}. {details}",[i.param('sender\'s name',this.props.sender.name),i.param('payment request amount',m),i.param('details',this.renderPaymentRequestDetailsLink())]);}else l=i._("{sender's name} ha cancelado su solicitud de {payment request amount} de {receiver's name}. {details}",[i.param('sender\'s name',this.props.sender.name),i.param('payment request amount',m),i.param('receiver\'s name',this.props.receiver.name),i.param('details',this.renderGroupPaymentRequestDetailsLink())]);l=c('React').createElement('span',{className:"_5rdx"},l);break;case c('P2PPaymentLogMessageSubtype').REQUEST_DECLINED_BY_REQUESTEE:if(o){l=i._("{receiver's name} ha rechazado tu solicitud de {payment request amount}. {details}",[i.param('receiver\'s name',this.props.receiver.name),i.param('payment request amount',m),i.param('details',this.renderPaymentRequestDetailsLink())]);}else if(p){l=i._("Has rechazado la solicitud de {sender's name} de {payment request amount}. {details}",[i.param('sender\'s name',this.props.sender.name),i.param('payment request amount',m),i.param('details',this.renderPaymentRequestDetailsLink())]);}else l=i._("{receiver's name} ha rechazado la solicitud de {sender's name} de {payment request amount}. {details}",[i.param('receiver\'s name',this.props.receiver.name),i.param('sender\'s name',this.props.sender.name),i.param('payment request amount',m),i.param('details',this.renderGroupPaymentRequestDetailsLink())]);l=c('React').createElement('span',{className:"_5rdx"},l);break;case c('P2PPaymentLogMessageSubtype').REQUEST_EXPIRED:if(o){l=i._("Tu solicitud de {payment request amount} ha caducado, por lo que se ha cancelado. {details}",[i.param('payment request amount',m),i.param('details',this.renderPaymentRequestDetailsLink())]);}else if(p){l=i._("La solicitud de {sender's name} de {payment request amount} ha caducado, por lo que se ha cancelado. {details}",[i.param('sender\'s name',this.props.sender.name),i.param('payment request amount',m),i.param('details',this.renderPaymentRequestDetailsLink())]);}else l=i._("La solicitud de {sender's name} a {receiver's name} de {payment request amount} ha caducado, por lo que se ha cancelado. {details}",[i.param('sender\'s name',this.props.sender.name),i.param('receiver\'s name',this.props.receiver.name),i.param('payment request amount',m),i.param('details',this.renderGroupPaymentRequestDetailsLink())]);l=c('React').createElement('span',{className:"_5rdx"},l);break;}return (c('React').createElement('div',{className:c('CurrentEnvironment').messengerdotcom?"_5rdy":''},l));}});f.exports=k;},null);
__d('MessengerLogMessageBody.react',['fbt','immutable','ImmutableObject','MercuryIDs','MercuryParticipants','MercuryLogMessageType','P2PMercuryLogMessage.react','ReactComponentWithPureRenderMixin','React','StoreAndPropBasedStateMixin'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'MessengerLogMessageBody',_viewer:'',mixins:[c('ReactComponentWithPureRenderMixin'),c('StoreAndPropBasedStateMixin')(c('MercuryParticipants'))],propTypes:{message:i.instanceOf(c('ImmutableObject')).isRequired,viewer:i.string.isRequired},statics:{calculateState:function(k){var l=[],m=k.message,n=m.log_message_data,o=m.log_message_type;switch(o){case c('MercuryLogMessageType').SUBSCRIBE:l=n.added_participants;break;case c('MercuryLogMessageType').UNSUBSCRIBE:l=n.removed_participants;break;case c('MercuryLogMessageType').ORION:l.push(n.senderId,n.receiverId);break;}if(!l||!l.length)return {};var p=c('immutable').Map().withMutations(function(q){l.forEach(function(r){q.set(r,c('MercuryParticipants').getOrFetch(r)||{});});});return {extraParticipants:p};}},render:function(){var k=this.props.message.log_message_type;this._viewer=c('MercuryIDs').getParticipantIDFromUserID(this.props.viewer);if(this._viewer!==this.props.message.author&&k!==c('MercuryLogMessageType').ORION)return null;switch(k){case c('MercuryLogMessageType').SUBSCRIBE:return (c('React').createElement('span',null,this._renderSubscribeMessage(this.props.message)));case c('MercuryLogMessageType').UNSUBSCRIBE:return (c('React').createElement('span',null,this._renderUnsubscribeMessage(this.props.message)));case c('MercuryLogMessageType').THREAD_NAME:var l=this.props.message.log_message_data;if(!l.name)return (c('React').createElement('span',null,h._("Has eliminado el nombre del grupo.")));return (c('React').createElement('span',null,h._("Has asignado al grupo el nombre {the new name of the group}.",[h.param('the new name of the group',l.name)])));case c('MercuryLogMessageType').THREAD_IMAGE:return (c('React').createElement('span',null,h._("Has cambiado la foto del grupo.")));case c('MercuryLogMessageType').ORION:return this._renderP2PLogMessage(this.props.message);default:return null;}},_renderP2PLogMessage:function(k){var l=k.log_message_data,m=l.senderId,n=l.receiverId,o=this.state.extraParticipants,p=o.get(m),q=o.get(n);return (c('React').createElement(c('P2PMercuryLogMessage.react'),{amount:l.formattedAmount,receiver:q,sender:p,subtype:l.subtype,threadFBID:k.thread_fbid,threadID:k.thread_id,transferID:l.transfer_id}));},_renderSubscribeMessage:function(k){var l=this._moveCurrentUserToFront(k.log_message_data.added_participants),m=this.state.extraParticipants;switch(l.length){case 1:return h._("Has a\u00f1adido a {subscriber1}.",[h.param('subscriber1',m.get(l[0]).name)]);case 2:return h._("Has a\u00f1adido a {subscriber1} y {subscriber2}.",[h.param('subscriber1',m.get(l[0]).name),h.param('subscriber2',m.get(l[1]).name)]);case 3:return h._("Has a\u00f1adido a {subscriber1}, {subscriber2} y {subscriber3}.",[h.param('subscriber1',m.get(l[0]).name),h.param('subscriber2',m.get(l[1]).name),h.param('subscriber3',m.get(l[2]).name)]);default:var n=l.map(function(o){return m.get(o);});return h._("Has a\u00f1adido a {subscriber1}, {subscriber2} y {num} personas m\u00e1s.",[h.param('subscriber1',n[0].name),h.param('subscriber2',n[1].name),h.param('num',n.slice(2).length)]);}},_renderUnsubscribeMessage:function(k){var l=this.state.extraParticipants,m=k.log_message_data.removed_participants[0],n=l.get(m);if(!m||m===k.author){return h._("Has abandonado la conversaci\u00f3n.");}else return h._("Has eliminado a {name} de la conversaci\u00f3n.",[h.param('name',n.name)]);},_moveCurrentUserToFront:function(k){var l=this._viewer,m=k.indexOf(l);if(m>0){var n=k.filter(function(o){return o!==l;});return [l].concat(n);}return k;}});f.exports=j;},null);
__d('MessengerLogMessage.react',['cx','ix','Image.react','ImmutableObject','MercuryLogMessageType','MercuryMessageInfo','MercuryXMATRenderer','MessengerLogMessageBody.react','MNCommerceLogMessageUtils','React','ReactComponentWithPureRenderMixin','joinClasses'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=i('/images/mercury/clients/messenger/message/messageStateFailed.png'),l=c('React').createClass({displayName:'MessengerLogMessage',mixins:[c('ReactComponentWithPureRenderMixin')],propTypes:{message:j.instanceOf(c('ImmutableObject')).isRequired,viewer:j.string.isRequired},render:function(){return (c('React').createElement('div',{className:this._computeClass()},this._renderErrorState(),c('React').createElement('i',{className:"_uwa"}),c('React').createElement('span',{className:"_3oh-"},this._renderLogMessageBody())));},_renderLogMessageBody:function(){var m;if(this.props.message.log_message_type!==c('MercuryLogMessageType').ORION)m=c('MercuryXMATRenderer').renderText(this.props.message);return (this._renderMNCommerceManage()||m||c('React').createElement(c('MessengerLogMessageBody.react'),{message:this.props.message,viewer:this.props.viewer}));},_renderMNCommerceManage:function(){var m=this.props.message;if(c('MNCommerceLogMessageUtils').isCommercePageAdminMessage(m))return c('MNCommerceLogMessageUtils').getCommercePageManage(m,true);},_renderErrorState:function(){if(!c('MercuryMessageInfo').hasError(this.props.message))return null;return (c('React').createElement(c('Image.react'),{className:"_41-9",src:k}));},_computeClass:function(){var m,n=this.props.message,o=n.log_message_type===c('MercuryLogMessageType').UNSUBSCRIBE&&n.log_message_data.removed_participants.indexOf(n.author)!==-1,p=this.props.viewer;switch(n.log_message_type){case c('MercuryLogMessageType').SUBSCRIBE:m="_uwb";break;case c('MercuryLogMessageType').UNSUBSCRIBE:m=o?"_uwc":"_uwe";break;case c('MercuryLogMessageType').PHONE_CALL:m=n.log_message_data.caller.indexOf(p)!==-1?"_uwf":"_uwg";break;case c('MercuryLogMessageType').VIDEO_CALL:m=n.log_message_data.caller.indexOf(p)!==-1?"_uwh":"_uwi";break;case c('MercuryLogMessageType').THREAD_NAME:m="_uwj";break;case c('MercuryLogMessageType').THREAD_IMAGE:m="_uwk";break;case c('MercuryLogMessageType').SERVER_ERROR:m="_uwl";break;case c('MercuryLogMessageType').LIVE_LISTEN:m="_uwm";break;case c('MercuryLogMessageType').WALLPAPER:m="_uwn";break;case c('MercuryLogMessageType').ORION:m="_uwo";break;case c('MercuryLogMessageType').SWITCH_TO_WORK:m="_uwp";break;case c('MercuryLogMessageType').PAGE_REPLY:m="_uwq";break;}return c('joinClasses')("_497p"+((n.log_message_type===c('MercuryLogMessageType').PHONE_CALL||n.log_message_type===c('MercuryLogMessageType').VIDEO_CALL)&&!n.log_message_data.answered?' '+"_3no3":''),m);}});f.exports=l;},null);
__d('MessengerContextualActions.react',['cx','ContextualLayerUpdateOnScroll','LayerHideOnBlur','Link.react','React','ReactAbstractContextualDialog','ReactLayer'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('ReactLayer').createClass(c('ReactAbstractContextualDialog').createSpec({displayName:'MessengerContextualActionsDialog',theme:{wrapperClassName:"_hw2",arrowDimensions:{offset:12,length:12}}})),k=c('React').createClass({displayName:'MessengerContextualActions',propTypes:{onToggle:i.func},render:function(){var m=this.props,n=m.children,o=babelHelpers.objectWithoutProperties(m,['children']);return (c('React').createElement(j,babelHelpers['extends']({},o,{alignment:'center',behaviors:{ContextualLayerUpdateOnScroll:c('ContextualLayerUpdateOnScroll'),LayerHideOnBlur:c('LayerHideOnBlur')},onToggle:this.props.onToggle}),c('React').createElement('ul',{className:"_hw3"},n)));}}),l=c('React').createClass({displayName:'MessengerContextualActionsItem',propTypes:{onClick:i.func},render:function(){return (c('React').createElement('li',{className:"_hw4"},c('React').createElement(c('Link.react'),{className:"_hw5",onClick:this.props.onClick},this.props.children)));}});k.Item=l;f.exports=k;},null);
__d('MessengerMessageActionsWrapper.react',['csx','cx','fbt','invariant','DOMQuery','ImmutableObject','ReactLayeredComponentMixin','MercuryConfig','MercuryMessageActions','MercuryMessageInfo','MessengerActions','MessengerContextualActions.react','MessengerDeleteMessageDialog.react','Parent','React','ReactDOM','setImmediate'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=c('MessengerContextualActions.react').Item,m=c('React').PropTypes,n="_ui9",o="._ui9",p=c('React').createClass({displayName:'MessengerMessageActionsWrapper',mixins:[c('ReactLayeredComponentMixin')],propTypes:{isActive:m.bool,isDeletable:m.bool,isFromViewer:m.bool,message:m.instanceOf(c('ImmutableObject')).isRequired,onDeselect:m.func.isRequired,onSelect:m.func.isRequired},getDefaultProps:function(){return {isDeletable:true};},render:function(){return (c('React').createElement('div',babelHelpers['extends']({onContextMenu:this._handleContextMenu},this.props),this.props.children));},renderLayers:function(){if(!this.props.isDeletable||!this.props.isActive)return {};var q=c('ReactDOM').findDOMNode(this),r=q&&c('DOMQuery').scry(q,o)[0];if(!r)return {};return {contextualDialog:c('React').createElement(c('MessengerContextualActions.react'),{context:r,onToggle:this._handleActionsToggle,shown:this.props.isActive},this._renderRetry(),c('React').createElement(l,{onClick:this._handleDelete},this._renderActionItemMsg()))};},_renderActionItemMsg:function(){if(!this.props.isFromViewer&&c('MercuryConfig').MessengerGlobalDeleteGK)return j._("Ocultar");return j._("Eliminar");},_renderRetry:function(){if(!c('MercuryMessageInfo').hasError(this.props.message))return null;return (c('React').createElement(l,{onClick:this._handleRetry},j._("Intentar de nuevo")));},_handleActionsToggle:function(q){!q&&this._handleDeselect();},_handleDeselect:function(){this.props.onDeselect(this.props.message.message_id);},_handleDelete:function(){var q=this.props.message;c('MessengerActions').showDialog(c('MessengerDeleteMessageDialog.react'),{onDelete:function(){c('MercuryMessageActions').get()['delete'](q.thread_id,[q.message_id]);},onToggle:this._handleDialogToggle,onCancel:this._handleDeselect,isFromViewer:this.props.isFromViewer});},_handleDialogToggle:function(q){if(!q)c('MessengerActions').hideDialog();},_handleRetry:function(){this._handleDeselect();c('MercuryMessageActions').get().resend(this.props.message);},_handleContextMenu:function(q){if(!this._shouldAllowNativeContextMenu(q))q.preventDefault();c('setImmediate')(function(){this.props.onSelect(this.props.message.message_id);}.bind(this));},_shouldAllowNativeContextMenu:function(q){!(q.target instanceof HTMLElement)?k(0):undefined;return (q.target.nodeName.toLowerCase()==='a'||window.getSelection().toString()!==''||!c('Parent').byClass(q.target,n));}});f.exports=p;},null);
__d('MessengerMessageSeenHeads.react',['cssVar','cx','fbt','Image.react','immutable','ImmutableObject','MercuryMessageInfo','MercuryTimestamp','MessengerConfig','ReactComponentWithPureRenderMixin','React','getViewportDimensions','joinClasses'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes,l=c('MessengerConfig').MaxSeenHeadCount||8,m=c('React').createClass({displayName:'MessengerMessageSeenHeads',mixins:[c('ReactComponentWithPureRenderMixin')],propTypes:{isFromViewer:k.bool,message:k.instanceOf(c('ImmutableObject')).isRequired,nextTimestamp:k.number.isRequired,participants:k.instanceOf(c('immutable').Map).isRequired,readReceipts:k.instanceOf(c('immutable').OrderedMap).isRequired},render:function(){var o=this.props,p=o.message,q=o.nextTimestamp,r=o.participants,s=o.readReceipts;if(c('MercuryMessageInfo').isSending(p)||s.isEmpty()||c('MercuryMessageInfo').hasError(p))return null;var t=c('immutable').Seq(s).filter(function(ba,ca){return (ba>=p.timestamp&&ba<q);});if(t.isEmpty())return null;var u=this.props.isFromViewer?l:n(),v=t.count()>u+1,w=v?t.slice(0,u):t,x=w.map(function(ba,ca){var da=r.get(ca);if(!da)return null;var ea=ba?j._("Seen by {full name} at {seen time}",[j.param('full name',da.name),j.param('seen time',c('MercuryTimestamp').getPreciseTimestamp(ba))]):j._("Visto por {full name}",[j.param('full name',da.name)]);return (c('React').createElement(c('Image.react'),{alt:ea,className:"_jf2",key:ca,src:da.image_src,title:ea}));}).toArray(),y=x.length;if(!y)return null;var z=v?t.slice(u).count():0;if(z>0){var aa=t.slice(u).map(function(ba,ca){var da=r.get(ca);return da?da.name:null;}).filter(function(ba){return !!ba;}).join('\n')+' ';x.unshift(c('React').createElement('span',{className:"_jf3",key:'overflow',title:aa},'+'+z));}return (c('React').createElement('span',{className:c('joinClasses')(this.props.className,"_jf4"+(y+z===1?' '+"_jf5":''))},x));}});function n(){var o=c('getViewportDimensions')().width;if(o<parseInt("920px".replace('px',''),10))return Math.min(l,8);if(o<parseInt("1211px".replace('px',''),10))return Math.min(l,3);return l;}f.exports=m;},null);
__d('messengerRTLClasses',['cx','isRTL'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(j,k){var l=c('isRTL')(j||'');return k?l?"_4pv0":'':(!l?"direction_ltr":'')+(l?' '+"direction_rtl":'')+(!l?' '+"text_align_ltr":'')+(l?' '+"text_align_rtl":'')+(l?' '+"_4pv0":'');}f.exports=i;},null);
__d('MessengerMessage.react',['cssVar','cx','fbt','EmojiLikeUtils','MercuryDisplayTimeFilterMessageRenderer','immutable','ImmutableObject','MercuryAttachment','MercuryConfig','MercuryMessageActions','MercuryMessageDeliveryState','MercuryMessageInfo','MercuryTimestamp','MessagingGiftWrap.react','MessengerAttachmentAttribution.react','MessengerAttachmentRenderer','MessengerBubble.react','MessengerBubbleBlock.react','MessengerCodeBubble.react','MessengerCodePasteUtils','MessengerConfig','MessengerMessageActionsWrapper.react','MessengerMessageSeenHeads.react','React','emptyFunction','getViewportDimensions','joinClasses','messengerRTLClasses'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes;function l(o){switch(o){case c('MercuryMessageDeliveryState').SENDING:return j._("Enviando");case c('MercuryMessageDeliveryState').SENT:return j._("Enviado");case c('MercuryMessageDeliveryState').DELIVERED:return j._("Entregado");case c('MercuryMessageDeliveryState').ERROR:return j._("Error");}return null;}var m=c('React').createClass({displayName:'MessengerMessage',propTypes:{customColor:k.string,deliveryTimestamp:k.number.isRequired,isActive:k.bool,isFromViewer:k.bool,isGiftWrapped:k.bool,isPageMessage:k.bool,message:k.instanceOf(c('ImmutableObject')).isRequired,nextTimestamp:k.number.isRequired,onAttachmentLoad:k.func.isRequired,onDeselect:k.func.isRequired,onSelect:k.func.isRequired,participants:k.instanceOf(c('immutable').Map).isRequired,readReceipts:k.instanceOf(c('immutable').OrderedMap).isRequired,showDeliveryState:k.bool},getDefaultProps:function(){return {onAttachmentLoad:c('emptyFunction')};},shouldComponentUpdate:function(o){return (o.isActive!==this.props.isActive||o.isFromViewer!==this.props.isFromViewer||o.message!==this.props.message||o.nextTimestamp!==this.props.nextTimestamp||o.showDeliveryState!==this.props.showDeliveryState||o.deliveryTimestamp!==this.props.deliveryTimestamp||!c('immutable').is(o.readReceipts,this.props.readReceipts)||!c('immutable').is(o.participants,this.props.participants)||o.customColor!==this.props.customColor);},render:function(){var o=this.props,p=o.isActive,q=o.isFromViewer,r=o.message,s=j._("{time}",[j.param('time',c('MercuryTimestamp').getPreciseTimestamp(r.timestamp))]),t=c('MessengerConfig').SentTimestampEnabled&&q?{'data-hover':'tooltip','data-tooltip-alignh':p?'right':'center','data-tooltip-content':s,'data-tooltip-position':n()}:null;return (c('React').createElement(c('MessengerMessageActionsWrapper.react'),{className:c('joinClasses')("_o46"+(' '+"_3erg")+(p?' '+"_-5k":'')+(q?' '+"_3i_m":'')+(q?' '+"_nd_":'')+(!q?' '+"_29_7":''),c('messengerRTLClasses')(r.body)),isActive:p,isDeletable:!this._isP2PAttachment()&&!this.props.isPageMessage,isFromViewer:q,message:r,onDeselect:this.props.onDeselect,onSelect:this.props.onSelect},c('React').createElement('div',{className:'clearfix'},this._renderBubble(t),this._renderAttachmentsOutsideBubble(t)),this._renderErrorState(),this._renderDeliveryState(),c('React').createElement(c('MessengerMessageSeenHeads.react'),{className:"_4jzq",isFromViewer:q,message:r,nextTimestamp:this.props.nextTimestamp,participants:this.props.participants,readReceipts:this.props.readReceipts})));},_attachmentsCanHaveTooltipWrap:function(o){return o.every(function(p){var q=p&&(p.type.displayName||p.type.name);return q!=='MercuryShareAttachment'&&q!=='MessengerPhotosGroup';});},_renderAttachmentsOutsideBubble:function(o){if(this.props.message.is_filtered_content)return null;var p=c('MessengerAttachmentRenderer').getAttachmentsOutsideBubble(this.props.message,this.props.onAttachmentLoad,this.props.customColor,this._handleUnwrap);if(!p||!p.length)return null;if(o)p=this._attachmentsCanHaveTooltipWrap(p)?c('React').createElement('div',babelHelpers['extends']({},o,{className:"_3zvs"}),p):p.map(function(s){return (s&&c('React').cloneElement(s,o));});var q=c('React').createElement('div',{key:'renderedAttachments',className:"_3058 _15gf"},p);if(this.props.message.attachments.length===1&&c('MercuryAttachment').hasAttribution(this.props.message.attachments[0])){var r=[q,c('React').createElement(c('MessengerAttachmentAttribution.react'),{attachment:new (c('ImmutableObject'))(this.props.message.attachments[0]),key:'attribution'})];if(this.props.isGiftWrapped)r=[c('React').createElement('div',{key:'blockContentWrapper'},r),c('React').createElement(c('MessagingGiftWrap.react'),{key:'giftwrap',onUnwrap:this._handleUnwrap})];return (c('React').createElement(c('MessengerBubbleBlock.react'),null,r));}return q;},_isP2PAttachment:function(){return (c('MessengerAttachmentRenderer').isP2PAttachment(this.props.message));},_renderBubble:function(o){var p=this.props.message,q=c('immutable').List(c('MessengerAttachmentRenderer').getAttachmentsInsideBubble(p,this.props.onAttachmentLoad));if(c('MercuryConfig').MessengerCodePaste&&c('MessengerCodePasteUtils').containsCodeBlock(p.body))return (c('React').createElement(c('MessengerCodeBubble.react'),{attachments:q,body:p.body,className:"_3058 _ui9",ranges:p.ranges||[],threadID:p.thread_id||''}));if(p.is_filtered_content)return (c('React').createElement('div',{className:"_3058 _wiu _52mr uiBoxYellow clearfix"},c('MercuryDisplayTimeFilterMessageRenderer').renderFilteredContent(p)));var r=p.body&&!c('EmojiLikeUtils').isEmojiLike(p);if(r||!q.isEmpty())return (c('React').createElement(c('MessengerBubble.react'),babelHelpers['extends']({attachments:q,body:p.body,className:"_3058 _ui9",customColor:this.props.isFromViewer?this.props.customColor:'',customLike:p.customLike,isGiftWrapped:this.props.isGiftWrapped,isP2PAttachment:this._isP2PAttachment(),onUnwrap:this._handleUnwrap,ranges:p.ranges,threadID:p.thread_id},o||{})));return null;},_renderDeliveryState:function(){if(!this.props.isFromViewer||!this.props.showDeliveryState||this.props.message.is_like_preview)return null;var o=c('MercuryMessageInfo').getDeliveryState(this.props.message,this.props.deliveryTimestamp);if(o===c('MercuryMessageDeliveryState').UNKNOWN)return null;var p={};if(this.props.customColor&&(o===c('MercuryMessageDeliveryState').SENT||o===c('MercuryMessageDeliveryState').SENDING||o===c('MercuryMessageDeliveryState').DELIVERED))p.color=this.props.customColor;return (c('React').createElement('span',{className:"_2her"+(o===c('MercuryMessageDeliveryState').SENDING?' '+"_4jzp":'')+(o===c('MercuryMessageDeliveryState').SENT?' '+"_3zzf":'')+(o===c('MercuryMessageDeliveryState').DELIVERED?' '+"_9ah":'')+(o===c('MercuryMessageDeliveryState').ERROR?' '+"_5ei9":''),onClick:o===c('MercuryMessageDeliveryState').ERROR?this._handleSelect:null,style:p,title:l(o)},c('React').createElement('i',{className:"_57e_"})));},_renderErrorState:function(){var o=this.props.message;if(!c('MercuryMessageInfo').hasError(o))return null;return (c('React').createElement('span',{className:"_3058 _2ygi",onClick:this._handleSelect},j._("No se ha podido enviar el mensaje.")));},_handleUnwrap:function(){var o="2500ms";setTimeout(function(){return this._persistUnwrapping();}.bind(this),o.substring(0,o.length-2));},_persistUnwrapping:function(){c('MercuryMessageActions').get().unwrap(this.props.message);},_handleSelect:function(o){o.stopPropagation();this.props.onSelect(this.props.message.message_id);}});function n(){if(c('getViewportDimensions')().width<=parseInt("640px".replace('px',''),10))return 'above';return 'right';}f.exports=m;},null);
__d('MessengerPageAdminNoteList.react',['cx','fbt','LeftRight.react','MessengerBubble.react','PagesMessengerCreatorInfo.react','ReactComponentWithPureRenderMixin','React','enumerate','classWithMixins','immutable','mixin'],function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('React').PropTypes;j=babelHelpers.inherits(m,c('classWithMixins')(c('React').Component,c('mixin')(c('ReactComponentWithPureRenderMixin'))));k=j&&j.prototype;m.prototype.render=function(){var n=[],o=this.calculateGroups(this.props.notes);o.forEach(function(p,q){n.push(c('React').createElement('li',{className:"_4kd2",key:'group:'+q},this.$MessengerPageAdminNoteList1(p)));}.bind(this));return (c('React').createElement('ul',{className:"_4kd3"},n));};m.prototype.$MessengerPageAdminNoteList1=function(n){var o=[];n.forEach(function(p,q){o.push(c('React').createElement('div',{className:"_4kd4",key:'note:'+q},this.$MessengerPageAdminNoteList2(p,n)));}.bind(this));return o;};m.prototype.$MessengerPageAdminNoteList2=function(n,o){var p=c('immutable').List([c('React').createElement(c('LeftRight.react'),{className:"_561k"},c('React').createElement('div',{className:"_561l"},i._("Nota privada")),c('React').createElement(c('PagesMessengerCreatorInfo.react'),{key:'creator_info',creator_info:o[0].creator_info,isNote:true}))]);return (c('React').createElement('div',{className:"_o46 _3i_m _nd_"},c('React').createElement('div',{className:'clearfix'},c('React').createElement(c('MessengerBubble.react'),{body:n.body.text,attachments:p,className:"_3058 _4kd5"}))));};m.prototype.calculateGroups=function(n){var o=[],p=null,q=null,r=c('enumerate')(n),s;while(!(s=r.next()).done){var t=q&&q.value.creator_info.creatorID===s.value.creator_info.creatorID;if(!t){p=[];o.push(p);}if(p)p.push(s.value);q=s;}return o;};function m(){j.apply(this,arguments);}m.propTypes={notes:l.arrayOf(l.shape({id:l.string,body:l.object.isRequired,creator_info:l.shape({creatorID:l.string.isRequired,creatorName:l.string.isRequired,creatorType:l.string.isRequired,labelType:l.string.isRequired,pageID:l.string.isRequired,profileURI:l.string}),timestamp:l.number.isRequired})).isRequired};f.exports=m;},null);
__d('MessengerURIUtils',['MercuryIDs','MessengerStateStore','MessengerURISerializer','MessengerView'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={getURIForThreadID:function(i){return c('MessengerURISerializer').serialize(babelHelpers['extends']({},c('MessengerStateStore').getState(),{activeThreadID:i,detailView:c('MessengerView').DETAIL.THREAD}));},getURIForUserID:function(i){return h.getURIForThreadID(c('MercuryIDs').getThreadIDFromUserID(i));}};f.exports=h;},null);
__d('MessengerMessageGroup.react',['cx','fbt','immutable','ImmutableObject','Image.react','Link.react','MercuryConfig','MercuryIDs','MercuryParticipants','MercuryParticipantSilhouettes','MercuryTimestamp','MessagingGiftWrapChecker','MessengerActions','MessengerConfig','MessengerDateBreak.react','MessengerMessage.react','MessengerPageAdminNoteList.react','MessengerProfileImageWrapper.react','MessengerStickerUtils','MessengerURIUtils','PagesMessengerCreatorInfo.react','React','ReactDOM','StoreAndPropBasedStateMixin'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=c('immutable').List,k=c('immutable').OrderedMap,l=c('React').PropTypes,m=32,n=new (c('ImmutableObject'))({image_src:c('MercuryParticipantSilhouettes').neutralSilhouette,is_messenger_user:true,name:''}),o=c('React').createClass({displayName:'MessengerMessageGroup',mixins:[c('StoreAndPropBasedStateMixin')(c('MercuryParticipants'))],propTypes:{activeMessageID:l.string,deliveryTimestamp:l.number.isRequired,hasDateBreak:l.bool,isCanonical:l.bool,isFromViewer:l.bool,isPageMessage:l.bool,lastReadTimestamp:l.number.isRequired,messages:l.instanceOf(c('immutable').List).isRequired,onAttachmentLoad:l.func,nextTimestamp:l.number.isRequired,onMessageDeselect:l.func.isRequired,onMessageSelect:l.func.isRequired,readReceipts:l.instanceOf(k).isRequired,thread:l.object},statics:{calculateState:function(r){return {participants:p(r)};}},shouldComponentUpdate:function(r,s){return (this.props.activeMessageID!==r.activeMessageID||this.props.isFromViewer!==r.isFromViewer||this.props.deliveryTimestamp!==r.deliveryTimestamp||this.props.lastReadTimestamp!==r.lastReadTimestamp||!c('immutable').is(this.props.messages,r.messages)||!c('immutable').is(this.props.readReceipts,r.readReceipts)||!c('immutable').is(this.state.participants,s.participants)||!!(r.thread&&this.props.thread&&this.props.thread!==r.thread));},render:function(){return (c('React').createElement('div',null,c('React').createElement('div',{className:"_1t_p"+(' '+"clearfix")+(c('MessengerStickerUtils').isStickerMessageGroup(this.props.messages)?' '+"_5tx1":'')+(this._hasSeenHeadsAtBottom()?' '+"_35fy":'')},this._renderProfileColumn(),this._renderName(),c('React').createElement('div',{className:"_1t_s"},this._renderMessages())),this.props.isPageMessage?this._renderNotes():null));},_renderProfileColumn:function(){if(this.props.isFromViewer)return null;var r=this.props.messages.last(),s=this.state.participants.get(r.author)||n,t=i._("{name} {time}",[i.param('name',s.name),i.param('time',c('MercuryTimestamp').getPreciseTimestamp(r.timestamp))]),u=c('React').createElement(c('MessengerProfileImageWrapper.react'),{className:"_1t_r",isMessengerUser:s.is_messenger_user,size:m,showBadge:true,tooltipContent:t},c('React').createElement(c('Image.react'),{alt:s.name,src:s.image_src,height:m,width:m}));if(!this.props.isCanonical&&s.fbid){var v=c('MessengerURIUtils').getURIForUserID(s.fbid);u=c('React').createElement(c('Link.react'),{className:"_5f0v",href:v.toString(),onClick:this._handleContactSelect.bind(this,s),tabIndex:-1},u);}return (c('React').createElement('div',{className:"_1t_q"},u));},_renderMessages:function(){var r=this.props.messages.size,s=[];this.props.messages.forEach(function(t,u,v){var w=t.message_id===this.props.activeMessageID;if(w&&!(u===0&&this.props.hasDateBreak)&&!c('MessengerConfig').SentTimestampEnabled)s.push(c('React').createElement(c('MessengerDateBreak.react'),{className:"_5r8z",date:new Date(t.timestamp),key:'db:'+t.message_id}));s.push(c('React').createElement(c('MessengerMessage.react'),{customColor:this.props.thread?this.props.thread.custom_color:'',deliveryTimestamp:this.props.deliveryTimestamp,isActive:w,isFromViewer:this.props.isFromViewer,isGiftWrapped:c('MessagingGiftWrapChecker').shouldRenderWithGiftWrap(t),isPageMessage:this.props.isPageMessage,key:t.message_id,message:t,onAttachmentLoad:this.props.onAttachmentLoad,participants:this.state.participants,nextTimestamp:this._getNextTimestamp(v,r,u),onDeselect:this.props.onMessageDeselect,onSelect:this.props.onMessageSelect,readReceipts:this.props.readReceipts,showDeliveryState:t.timestamp>this.props.lastReadTimestamp,ref:t.message_id}));if(q(this.props.isPageMessage,v,u,t))s.push(c('React').createElement(c('PagesMessengerCreatorInfo.react'),{key:'creator_info:'+u,creator_info:t.creator_info}));}.bind(this));return s;},_renderNotes:function(){var r=[];this.props.messages.forEach(function(s,t,u){if(this.props.isPageMessage&&s.page_admin_notes)r.push(c('React').createElement(c('MessengerPageAdminNoteList.react'),{key:'notes:'+s.message_id,notes:s.page_admin_notes}));}.bind(this));return r;},_renderName:function(){var r=this.state.participants.get(this.props.messages.first().author);if(!r)return null;var s=r.short_name;if(this.props.thread){var t=this.props.thread.custom_nickname?this.props.thread.custom_nickname:null,u=c('MercuryIDs').getUserIDFromParticipantID(r.id);if(t&&u&&t[u]){s=t[u];if(c('MercuryConfig').MessengerNewEmojiGK&&c('MercuryConfig').MessengerTextWithEmoticonsModule){var v=c('MercuryConfig').MessengerTextWithEmoticonsModule;s=c('React').createElement(v,{renderEmoticons:true,renderEmoji:true,text:s});}}}return (c('React').createElement('h5',{className:"_ih3"+(this.props.isCanonical||this.props.isFromViewer?' '+"_-ne":'')},c('React').createElement('span',{className:"_3oh-"},s)));},getMessageElement:function(r){return c('ReactDOM').findDOMNode(this.refs[r]);},_hasSeenHeadsAtBottom:function(){var r=this.props,s=r.messages,t=r.nextTimestamp,u=r.readReceipts,v=s.last().timestamp,w=0;u.forEach(function(x){if(x>=v&&x<t)if(++w===2)return false;});return w===2;},_getNextTimestamp:function(r,s,t){return t<s-1?r.get(t+1).timestamp:this.props.nextTimestamp;},_handleContactSelect:function(r){var s=c('MercuryIDs').getThreadIDFromParticipantID(r.id);s&&c('MessengerActions').selectThread(s);}});function p(r){var s=r.messages.first().author;return c('immutable').Map().withMutations(function(t){r.readReceipts.forEach(function(u,v){t.set(v,c('MercuryParticipants').getOrFetch(v));});t.set(s,c('MercuryParticipants').getOrFetch(s));});}function q(r,s,t,u){if(!r||!u.creator_info)return false;if(t===s.size-1)return true;var v=s.get(t+1).creator_info;if(!v)return true;return u.creator_info.creatorID!==v.creatorID;}f.exports=o;},null);
__d('MessengerTypingIndicator.react',['cx','Image.react','immutable','MercuryParticipants','MercuryTypingAnimation.react','MessengerProfileImageWrapper.react','MessengerBubble.react','ReactComponentWithPureRenderMixin','React','StoreAndPropBasedStateMixin'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=32,k=c('React').createClass({displayName:'MessengerTypingIndicator',mixins:[c('ReactComponentWithPureRenderMixin'),c('StoreAndPropBasedStateMixin')(c('MercuryParticipants'))],propTypes:{userID:i.string,showName:i.bool},statics:{calculateState:function(l){return {author:c('MercuryParticipants').getOrFetch(l.userID)};}},render:function(){if(!this.state.author)return null;var l=this.state.author;return (c('React').createElement('div',{className:"_1t_p _1hbw"},c('React').createElement('div',{className:"_1t_q"},c('React').createElement(c('MessengerProfileImageWrapper.react'),{className:"_1t_r",isMessengerUser:l.is_messenger_user,size:j,showBadge:true},c('React').createElement(c('Image.react'),{alt:'',src:l.image_src,height:j,width:j}))),c('React').createElement('div',{className:"_1t_s"},c('React').createElement('div',{className:"_o46 _3erg _29_7"},c('React').createElement('div',{className:'clearfix'},c('React').createElement(c('MessengerBubble.react'),{attachments:c('immutable').List([c('React').createElement(c('MercuryTypingAnimation.react'),{key:'animation'})]),body:'',className:"_3058",ref:'bubble'}))))));},getBubble:function(){return this.refs.bubble;}});f.exports=k;},null);
__d('MessengerHotLikeOutlineSVG.react',['cssVar','cx','fbt','React','joinClasses','uniqueID'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes,l='transparent',m=j._("Signo de aprobaci\u00f3n"),n=c('React').createClass({displayName:'MessengerHotLikeOutlineSVG',propTypes:{color:k.string},getInitialState:function(){return {titleId:c('uniqueID')()};},render:function(){var o=this.props.color||"#0084ff";return (c('React').createElement('div',{className:c('joinClasses')(this.props.className,"_5318")},c('React').createElement('svg',{'aria-labelledby':this.state.titleId,version:'1.1',viewBox:'-1 -1 40.16 42.24'},c('React').createElement('title',{id:this.state.titleId},m),c('React').createElement('path',{d:'M935.36,1582.44a0,0,0,0,0,0,.06,3.59,3.59,0,0,1-.72,6.53,0,0,0,0,0,0,0,3.56,3.56,0,0,1,.71,2.13,3.6,3.6,0,0,1-3,3.54, 0,0,0,0,0,0,.05,3.56,3.56,0,0,1,.38,1.61,3.61,3.61,0,0,1-3.42,3.6H910v-19.6l5.27-7.9a4,4,0,0,0,.66-2.31l-0.1-4c-0.22-2.4-.09-2.06, 1.13-2.37,2-.51,7.16,1.59,5.13,12.17h11.06A3.59,3.59,0,0,1,935.36,1582.44ZM899,1581h7v22h-7v-22Z',transform:'translate(-898.5 -1563.26)',fill:l,fillRule:'evenodd',stroke:o,strokeLinecap:'round',strokeWidth:'5%'}))));}});f.exports=n;},null);
__d('MessengerHotLikeButton.react',['cx','fbt','EmojiLikeConstants','EmojiLikeUtils','Image.react','ImmutableObject','Keys','KeyStatus','Link.react','MercuryConfig','MercuryMessageObject','MercurySourceType','MessengerHotLikePreviewEvents','MessengerHotLikeOutlineSVG.react','MessengerHotLikeUtils','ReactComponentWithPureRenderMixin','React','StickerActions','StickerConstants','joinClasses'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=c('MercuryMessageObject').get(),k=c('React').PropTypes,l=c('React').createClass({displayName:'MessengerHotLikeButton',mixins:[c('ReactComponentWithPureRenderMixin')],propTypes:{onMouseDown:k.func,customLike:k.object,customColor:k.string,sendSticker:k.func.isRequired,sendCustomLike:k.func,threadID:k.string,disabled:k.bool,renderSize:k.number},_popTimeout:null,_pressedSince:null,_subscription:null,componentDidMount:function(){this._subscription=c('MessengerHotLikePreviewEvents').addListener(c('MessengerHotLikePreviewEvents').FINISH_ANIMATION,function(m,n,o){if(m===this.props.threadID)if(o&&this.props.customLike&&this.props.sendCustomLike){this.props.sendCustomLike(this.props.customLike,o);}else this.props.sendSticker(n);}.bind(this));},componentWillUnmount:function(){this._subscription&&this._subscription.remove();},render:function(){var m=null,n={};if(this.props.customLike!=null){if(c('MercuryConfig').MessengerNewEmojiGK&&c('MercuryConfig').MessengerNewEmojiUtils){var o=this.props.customLike.emoji,p=c('MercuryConfig').MessengerNewEmojiUtils.getNewEmojiData(o,c('EmojiLikeConstants').size.SMALL),q=this.props.renderSize?this.props.renderSize:16;n.background='none';m=c('React').createElement(c('Image.react'),{src:p.url,style:{padding:q==16?0:3,display:'block',height:q,width:q}});}else{o=this.props.customLike.medium;if(o){n.background='none';m=c('React').createElement(c('Image.react'),{src:o,style:{display:'block',height:16,width:16}});}}}else if(this.props.customColor)m=c('React').createElement(c('MessengerHotLikeOutlineSVG.react'),{className:"_5j_p",color:this.props.customColor});return (c('React').createElement(c('Link.react'),{'aria-label':i._("Enviar un Me gusta"),className:c('joinClasses')(this.props.customColor?"_5j_u":'',this.props.className),disabled:this.props.disabled,href:'#',onClick:this._handleClickEvent,onDragStart:function(r){return r.preventDefault();},onMouseDown:this._handleMouseDown,onMouseLeave:this._cancelSend,onMouseUp:this._handleMouseUp,role:'button',style:n,title:i._("Enviar un Me gusta")},m));},_handleMouseDown:function(m){if(this.props.disabled||this._pressedSince){m.preventDefault();m.stopPropagation();}if(this.props.disabled||m.button!==0)return;c('StickerActions').hideStickerTray();this.props.onMouseDown&&this.props.onMouseDown();this._pressedSince=Date.now();this._informPreviewStart();this._preparePop();},_handleMouseUp:function(){if(!(this.props.threadID&&this._pressedSince))return;this._pressedSince=0;this._cancelPop();this._informPreviewStop();},_informPreviewStart:function(){c('MessengerHotLikePreviewEvents').emit(c('MessengerHotLikePreviewEvents').START,this._getFakeMessage(),this.props.threadID);},_informPreviewStop:function(){c('MessengerHotLikePreviewEvents').emit(c('MessengerHotLikePreviewEvents').STOP,this.props.threadID);},_informPreviewPop:function(){c('MessengerHotLikePreviewEvents').emit(c('MessengerHotLikePreviewEvents').POP,this.props.threadID);},_getFakeMessage:function(){var m=j.constructStickerMessageObject(c('StickerConstants').HOT_LIKE_SMALL_STICKER_ID,c('MercurySourceType').MESSENGER_WEB,this.props.threadID);j.normalizeNewMessage(m);m.is_like_preview=true;m.like_preview_since=this._pressedSince;m.customLike=this.props.customLike;m.body='';return new (c('ImmutableObject'))(m);},_preparePop:function(){this._cancelPop();this._popTimeout=setTimeout(this._informPreviewPop,c('MessengerHotLikeUtils').SizeTimes.large);},_cancelSend:function(){if(this._pressedSince){this._pressedSince=0;this._cancelPop();this._informPreviewPop();}},_cancelPop:function(){clearTimeout(this._popTimeout);},_handleClickEvent:function(m){m.stopPropagation();if(this.props.disabled)return;if(c('KeyStatus').getKeyDownCode()===c('Keys').RETURN||!this.props.threadID){var n=this.props.sendCustomLike;if(this.props.customLike&&n){n(this.props.customLike,c('MessengerHotLikeUtils').getEmojiSizeForTime(1));}else this.props.sendSticker(c('MessengerHotLikeUtils').getStickerIDForTime(1));}}});f.exports=l;},null);
__d('MercurySeenIndicator.react',['cx','MercuryDelayedRoger','MercuryIDs','React','SubscriptionsHandler'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'MercurySeenIndicator',propTypes:{thread:i.object.isRequired,viewer:i.string.isRequired},componentDidMount:function(){this._subscriptions=new (c('SubscriptionsHandler'))();this._subscriptions.addSubscriptions(c('MercuryDelayedRoger').subscribe('state-changed',function(k,l){l[this.props.thread.thread_id]&&this.forceUpdate();}.bind(this)));},componentWillUnmount:function(){this._subscriptions&&this._subscriptions.release();},render:function(){var k=this._separateParticipants(),l=k.viewer,m=k.others,n=this._viewerLastToReply(l),o=this._seenByAll(m);return (c('React').createElement('span',{className:"_3jy5"+(n?' '+"repliedLast":'')+(n&&o?' '+"seenByAll":'')}));},_separateParticipants:function(){var k=c('MercuryIDs').getParticipantIDFromUserID(this.props.viewer),l=this.props.thread.participants.filter(function(m){return m!==k;});return {viewer:k,others:l};},_viewerLastToReply:function(k){return k===this.props.thread.snippet_sender;},_seenByAll:function(k){var l=this.props.thread.thread_id;return c('MercuryDelayedRoger').getSeenBy(l).length===k.length;}});f.exports=j;},null);
__d('MercuryThreadSnippet.react',['cx','fbt','immutable','MercuryAttachmentSnippet.react','MercuryConfig','MercuryIDs','MercuryMeMessageProcessor','MNAdsLogMessageUtils','React','TextWithEmoticons.react'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=c('React').createClass({displayName:'MercuryThreadSnippet',propTypes:{participants:j.instanceOf(c('immutable').Map).isRequired,shouldAlwaysRenderSender:j.bool,shouldRenderYou:j.bool,thread:j.object.isRequired,viewer:j.string.isRequired},shouldComponentUpdate:function(n,o){return (this.props.shouldRenderYou!==n.shouldRenderYou||this.props.thread!==n.thread||this.props.viewer!==n.viewer||this.props.className!==n.className||!c('immutable').is(n.participants,this.props.participants));},render:function(){return (c('React').createElement('span',{className:this.props.className},this._renderAttachmentIndicator(),this._renderSnippet()));},_renderAttachmentIndicator:function(){if(!this.props.thread.snippet||!l(this.props.thread))return null;return (c('React').createElement('span',{className:"_j0r"}));},_renderSnippet:function(){var n=this.props.thread,o=c('MercuryIDs').getParticipantIDFromUserID(this.props.viewer),p=this.props.thread.snippet,q=this.props.shouldRenderYou;if(c('MercuryMeMessageProcessor').shouldTransformSnippet(p)&&n.snippet_sender){p=c('MercuryMeMessageProcessor').transformSnippet(p,n.snippet_sender);q=false;}var r=this._renderInnerSnippet(p),s=n.participants.length;if(n.is_subscribed)s--;c('MNAdsLogMessageUtils').logAdsThreadListImpression(n);if(n.snippet_has_attachment||!n.snippet_sender)return r;if(n.snippet_sender===o){if(!q)return r;return i._("You: {conversation_snippet}",[i.param('conversation_snippet',r)]);}if(s<=1&&!this.props.shouldAlwaysRenderSender)return r;var t=this.props.participants.get(n.snippet_sender);if(!t||!t.short_name)return r;var u=t.short_name;if(n){var v=n.custom_nickname?n.custom_nickname:null,w=c('MercuryIDs').getUserIDFromParticipantID(t.id);if(v&&w&&v[w]){u=v[w];if(c('MercuryConfig').MessengerNewEmojiGK&&c('MercuryConfig').MessengerTextWithEmoticonsModule){var x=c('MercuryConfig').MessengerTextWithEmoticonsModule;u=c('React').createElement(x,{renderEmoticons:true,renderEmoji:true,text:u});}}}return i._("{name}: {conversation_snippet}",[i.param('name',u),i.param('conversation_snippet',r)]);},_renderInnerSnippet:function(n){if(n&&n.startsWith('?OTR'))return i._("[mensaje encriptado]");if(n){var o=c('React').createElement(c('TextWithEmoticons.react'),{renderEmoticons:true,renderEmoji:true,text:n.replace(/\r\n|[\r\n]/g,' ')});if(c('MercuryConfig').MessengerNewEmojiGK&&c('MercuryConfig').MessengerTextWithEmoticonsModule){var p=c('MercuryConfig').MessengerTextWithEmoticonsModule;o=c('React').createElement(p,{renderEmoticons:true,renderEmoji:true,text:n.replace(/\r\n|[\r\n]/g,' ')});}return o;}var q=this.props.thread;if(l(q))return (c('React').createElement(c('MercuryAttachmentSnippet.react'),{thread:q,viewer:this.props.viewer}));return null;}});function l(n){return (n.snippet_has_attachment&&n.snippet_attachments&&n.snippet_attachments.length>0);}function m(n){return !n.snippet&&l(n);}f.exports=k;},null);
__d('MercuryThreadTimestamp.react',['ReactComponentWithPureRenderMixin','React','formatDate','joinClasses'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=c('React').createClass({displayName:'MercuryThreadTimestamp',mixins:[c('ReactComponentWithPureRenderMixin')],propTypes:{time:h.number,title:h.string,text:h.string},render:function(){var j=this.props.time;if(!j)return c('React').createElement('abbr',null);return (c('React').createElement('abbr',{className:c('joinClasses')(this.props.className,'timestamp'),title:this.props.title||new Date(j).toLocaleDateString(),'data-utime':j/1000},this.props.text||c('formatDate')(new Date(j),'g:ia')));}});f.exports=i;},null);
__d('MercuryDragDropPrompt.react',['cx','fbt','React'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=c('React').createClass({displayName:'MercuryDragDropPrompt',render:function(){return (c('React').createElement('div',{className:"_4g6x"},c('React').createElement('div',{className:"_4g6y"},c('React').createElement('div',{className:"_4g6z _4g71"},i._("Arrastra los enlaces o archivos aqu\u00ed")),c('React').createElement('div',{className:"_4g6z _4g6- _4g6_"},i._("Coloca los archivos aqu\u00ed")),c('React').createElement('div',{className:"_4g6z _4g6- _4g70"},i._("Coloca el enlace aqu\u00ed")))));}});f.exports=j;},null);
__d('LeftFillRightFitLayout.react',['invariant','Layout.react','React','ReactChildren'],function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('Layout.react').Column,l=c('Layout.react').FillColumn;i=babelHelpers.inherits(m,c('React').Component);j=i&&i.prototype;function m(n){j.constructor.call(this,n);}m.prototype.$LeftFillRightFitLayout1=function(){var n=[],o=this.props.children;!(o&&o.length===2)?h(0):undefined;c('ReactChildren').forEach(this.props.children,function(p){return n.push(p);},this);return {firstChild:n[0],secondChild:n[1]};};m.prototype.render=function(){var n=this.$LeftFillRightFitLayout1();return (c('React').createElement(c('Layout.react'),{className:this.props.className,style:this.props.style},c('React').createElement(l,null,n.firstChild),c('React').createElement(k,null,n.secondChild)));};f.exports=m;},null);
__d('PagesMessengerOmnipicker.react',['cx','fbt','invariant','React','Link.react','Omnipicker.react','ComputerPanel.react','OmnipickerComputerSelector.react','OmnipickerDialog.react','OmnipickerDialogRenderer','OmnipickerPagePostedPhotosPanel.react','OmnipickerPagePostedPhotosSelector.react','OmnipickerPanelList.react','OmnipickerSelectorList.react','OmnipickerWaterfallLogger','PUWApplications','PUWSteps','WaterfallIDGenerator'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes,l=c('React').createClass({displayName:'PagesMessengerOmnipicker',_waterfallLogger:c('OmnipickerWaterfallLogger'),_dialogRenderer:null,propTypes:{uploadURI:k.string.isRequired,onPhotosSelected:k.func.isRequired,pageID:k.string.isRequired},componentDidMount:function(){this._waterfallLogger=new (c('OmnipickerWaterfallLogger'))(c('PUWApplications').WEB_PAGES_MESSENGER,c('WaterfallIDGenerator').generate());var m={fileUploadURI:this.props.uploadURI};this._dialogRenderer=new (c('OmnipickerDialogRenderer'))(c('React').createElement(c('OmnipickerDialog.react'),{onCancel:this._onPickerCancel,title:i._("Seleccionar foto")},c('React').createElement(c('Omnipicker.react'),{logger:this._waterfallLogger,onDoneSelecting:this._onDoneSelecting},c('React').createElement(c('OmnipickerSelectorList.react'),null,c('React').createElement(c('OmnipickerComputerSelector.react'),null),c('React').createElement(c('OmnipickerPagePostedPhotosSelector.react'),null)),c('React').createElement(c('OmnipickerPanelList.react'),null,c('React').createElement(c('ComputerPanel.react'),{config:m}),c('React').createElement(c('OmnipickerPagePostedPhotosPanel.react'),{pageID:this.props.pageID})))));},render:function(){return (c('React').createElement('div',{className:"_k6_"},c('React').createElement(c('Link.react'),{className:"_k70",onClick:this._onPickerLaunch},c('React').createElement('i',{alt:i._("C\u00e1mara"),className:"_k72"}))));},_onPickerLaunch:function(){this._waterfallLogger.logStep(c('PUWSteps').CLIENT_FLOW_BEGIN);!this._dialogRenderer?j(0):undefined;this._dialogRenderer.show();},_onPickerCancel:function(){!this._dialogRenderer?j(0):undefined;this._dialogRenderer.hide();this._waterfallLogger.logStep(c('PUWSteps').CLIENT_FLOW_CANCEL);},_onDoneSelecting:function(m){!this._dialogRenderer?j(0):undefined;this._dialogRenderer.hide();this.props.onPhotosSelected(m);}});f.exports=l;},null);
__d('SavedResponsesConstants',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={editPanelViewMode:{LIST:'LIST',CREATE:'CREATE',EDIT:'EDIT',PERSONALIZE:'PERSONALIZE'},sortingKey:{LAST_USED:'LAST_USED',MOST_USED:'MOST_USED',LAST_CREATED:'LAST_CREATED'},browsePanelAttachModeWidth:300,editPanelDialogWidth:600,listItemImageHeight:60,listItemImageWidth:60};f.exports=h;},null);
__d('SavedResponsesActionButton.react',['cx','Image.react','React','XUIGrayText.react','joinClasses'],function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(m,n){j.constructor.call(this,m,n);}l.prototype.render=function(){var m=c('joinClasses')("_uvx",this.props.className);return (c('React').createElement('div',{className:m,onClick:this.props.onClick},c('React').createElement(c('Image.react'),{src:this.props.image,className:"_uvy"}),c('React').createElement(c('XUIGrayText.react'),{shade:'medium',className:"_uvz"},this.props.label)));};l.propTypes={image:k.object.isRequired,label:k.string.isRequired,onClick:k.func.isRequired};f.exports=l;},null);
__d("XPagesSavedResponseImagePreviewController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/saved_responses\/image\/preview\/",{});},null);
__d('SavedResponsesImage.react',['cx','ActorURI','AsyncRequest','Image.react','LoadingIndicator.react','React','XPagesSavedResponseImagePreviewController','XUICloseButton.react','isEmpty','joinClasses'],function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(m,n){j.constructor.call(this,m,n);this.$SavedResponsesImage1=null;this.state={currentThumbnailImageId:'',imageUrl:null,isFetchingThumbnail:false};}l.prototype.componentWillReceiveProps=function(m){if(m.imageID!==this.props.imageID)this.$SavedResponsesImage2(m.imageID);};l.prototype.componentDidMount=function(){if(this.props.imageID)this.$SavedResponsesImage2(this.props.imageID);};l.prototype.componentWillUnmount=function(){if(this.$SavedResponsesImage1&&this.$SavedResponsesImage1.abort){this.$SavedResponsesImage1.abort();this.$SavedResponsesImage1=null;}};l.prototype.render=function(){if(!this.$SavedResponsesImage3()&&!this.state.imageUrl)return null;var m="_3mgf";if(this.$SavedResponsesImage3()){m=c('joinClasses')(m,this.props.loadingClassName);}else m=c('joinClasses')(m,this.props.displayClassName);return (c('React').createElement('div',{className:this.props.className},c('React').createElement('div',{className:m},this.$SavedResponsesImage4())));};l.prototype.$SavedResponsesImage2=function(m){if(c('isEmpty')(m)){this.setState({imageUrl:null});return;}this.setState({isFetchingThumbnail:true});var n=c('XPagesSavedResponseImagePreviewController').getURIBuilder().getURI();n=c('ActorURI').create(n,this.props.pageID);this.$SavedResponsesImage1=new (c('AsyncRequest'))();this.$SavedResponsesImage1.setURI(n).setHandler(function(o){return this.$SavedResponsesImage5(o);}.bind(this)).setMethod('POST').setData({image_id:m,target_width:this.props.width,target_height:this.props.height}).send();};l.prototype.$SavedResponsesImage3=function(){return this.state.isFetchingThumbnail||!!this.props.isUploading;};l.prototype.$SavedResponsesImage4=function(){if(this.props.isUploading||this.state.isFetchingThumbnail){return (c('React').createElement(c('LoadingIndicator.react'),{size:'medium',color:'white',className:"_3mgg"}));}else if(this.state.imageUrl){return (c('React').createElement('div',null,c('React').createElement(c('XUICloseButton.react'),{className:"_3mgn"+(!this.props.shouldShowCloseButton?' '+"hidden_elem":''),size:'medium',onClick:this.props.onClose}),c('React').createElement(c('Image.react'),{src:this.state.imageUrl})));}else return null;};l.prototype.$SavedResponsesImage5=function(m){this.setState({imageUrl:m.payload.url,isFetchingThumbnail:false});};l.propTypes={displayClassName:k.string.isRequired,height:k.number.isRequired,imageID:k.string,isUploading:k.bool,loadingClassName:k.string.isRequired,onClose:k.func,pageID:k.string.isRequired,shouldShowCloseButton:k.bool.isRequired,width:k.number.isRequired};f.exports=l;},null);
__d("SavedResponsesImageUploadHelper",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j){"use strict";this.$SavedResponsesImageUploadHelper1=i;this.$SavedResponsesImageUploadHelper2=j;}h.prototype.onUploaderMounted=function(i){"use strict";this.$SavedResponsesImageUploadHelper3=i;};h.prototype.onUploadFinished=function(){"use strict";if(!this.$SavedResponsesImageUploadHelper3)return;var i=this.$SavedResponsesImageUploadHelper3.getImageFiles().pop().toString();this.$SavedResponsesImageUploadHelper2(i);};h.prototype.onUploadStarted=function(){"use strict";this.$SavedResponsesImageUploadHelper1();};f.exports=h;},null);
__d("XPagesSavedResponseNotifyAppliedController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/saved_responses\/notify\/applied\/",{});},null);
__d("XPagesSavedResponsesAsyncController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/saved_responses\/",{page_id:{type:"Int",required:true},other_user_id:{type:"Int",required:true}});},null);
__d('SavedResponsesUtils',['invariant','ActorURI','AsyncRequest','SavedResponsesConstants','XPagesSavedResponsesAsyncController','XPagesSavedResponseNotifyAppliedController'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={generateImageMetadata:function(j){return {filename:'Photo.jpg',image_id:j,filetype:'image/jpeg'};},fetchSavedResponses:function(j,k,l){var m=c('XPagesSavedResponsesAsyncController').getURIBuilder().setInt('other_user_id',k).setInt('page_id',j).getURI();m=c('ActorURI').create(m,j);new (c('AsyncRequest'))().setURI(m).setHandler(function(n){return l(n.payload.responses,n.payload.tokens);}).send();},sortSavedResponses:function(j,k){switch(k){case c('SavedResponsesConstants').sortingKey.LAST_USED:return j.slice().sort(function(l,m){return m.lastTimeUsed-l.lastTimeUsed;});case c('SavedResponsesConstants').sortingKey.MOST_USED:return j.slice().sort(function(l,m){return m.usageCount-l.usageCount;});case c('SavedResponsesConstants').sortingKey.LAST_CREATED:return j;default:h(0);}},notifySavedResponseApplied:function(j,k){var l=c('XPagesSavedResponseNotifyAppliedController').getURIBuilder().getURI();l=c('ActorURI').create(l,k);new (c('AsyncRequest'))().setURI(l).setMethod('POST').setData({response_id:j.id}).send();}};f.exports=i;},null);
__d('SavedResponsesImageUploader.react',['cx','ChatFileUploaderMixin','Image.react','MercuryConfig','MercuryFileUploader','React','ReactDOM','SavedResponsesUtils','URI','XUIGrayText.react','joinClasses'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'SavedResponsesImageUploader',mixins:[c('ChatFileUploaderMixin')],propTypes:{image:i.object.isRequired,label:i.string.isRequired,pageID:i.string},componentDidMount:function(){this._fileUploader=new (c('MercuryFileUploader'))(this.props.attachmentsShelf,c('ReactDOM').findDOMNode(this.refs.form),c('ReactDOM').findDOMNode(this.refs.input),c('ReactDOM').findDOMNode(this.refs.attachID));if(this.props.imageID)this._fileUploader.addCachedAttachments([c('SavedResponsesUtils').generateImageMetadata(this.props.imageID)]);this.setUpSubscriptionsHandler(this._fileUploader);},getActionURI:function(){return this.props.pageID?new (c('URI'))(c('MercuryConfig').upload_url).addQueryData('request_user_id',this.props.pageID).toString():c('MercuryConfig').upload_url;},getDefaultProps:function(){return {pageID:null};},componentDidUpdate:function(k,l){if(this.props.imageID){this._fileUploader.removeAttachments();this._fileUploader.addCachedAttachments([c('SavedResponsesUtils').generateImageMetadata(this.props.imageID)]);}},render:function(){var k=c('joinClasses')("_uvx",this.props.className);return (c('React').createElement('form',{action:this.getActionURI(),className:k,method:'post',ref:'form'},c('React').createElement('input',{type:'hidden',name:'attach_id',ref:'attachID'}),c('React').createElement('div',{className:"_4q60"},c('React').createElement('div',{className:"_4q61 _2d_p"},c('React').createElement(c('Image.react'),{src:this.props.image,className:"_uvy"}),c('React').createElement(c('XUIGrayText.react'),{shade:'medium',className:"_uvz"},this.props.label)),c('React').createElement('input',{type:'file',className:"_2d_q",name:'attachment[]',accept:this.props.imagesOnly?'image/*':'*',ref:'input'}))));}});f.exports=j;},null);
__d('SavedResponsesEditResponseContentView.react',['cx','fbt','ix','AbstractTextArea.react','React','SavedResponsesActionButton.react','SavedResponsesImage.react','SavedResponsesImageUploader.react','SavedResponsesImageUploadHelper','ScrollableArea.react','MacroInput.react'],function a(b,c,d,e,f,g,h,i,j){var k,l;if(c.__markCompiled)c.__markCompiled();var m=c('React').PropTypes;k=babelHelpers.inherits(n,c('React').Component);l=k&&k.prototype;n.prototype.render=function(){'use strict';var o=i._("Introduce el t\u00edtulo de la respuesta aqu\u00ed"),p=i._("Introduce tu mensaje aqu\u00ed");return (c('React').createElement('div',{className:this.props.className},c('React').createElement(c('AbstractTextArea.react'),{className:"_4451 _1vw8",onChange:function(q){return this.props.onTitleChange(q.target.value);}.bind(this),placeholder:o,value:this.props.responseTitle}),c('React').createElement('div',{className:"_38bw _57hg"},c('React').createElement(c('ScrollableArea.react'),{fade:true,shadow:true},c('React').createElement(c('MacroInput.react'),{className:"_3jv6",editorState:this.props.editorState,onChange:this.props.onContentChange,placeholder:p,readOnly:false,ref:'macroInput'}),c('React').createElement(c('SavedResponsesImage.react'),{className:"_57hh",displayClassName:"_57hn",imageID:this.props.responseImageID,isUploading:this.props.isUploadingImage,loadingClassName:"_57hi",pageID:this.props.pageID,height:250,onClose:this.props.onDeleteImage,shouldShowCloseButton:true,width:250}))),this.$SavedResponsesEditResponseContentView1()));};n.prototype.$SavedResponsesEditResponseContentView1=function(){'use strict';return (c('React').createElement('div',{className:"_57ho"},c('React').createElement(c('SavedResponsesImageUploader.react'),{className:"_3-8v",image:j('/images/mobile/glyph/photos_dark-grey_l.png'),label:i._("A\u00f1adir imagen"),onFileUploaderMounted:function(o){return this.props.uploadHandler.onUploaderMounted(o);}.bind(this),onSubmit:function(){return this.props.uploadHandler.onUploadStarted();}.bind(this),onUploadFinished:function(){return this.props.uploadHandler.onUploadFinished();}.bind(this),pageID:this.props.pageID}),c('React').createElement(c('SavedResponsesActionButton.react'),{image:j('/images/mobile/glyph/love_dark-grey_l.png'),className:"_3-8v",label:i._("Personalizar"),onClick:this.props.onPersonalize})));};function n(){'use strict';k.apply(this,arguments);}n.propTypes={editorState:m.object.isRequired,isUploadingImage:m.bool.isRequired,pageID:m.string.isRequired,responseImageID:m.string,responseTitle:m.string,onContentChange:m.func.isRequired,onDeleteImage:m.func.isRequired,onPersonalize:m.func.isRequired,onTitleChange:m.func.isRequired,uploadHandler:m.instanceOf(c('SavedResponsesImageUploadHelper')).isRequired};f.exports=n;},null);
__d('SavedResponsesFooterButton.react',['cx','Image.react','React','XUIButton.react'],function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(m,n){j.constructor.call(this,m,n);}l.prototype.render=function(){return (c('React').createElement(c('XUIButton.react'),babelHelpers['extends']({},this.props,{className:"_3-8i"+(this.props.isHidden?' '+"hidden_elem":''),size:'large',label:this.props.label,onClick:this.props.onClick,use:this.props.use,image:this.props.image?c('React').createElement(c('Image.react'),{src:this.props.image}):null})));};l.propTypes={image:k.object,isHidden:k.bool,label:k.string.isRequired,onClick:k.func.isRequired,use:k.oneOf(['default','special','confirm'])};l.defaultProps={use:'default',isHidden:false};f.exports=l;},null);
__d('SavedResponsesMacroDetailView.react',['cx','fbt','React','ScrollableArea.react'],function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(n,o){k.constructor.call(this,n,o);}m.prototype.render=function(){var n=this.props.macro;if(!n)return null;return (c('React').createElement(c('ScrollableArea.react'),{fade:true,shadow:true},c('React').createElement('div',null,c('React').createElement('div',{className:"_tpd"},n.key),c('React').createElement('div',{className:"_tpe"},n.description),c('React').createElement('div',{className:"_tpf"},i._("Ejemplo")),c('React').createElement('div',{className:"_tpg"},n.example))));};m.propTypes={macro:l.shape({description:l.string.isRequired,example:l.string.isRequired,key:l.string.isRequired,name:l.string.isRequired,value:l.string.isRequired})};f.exports=m;},null);
__d('SavedResponsesMacroListItem.react',['cx','ix','Image.react','React'],function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(n,o){k.constructor.call(this,n,o);this.state={isHover:false};}m.prototype.render=function(){return (c('React').createElement('div',{className:"_5y_z",'data-id':this.props.macro.key,onClick:function(){return this.$SavedResponsesMacroListItem1();}.bind(this),onMouseOut:function(){return this.$SavedResponsesMacroListItem2();}.bind(this),onMouseOver:function(){return this.$SavedResponsesMacroListItem3();}.bind(this)},c('React').createElement('div',{className:"_5y__"},this.props.macro.key),c('React').createElement('div',{className:"_5z00"+(!this.state.isHover?' '+"hidden_elem":'')},c('React').createElement(c('Image.react'),{src:i('/images/pages/macro_listitem_triangle.png')}))));};m.prototype.$SavedResponsesMacroListItem3=function(){this.props.onHover(this.props.macro);this.setState({isHover:true});};m.prototype.$SavedResponsesMacroListItem2=function(){this.setState({isHover:false});};m.prototype.$SavedResponsesMacroListItem1=function(){this.props.onSelect(this.props.macro);};m.propTypes={macro:l.shape({key:l.string.isRequired,value:l.string.isRequired}).isRequired,onHover:l.func.isRequired,onSelect:l.func.isRequired};f.exports=m;},null);
__d('SavedResponsesMacroListView.react',['React','SavedResponsesMacroListItem.react'],function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;function k(l,m){i.constructor.call(this,l,m);}k.prototype.render=function(){return (c('React').createElement('ul',null,this.$SavedResponsesMacroListView1()));};k.prototype.$SavedResponsesMacroListView1=function(){var l=[];for(var m in this.props.macros){var n=this.props.macros[m];l.push(c('React').createElement(c('SavedResponsesMacroListItem.react'),{macro:n,onHover:this.props.onMacroHover,onSelect:this.props.onMacroSelected}));}return l;};k.propTypes={macros:j.object.isRequired,onMacroHover:j.func.isRequired,onMacroSelected:j.func.isRequired};f.exports=k;},null);
__d('SavedResponsesMacroBrowseView.react',['cx','fbt','Grid.react','React','SavedResponsesFooterButton.react','SavedResponsesMacroDetailView.react','SavedResponsesMacroListView.react','ScrollableArea.react','joinClasses'],function a(b,c,d,e,f,g,h,i){var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('Grid.react').GridItem,m=c('React').PropTypes;j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(o,p){'use strict';k.constructor.call(this,o,p);this.state={activeMacro:null};}n.prototype.render=function(){'use strict';return (c('React').createElement('div',null,this.renderBodyPart(),c('React').createElement('div',{className:"_3ohz"},this.renderFooterPart())));};n.prototype.renderBodyPart=function(){'use strict';var o=c('joinClasses')("_552a",this.props.className);return (c('React').createElement('div',{className:o},c('React').createElement(c('Grid.react'),{cols:2,spacing:'none',className:"_552b"},c('React').createElement(l,{className:"_552c"},c('React').createElement('div',{className:"_552d"}),c('React').createElement(c('ScrollableArea.react'),{fade:true,shadow:true},c('React').createElement('div',{className:"_2t-k"},c('React').createElement(c('SavedResponsesMacroListView.react'),{macros:this.props.macros,onMacroSelected:this.props.onMacroSelected,onMacroHover:function(p){return this.$SavedResponsesMacroBrowseView1(p);}.bind(this)})))),c('React').createElement(l,{className:"_552e"},c('React').createElement(c('SavedResponsesMacroDetailView.react'),{macro:this.state.activeMacro})))));};n.prototype.renderFooterPart=function(){'use strict';var o=i._("Cancelar");return (c('React').createElement('div',null,c('React').createElement('div',{className:"_552g"},c('React').createElement(c('SavedResponsesFooterButton.react'),{label:o,onClick:this.props.onCancel}))));};n.prototype.$SavedResponsesMacroBrowseView1=function(o){'use strict';this.setState({activeMacro:o});};n.propTypes={macros:m.object.isRequired,onCancel:m.func.isRequired,onMacroSelected:m.func.isRequired};f.exports=n;},null);
__d('SavedResponsesPanel.react',['cx','fbt','ix','Image.react','React','XUICloseButton.react','XUIDialogBody.react','XUIDialogTitle.react','XUIGrayText.react','emptyFunction'],function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l;if(c.__markCompiled)c.__markCompiled();var m=c('React').PropTypes;k=babelHelpers.inherits(n,c('React').Component);l=k&&k.prototype;function n(o,p){l.constructor.call(this,o,p);}n.prototype.render=function(){return (c('React').createElement('div',{className:this.props.className},c('React').createElement(c('XUIDialogTitle.react'),{className:"_3alh",showCloseButton:false},c('React').createElement('div',{className:"_2rp7"},c('React').createElement('div',{className:"_2rp8"+(!this.props.shouldShowBackButton?' '+"hidden_elem":''),onClick:this.props.onBackButtonClicked},c('React').createElement(c('Image.react'),{src:j("/images/help/rooms/back.png"),className:"_2rp9"}),c('React').createElement(c('XUIGrayText.react'),{shade:'light',className:"_2rpa"},this.props.backButtonLabel),c('React').createElement('div',{className:"_2rpb"})),c('React').createElement('span',{className:"_5hp9"},this.props.title)),this.$SavedResponsesPanel1()),c('React').createElement(c('XUIDialogBody.react'),{className:"_2rpc"},this.props.children)));};n.prototype.$SavedResponsesPanel1=function(){var o=i._("Cerrar");return (c('React').createElement(c('XUICloseButton.react'),{className:"_2rpe",label:o,onClick:this.props.onClose,shade:'dark',size:'medium',title:o,type:'button'}));};n.propTypes={backButtonLabel:m.string,onBackButtonClicked:m.func,onClose:m.func.isRequired,shouldShowBackButton:m.bool,title:m.string.isRequired};n.defaultProps={backButtonLabel:null,onBackButtonClicked:c('emptyFunction'),shouldShowBackButton:false};f.exports=n;},null);
__d('MacroSpan.react',['cx','DraftEntity','React','XUICloseButton.react'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'MacroSpan',propTypes:{entityKey:i.string.isRequired,offsetKey:i.string.isRequired,onRemoveToken:i.func.isRequired,tokens:i.object.isRequired},getInitialState:function(){return {isMouseOver:false};},render:function(){var k=this._getEntityData();return (c('React').createElement('span',{className:"_vxd",onMouseEnter:this._onMouseEnter,onMouseLeave:this._onMouseLeave},c('React').createElement('span',{className:"_vxe",contentEditable:false,'data-offset-key':this.props.offsetKey,spellCheck:false},this._getContent(k),c('React').createElement(c('XUICloseButton.react'),{size:'small',className:"_vxf",onClick:this._removeToken}))));},_getContent:function(k){var l=k.key in this.props.tokens?this.props.tokens[k.key].value:k.key,m=k.key in this.props.tokens?this.props.tokens[k.key].key:k.key;return this.state.isMouseOver?m:l;},_onMouseEnter:function(){this.setState({isMouseOver:true});},_onMouseLeave:function(){this.setState({isMouseOver:false});},_removeToken:function(){this.props.onRemoveToken(this.props.offsetKey);},_getEntityData:function(){return c('DraftEntity').get(this.props.entityKey).getData();}});f.exports=j;},null);
__d('getMacrosInputDecorator',['CompositeDraftDecorator','MacroSpan.react','getEntityMatcher'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j){return new (c('CompositeDraftDecorator'))([{strategy:c('getEntityMatcher')(function(k){return k.getType()==='TOKEN';}),component:c('MacroSpan.react'),props:{onRemoveToken:j,tokens:i}}]);}f.exports=h;},null);
__d('SavedResponsesTokensUtils',['DraftEntity','createEditorStateWithEntities','getMacrosInputDecorator'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=new RegExp('{{(.*?)}}','ig'),i={_parseTemplateFieldTokens:function(j){var k=j,l=[],m;while(m=h.exec(k)){var n={text:m[0],offset:m.index,length:m[0].length,entity:{token:m[0],key:m[1]}};l.push(n);k=k.replace(m[0],n.text);h.lastIndex=n.offset+n.length;}if(l.length>0){if(l[0].offset===0){k=" "+k;l.forEach(function(p){p.offset++;});}var o=l[l.length-1];if(o.length+o.offset===k.length)k=k+" ";}return {ranges:l,text:k};},createTemplateFieldsEditorStateWithText:function(j,k,l){var m=i._parseTemplateFieldTokens(j),n=m.ranges,o=m.text;return c('createEditorStateWithEntities')({text:o,ranges:n,decorator:c('getMacrosInputDecorator')(l,k),entityCreationFn:function(p){return c('DraftEntity').create('TOKEN','IMMUTABLE',p);}});},prepareforSend:function(j,k){var l=j.match(/\{{(.*?)\}}/g);if(l)l.forEach(function(m){var n=m.replace('{{','').replace('}}',''),o=n in k?k[n].value:n;j=j.replace(m,o);});return j;}};f.exports=i;},null);
__d("XPagesSavedResponsesAddController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/saved_responses\/add\/",{owner_id:{type:"Int",required:true},title:{type:"String",defaultValue:""},message:{type:"String",required:true},photo_id:{type:"Int"},user_message:{type:"String"}});},null);
__d("XPagesSavedResponsesDeleteController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/saved_responses\/delete\/",{response_id:{type:"Int",required:true}});},null);
__d("XPagesSavedResponsesEditController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/saved_responses\/edit\/",{response_id:{type:"Int",required:true},title:{type:"String",defaultValue:""},message:{type:"String",required:true},photo_id:{type:"Int"},remove_photo_id:{type:"Int"}});},null);
__d('SavedResponsesEditResponseView.react',['cx','fbt','invariant','ActorURI','AsyncRequest','DraftEntity','DraftModifier','DraftOffsetKey','EditorState','PagesEventObserver','PagesEventType','React','SavedResponsesEditResponseContentView.react','SavedResponsesFooterButton.react','SavedResponsesImageUploadHelper','SavedResponsesMacroBrowseView.react','SavedResponsesPanel.react','SavedResponsesTokensUtils','SelectionState','XPagesSavedResponsesAddController','XPagesSavedResponsesDeleteController','XPagesSavedResponsesEditController','XUISpinner.react','getMacrosInputDecorator'],function a(b,c,d,e,f,g,h,i,j){var k,l;if(c.__markCompiled)c.__markCompiled();var m=c('React').PropTypes;k=babelHelpers.inherits(n,c('React').Component);l=k&&k.prototype;function n(o,p){'use strict';l.constructor.call(this,o,p);var q=!!this.props.initialResponse||false,r=!!this.props.initialResponse&&!!this.props.initialResponse.image?this.props.initialResponse.image.id:'',s=this.$SavedResponsesEditResponseView1(q);this.state={anyContent:s.getCurrentContent().hasText(),editorState:s,imageID:r,isEditing:q,isModified:false,isPersonalizing:false,isProcessing:false,isUploadingImage:false,message:s.getCurrentContent().getPlainText(),shouldShowDeleteWarning:false,shouldShowDiscardWarning:false,title:!!this.props.initialResponse?this.props.initialResponse.title:'',uploadHandler:new (c('SavedResponsesImageUploadHelper'))(function(){return this.$SavedResponsesEditResponseView2();}.bind(this),function(t){return this.$SavedResponsesEditResponseView3(t);}.bind(this))};}n.prototype.render=function(){'use strict';return (c('React').createElement(c('SavedResponsesPanel.react'),{backButtonLabel:this.$SavedResponsesEditResponseView4(),className:"_15ht",onBackButtonClicked:function(){return this.$SavedResponsesEditResponseView5();}.bind(this),onClose:this.props.onClose,shouldShowBackButton:true,title:this.$SavedResponsesEditResponseView6()},this.$SavedResponsesEditResponseView7(),c('React').createElement('div',{className:"_3ohz"},this.$SavedResponsesEditResponseView8())));};n.prototype.$SavedResponsesEditResponseView9=function(){'use strict';return i._("Cancelar");};n.prototype.$SavedResponsesEditResponseView10=function(){'use strict';return i._("Eliminar");};n.prototype.$SavedResponsesEditResponseView11=function(){'use strict';return i._("Guardar respuesta");};n.prototype.$SavedResponsesEditResponseView7=function(){'use strict';if(this.state.isPersonalizing){return (c('React').createElement(c('SavedResponsesMacroBrowseView.react'),{className:"_1wxh",macros:this.props.supportedMacros,onCancel:function(){return this.$SavedResponsesEditResponseView12();}.bind(this),onMacroSelected:function(o){return this.$SavedResponsesEditResponseView13(o);}.bind(this)}));}else return (c('React').createElement(c('SavedResponsesEditResponseContentView.react'),{className:"_1wxh",editorState:this.state.editorState,isUploadingImage:this.state.isUploadingImage,onContentChange:function(o){return this.$SavedResponsesEditResponseView14(o);}.bind(this),onDeleteImage:function(){return this.$SavedResponsesEditResponseView15();}.bind(this),onPersonalize:function(){return this.$SavedResponsesEditResponseView16();}.bind(this),onTitleChange:function(o){this.setState({title:o,isModified:true});}.bind(this),pageID:this.props.pageID,responseImageID:this.state.imageID,responseTitle:this.state.title,uploadHandler:this.state.uploadHandler}));};n.prototype.$SavedResponsesEditResponseView8=function(){'use strict';if(this.state.isPersonalizing){return (c('React').createElement(c('SavedResponsesFooterButton.react'),{label:this.$SavedResponsesEditResponseView9(),onClick:function(){return this.$SavedResponsesEditResponseView12();}.bind(this)}));}else return this.$SavedResponsesEditResponseView17();};n.prototype.$SavedResponsesEditResponseView18=function(){'use strict';var o=i._("Seguir editando"),p=i._("Descartar");return (c('React').createElement('div',null,c('React').createElement('div',{className:"_2ln1"},i._("\u00bfSeguro que quieres descartar el cambio?")),c('React').createElement('div',{className:"_4pnp"},c('React').createElement(c('SavedResponsesFooterButton.react'),{label:p,onClick:function(){return this.$SavedResponsesEditResponseView19();}.bind(this)}),c('React').createElement(c('SavedResponsesFooterButton.react'),{label:o,onClick:function(){return this.$SavedResponsesEditResponseView20();}.bind(this),use:'confirm'}))));};n.prototype.$SavedResponsesEditResponseView21=function(){'use strict';return (c('React').createElement('div',null,c('React').createElement('div',{className:"_2ln1"},i._("\u00bfEst\u00e1s seguro de que quieres eliminar esta respuesta guardada?")),c('React').createElement('div',{className:"_4pnp"},c('React').createElement(c('SavedResponsesFooterButton.react'),{label:this.$SavedResponsesEditResponseView10(),onClick:function(){return this.$SavedResponsesEditResponseView22();}.bind(this)}),c('React').createElement(c('SavedResponsesFooterButton.react'),{label:this.$SavedResponsesEditResponseView9(),onClick:function(){return this.$SavedResponsesEditResponseView23();}.bind(this),use:'confirm'}))));};n.prototype.$SavedResponsesEditResponseView24=function(){'use strict';return (c('React').createElement('div',null,c('React').createElement(c('SavedResponsesFooterButton.react'),{label:this.$SavedResponsesEditResponseView10(),onClick:function(){return this.$SavedResponsesEditResponseView25();}.bind(this),isHidden:!this.state.isEditing}),c('React').createElement('div',{className:"_4pnp"},c('React').createElement(c('SavedResponsesFooterButton.react'),{label:this.$SavedResponsesEditResponseView9(),onClick:function(){return this.props.onEditDone(false);}.bind(this)}),c('React').createElement(c('SavedResponsesFooterButton.react'),{disabled:!this.state.anyContent,label:this.$SavedResponsesEditResponseView11(),onClick:function(){return this.$SavedResponsesEditResponseView26();}.bind(this),use:'confirm'}),c('React').createElement(c('XUISpinner.react'),{size:'small',className:(!this.state.isProcessing?"hidden_elem":'')+(' '+"_3-91")+(' '+"_3-99")}))));};n.prototype.$SavedResponsesEditResponseView17=function(){'use strict';if(this.state.shouldShowDeleteWarning){return this.$SavedResponsesEditResponseView21();}else if(this.state.shouldShowDiscardWarning){return this.$SavedResponsesEditResponseView18();}else return this.$SavedResponsesEditResponseView24();};n.prototype.$SavedResponsesEditResponseView4=function(){'use strict';if(!this.state.isPersonalizing){return i._("Lista");}else return i._("Editar");};n.prototype.$SavedResponsesEditResponseView6=function(){'use strict';if(this.state.isPersonalizing){return i._("A\u00f1adir personalizaci\u00f3n");}else if(this.state.isEditing){return i._("Editar respuesta");}else return i._("Crear respuesta");};n.prototype.$SavedResponsesEditResponseView27=function(o){'use strict';var p={text:'{{'+o.name+'}}',key:o.name},q=this.state.editorState,r=q.getSelection(),s=q.getCurrentContent(),t=r.getStartKey(),u=r.getStartOffset(),v=s.getBlockForKey(t),w;if(v.getText().substr(u-1,1).trim().length>0){var x=c('DraftModifier').replaceText(s,r,' ');r=x.getSelectionAfter();w=c('DraftModifier').insertText(x,r,p.text,q.getCurrentInlineStyle(),c('DraftEntity').create('TOKEN','IMMUTABLE',p));}else w=c('DraftModifier').replaceText(s,r,p.text,q.getCurrentInlineStyle(),c('DraftEntity').create('TOKEN','IMMUTABLE',p));w=c('DraftModifier').insertText(w,w.getSelectionAfter(),' ');q=c('EditorState').push(q,w,'insert-fragment');q=c('EditorState').forceSelection(q,q.getSelection());this.$SavedResponsesEditResponseView14(q);};n.prototype.$SavedResponsesEditResponseView28=function(){'use strict';var o=this.state.editorState.getCurrentContent().getPlainText();c('PagesEventObserver').logData_DEPRECATED({event_name:c('PagesEventType').SAVED_REPLIES_EDIT_REPLY,page_id:this.props.pageID,response_content:o},null);var p=this.props.initialResponse;!!!p?j(0):undefined;var q=this.state.imageID?this.state.imageID.toString():'',r=c('XPagesSavedResponsesEditController').getURIBuilder().setInt('response_id',p.id).setString('message',o).setString('title',this.state.title);if(!q&&p.image&&p.image.id){r.setInt('remove_photo_id',p.image.id);}else r.setInt('photo_id',q);r=c('ActorURI').create(r.getURI(),this.props.pageID);new (c('AsyncRequest'))().setURI(r).setMethod('POST').setHandler(function(){return this.props.onEditDone(true);}.bind(this)).send();};n.prototype.$SavedResponsesEditResponseView29=function(){'use strict';var o=this.state.editorState.getCurrentContent().getPlainText();c('PagesEventObserver').logData_DEPRECATED({event_name:c('PagesEventType').SAVED_REPLIES_CREATE_REPLY,page_id:this.props.pageID,response_content:o},null);var p=this.state.imageID?this.state.imageID.toString():'',q=c('XPagesSavedResponsesAddController').getURIBuilder().setInt('owner_id',this.props.pageID).setString('message',o).setString('title',this.state.title).setInt('photo_id',p).getURI();q=c('ActorURI').create(q,this.props.pageID);new (c('AsyncRequest'))().setURI(q).setMethod('POST').setHandler(function(){return this.props.onEditDone(true);}.bind(this)).send();};n.prototype.$SavedResponsesEditResponseView1=function(o){'use strict';if(o&&this.props.initialResponse){var p=this.props.initialResponse.message||'';return c('SavedResponsesTokensUtils').createTemplateFieldsEditorStateWithText(p,function(q){return this.$SavedResponsesEditResponseView30(q);}.bind(this),this.props.supportedMacros);}else return c('EditorState').createEmpty(c('getMacrosInputDecorator')(this.props.supportedMacros||{},function(q){return this.$SavedResponsesEditResponseView30(q);}.bind(this)));};n.prototype.$SavedResponsesEditResponseView15=function(){'use strict';this.setState({imageID:null});};n.prototype.$SavedResponsesEditResponseView5=function(){'use strict';if(this.state.isPersonalizing){this.setState({isPersonalizing:false});}else if(this.state.isModified){this.setState({shouldShowDiscardWarning:true});}else this.props.onBackButtonClicked();};n.prototype.$SavedResponsesEditResponseView12=function(){'use strict';this.setState({isPersonalizing:false});};n.prototype.$SavedResponsesEditResponseView13=function(o){'use strict';c('PagesEventObserver').logData_DEPRECATED({event_name:c('PagesEventType').SAVED_REPLIES_PERSONALIZE,page_id:this.props.pageID},null);this.setState({isPersonalizing:false});this.$SavedResponsesEditResponseView27(o);};n.prototype.$SavedResponsesEditResponseView16=function(){'use strict';this.setState({isPersonalizing:true});this.props.onEnterPersonalizeView();};n.prototype.$SavedResponsesEditResponseView14=function(o){'use strict';this.setState({anyContent:o.getCurrentContent().hasText(),editorState:o,isModified:true});};n.prototype.$SavedResponsesEditResponseView2=function(){'use strict';c('PagesEventObserver').logData_DEPRECATED({event_name:c('PagesEventType').SAVED_REPLIES_ADD_IMAGE,page_id:this.props.pageID},null);this.setState({imageID:null,isUploadingImage:true});};n.prototype.$SavedResponsesEditResponseView3=function(o){'use strict';this.setState({imageID:o,isUploadingImage:false});};n.prototype.$SavedResponsesEditResponseView30=function(o){'use strict';var p=this.state.editorState,q=c('DraftOffsetKey').decode(o),r=q.blockKey,s=q.decoratorKey,t=p.getBlockTree(r).getIn([s]),u=new (c('SelectionState'))({anchorKey:r,anchorOffset:t.get('start'),focusKey:r,focusOffset:t.get('end'),isBackward:false,hasFocus:true}),v=c('DraftModifier').removeRange(p.getCurrentContent(),u,'forward'),w=c('EditorState').push(p,v,'remove-range');this.$SavedResponsesEditResponseView14(w);};n.prototype.$SavedResponsesEditResponseView25=function(){'use strict';this.setState({shouldShowDeleteWarning:true});};n.prototype.$SavedResponsesEditResponseView26=function(){'use strict';this.setState({isProcessing:true});this.state.isEditing?this.$SavedResponsesEditResponseView28():this.$SavedResponsesEditResponseView29();};n.prototype.$SavedResponsesEditResponseView23=function(){'use strict';this.setState({shouldShowDeleteWarning:false});};n.prototype.$SavedResponsesEditResponseView22=function(){'use strict';c('PagesEventObserver').logData_DEPRECATED({event_name:c('PagesEventType').SAVED_REPLIES_DELETE_REPLY,page_id:this.props.pageID},null);this.setState({shouldShowDeleteWarning:false,isProcessing:true});!!!this.props.initialResponse?j(0):undefined;var o=c('XPagesSavedResponsesDeleteController').getURIBuilder().setInt('response_id',this.props.initialResponse.id).getURI();new (c('AsyncRequest'))().setURI(o).setMethod('POST').setHandler(function(){return this.props.onEditDone(true);}.bind(this)).send();};n.prototype.$SavedResponsesEditResponseView19=function(){'use strict';this.props.onBackButtonClicked();};n.prototype.$SavedResponsesEditResponseView20=function(){'use strict';this.setState({shouldShowDiscardWarning:false});};n.propTypes={initialResponse:m.shape({id:m.string.isRequired,title:m.string,message:m.string,image:m.object}),onBackButtonClicked:m.func.isRequired,onClose:m.func.isRequired,onEditDone:m.func.isRequired,onEnterPersonalizeView:m.func.isRequired,pageID:m.string.isRequired,supportedMacros:m.object};f.exports=n;},null);
__d('SavedResponsesListItem.react',['cx','fbt','ClientIDs','Link.react','React','ReactDOM','SavedResponsesImage.react','SavedResponsesConstants'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=c('React').createClass({displayName:'SavedResponsesListItem',propTypes:{onResponseHover:j.func,onResponseSelected:j.func.isRequired,onResponseUnhover:j.func,pageID:j.string.isRequired,response:j.shape({id:j.string.isRequired,title:j.string,message:j.string.isRequired,image:j.object}),tokens:j.object.isRequired},getInitialState:function(){return {shouldShowSeeMoreLink:false,shouldLimitHeight:true};},componentDidMount:function(){this._refreshSeeMoreLink();},componentDidUpdate:function(){this._refreshSeeMoreLink();},render:function(){var l=this.props.response.image&&true;return (c('React').createElement('div',{className:"_33w3"+(l?' '+"_33w4":''),'data-id':this.props.response.id,onClick:this._onResponseSelected,onMouseEnter:this._onResponseHover,onMouseLeave:this.props.onResponseUnhover},c('React').createElement('div',{className:"_33w5"+(l?' '+"_33w6":'')+(' '+"fwb")},this.props.response.title),c('React').createElement('div',{className:"_33w7"+(this.state.shouldLimitHeight?' '+"_4en5":'')+(!this.props.response.title&&this.props.response.image?' '+"_2pid":''),ref:'message'},this.props.response.image?c('React').createElement(c('SavedResponsesImage.react'),{className:"_33w8",displayClassName:"_33w9",height:c('SavedResponsesConstants').listItemImageHeight,imageID:this.props.response.image.id,loadingClassName:"_33w9",pageID:this.props.pageID,shouldShowCloseButton:false,width:c('SavedResponsesConstants').listItemImageWidth}):null,this._processTokens(this.props.response.message)),c('React').createElement(c('Link.react'),{className:"_4en6"+(!this.state.shouldShowSeeMoreLink?' '+"hidden_elem":''),onClick:this._onShowMoreClicked},i._("Ver m\u00e1s"))));},_refreshSeeMoreLink:function(){if(this.state.shouldLimitHeight===false||this.state.shouldShowSeeMoreLink)return;var l=c('ReactDOM').findDOMNode(this.refs.message);if(l.scrollHeight>l.clientHeight)this.setState({shouldShowSeeMoreLink:true});},_processTokens:function(l){var m=0,n=0,o=/\{{(.*?)\}}/g,p=o.exec(l),q=[];while(p!=null){n=p.index;q.push(c('React').createElement('span',{key:c('ClientIDs').getNewClientID()},l.substring(m,n)));m=n+p[0].length;var r=p[1] in this.props.tokens?this.props.tokens[p[1]].value:p[1];q.push(c('React').createElement('span',{key:c('ClientIDs').getNewClientID(),className:"_-8"},r));p=o.exec(l);}q.push(c('React').createElement('span',{key:c('ClientIDs').getNewClientID()},l.substring(m,l.length)));return q;},_onResponseSelected:function(){this.props.onResponseSelected(this.props.response,this.props.tokens);},_onResponseHover:function(){this.props.onResponseHover&&this.props.onResponseHover(this.props.response,this.props.tokens);},_onShowMoreClicked:function(l){this.setState({shouldShowSeeMoreLink:false,shouldLimitHeight:false});l.stopPropagation();}});f.exports=k;},null);
__d('SavedResponsesListView.react',['cx','React','SavedResponsesListItem.react','SavedResponsesUtils','XUISpinner.react'],function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(m,n){j.constructor.call(this,m,n);}l.prototype.render=function(){if(this.props.isLoadingResponses)return (c('React').createElement('div',{className:"_e19"},c('React').createElement(c('XUISpinner.react'),{size:'large'})));var m=this.props.searchQuery.trim().toLowerCase(),n=function(p){return (p.message.toLowerCase().indexOf(m)!==-1||(p.title||'').toLowerCase().indexOf(m)!==-1);},o=c('SavedResponsesUtils').sortSavedResponses(this.props.responses,this.props.sortingKey);return (c('React').createElement('ul',{className:this.props.shouldAdjustRightMargin?"_e1a":''},o.filter(n).map(function(p){return (c('React').createElement(c('SavedResponsesListItem.react'),{key:p.id,onResponseHover:this.props.onResponseHover,onResponseSelected:this.props.onResponseSelected,onResponseUnhover:this.props.onResponseUnhover,pageID:this.props.pageID,response:p,tokens:this.props.supportedMacros}));}.bind(this))));};l.propTypes={isLoadingResponses:k.bool.isRequired,onResponseHover:k.func,onResponseSelected:k.func.isRequired,onResponseUnhover:k.func,pageID:k.string.isRequired,responses:k.array.isRequired,searchQuery:k.string.isRequired,shouldAdjustRightMargin:k.bool};f.exports=l;},null);
__d('SavedResponsesOrderingMenu.react',['cx','fbt','ContextualDialogArrow','PopoverMenu.react','React','ReactXUIMenu','SavedResponsesConstants','XUIPopoverButton.react'],function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('ReactXUIMenu').Item;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(n){k.constructor.call(this,n);var o=[{key:c('SavedResponsesConstants').sortingKey.MOST_USED,title:i._("Usado con frecuencia")},{key:c('SavedResponsesConstants').sortingKey.LAST_USED,title:i._("Usados recientemente")},{key:c('SavedResponsesConstants').sortingKey.LAST_CREATED,title:i._("Creados recientemente")}];this.$SavedResponsesOrderingMenu1=o;}m.prototype.$SavedResponsesOrderingMenu2=function(){return this.$SavedResponsesOrderingMenu1.find(function(n){return n.key===this.props.activeSortingOptionKey;}.bind(this));};m.prototype.render=function(){var n=c('React').createElement(c('ReactXUIMenu'),null,this.$SavedResponsesOrderingMenu1.map(function(o){return this.$SavedResponsesOrderingMenu3(o);}.bind(this)));return (c('React').createElement('div',{className:this.props.className},c('React').createElement('span',{className:"_4mjo"},i._("Ordenar por")),c('React').createElement(c('PopoverMenu.react'),{alignv:'baseline',menu:n,layerBehaviors:[c('ContextualDialogArrow')]},c('React').createElement(c('XUIPopoverButton.react'),{label:this.$SavedResponsesOrderingMenu2().title}))));};m.prototype.$SavedResponsesOrderingMenu3=function(n){return (c('React').createElement(l,{onclick:function(){return this.props.onSortingKeyChanged(n.key);}.bind(this),key:n.key},n.title));};f.exports=m;},null);
__d('SavedResponsesListViewContainer.react',['cx','fbt','Layout.react','LeftFillRightFitLayout.react','React','SavedResponsesOrderingMenu.react','XUICloseButton.react','XUITextInput.react','joinClasses'],function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('Layout.react').Column,m=c('Layout.react').FillColumn,n=c('React').PropTypes;j=babelHelpers.inherits(o,c('React').Component);k=j&&j.prototype;o.prototype.render=function(){var p=c('joinClasses')("_3ohy",this.props.className);return (c('React').createElement('div',{className:p},c('React').createElement(c('LeftFillRightFitLayout.react'),{className:"_1x3h"},this.$SavedResponsesListViewContainer1(),c('React').createElement(c('SavedResponsesOrderingMenu.react'),{className:"_4b4m",activeSortingOptionKey:this.props.activeSortingOptionKey,onSortingKeyChanged:this.props.onSortingKeyChanged})),this.props.children,c('React').createElement('div',{className:"_3ohz"},this.props.footerPart)));};o.prototype.$SavedResponsesListViewContainer1=function(){return (c('React').createElement(c('Layout.react'),{className:"_4b4n"},c('React').createElement(l,null,c('React').createElement('div',{className:"_1x3i"})),c('React').createElement(m,null,c('React').createElement(c('XUITextInput.react'),{onChange:this.props.onSearchQueryChanged,ref:'inputField',placeholder:i._("Busca respuestas"),value:this.props.searchQuery})),c('React').createElement(l,null,c('React').createElement(c('XUICloseButton.react'),{size:'small',onClick:this.props.onSearchQueryCleared,className:this.props.searchQuery.length===0?"hidden_elem":''}))));};function o(){j.apply(this,arguments);}o.propTypes={footerPart:n.object.isRequired,onSearchQueryChanged:n.func.isRequired,onSearchQueryCleared:n.func.isRequired,searchQuery:n.string.isRequired};f.exports=o;},null);
__d('SavedResponsesManageListView.react',['cx','ix','fbt','React','SavedResponsesConstants','SavedResponsesFooterButton.react','SavedResponsesListView.react','SavedResponsesListViewContainer.react','SavedResponsesPanel.react','ScrollableArea.react'],function a(b,c,d,e,f,g,h,i,j){var k,l;if(c.__markCompiled)c.__markCompiled();var m=c('React').PropTypes;k=babelHelpers.inherits(n,c('React').Component);l=k&&k.prototype;function n(o,p){'use strict';l.constructor.call(this,o,p);this.state={searchQuery:"",activeSortingOptionKey:c('SavedResponsesConstants').sortingKey.LAST_CREATED};this.$SavedResponsesManageListView1=this.$SavedResponsesManageListView1.bind(this);}n.prototype.$SavedResponsesManageListView1=function(o){'use strict';this.setState({activeSortingOptionKey:o});};n.prototype.render=function(){'use strict';return (c('React').createElement(c('SavedResponsesPanel.react'),{className:"_15ht",shouldShowBackButton:false,onClose:this.props.onClose,title:j._("Respuestas guardadas")},c('React').createElement(c('SavedResponsesListViewContainer.react'),{footerPart:this.$SavedResponsesManageListView2(),onSearchQueryChanged:function(o){return this.$SavedResponsesManageListView3(o);}.bind(this),onSearchQueryCleared:function(){return this.$SavedResponsesManageListView4();}.bind(this),searchQuery:this.state.searchQuery,activeSortingOptionKey:this.state.activeSortingOptionKey,onSortingKeyChanged:this.$SavedResponsesManageListView1},this.$SavedResponsesManageListView5())));};n.prototype.$SavedResponsesManageListView5=function(){'use strict';return (c('React').createElement('div',{className:"_4pno"},c('React').createElement(c('ScrollableArea.react'),{fade:true,shadow:true},c('React').createElement(c('SavedResponsesListView.react'),{isLoadingResponses:false,onResponseSelected:this.props.onResponseSelected,pageID:this.props.pageID,responses:this.props.responses,searchQuery:this.state.searchQuery,supportedMacros:this.props.supportedMacros,sortingKey:this.state.activeSortingOptionKey}),this.$SavedResponsesManageListView6())));};n.prototype.$SavedResponsesManageListView2=function(){'use strict';var o=j._("Crear respuesta"),p=j._("Finalizar");return (c('React').createElement('div',{className:"_4pnp"},c('React').createElement(c('SavedResponsesFooterButton.react'),{label:o,onClick:this.props.onCreateNewReplyClicked,image:i('/images/mobile/glyph/compose_dark-grey_m.png')}),c('React').createElement(c('SavedResponsesFooterButton.react'),{label:p,onClick:this.props.onDoneClicked})));};n.prototype.$SavedResponsesManageListView6=function(){'use strict';return (c('React').createElement('div',{className:"_4pnq"},c('React').createElement('div',{className:"_50f8"+(' '+"_4pnr")},j._("Fin de las respuestas guardadas"))));};n.prototype.$SavedResponsesManageListView3=function(o){'use strict';this.setState({searchQuery:o.target.value});};n.prototype.$SavedResponsesManageListView4=function(){'use strict';this.setState({searchQuery:""});};n.propTypes={onClose:m.func.isRequired,onCreateNewReplyClicked:m.func.isRequired,onDoneClicked:m.func.isRequired,onResponseSelected:m.func.isRequired,otherUserID:m.string.isRequired,pageID:m.string.isRequired,responses:m.array.isRequired,supportedMacros:m.object.isRequired};f.exports=n;},null);
__d('SavedResponsesManagePanel.react',['cx','React','SavedResponsesConstants','SavedResponsesEditResponseView.react','SavedResponsesManageListView.react','SavedResponsesUtils','XUISpinner.react'],function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(m,n){j.constructor.call(this,m,n);this.state={isLoadingResponses:true,responseToEdit:null,responses:[],supportedMacros:null,viewType:this.props.initialViewType};}l.prototype.componentWillMount=function(){this.$SavedResponsesManagePanel1();};l.prototype.render=function(){if(this.state.isLoadingResponses)return (c('React').createElement('div',{className:"_15ht"},c('React').createElement('div',{className:"_15hu"},c('React').createElement(c('XUISpinner.react'),{size:'large'}))));switch(this.state.viewType){case c('SavedResponsesConstants').editPanelViewMode.LIST:return (c('React').createElement(c('SavedResponsesManageListView.react'),{onCreateNewReplyClicked:function(){return this.$SavedResponsesManagePanel2();}.bind(this),onDoneClicked:function(){return this.$SavedResponsesManagePanel3();}.bind(this),otherUserID:this.props.otherUserID,onResponseSelected:function(m,n){return (this.$SavedResponsesManagePanel4(m,n));}.bind(this),onClose:this.props.onClose,pageID:this.props.pageID,responses:this.state.responses,supportedMacros:this.state.supportedMacros}));case c('SavedResponsesConstants').editPanelViewMode.EDIT:case c('SavedResponsesConstants').editPanelViewMode.CREATE:case c('SavedResponsesConstants').editPanelViewMode.PERSONALIZE:return (c('React').createElement(c('SavedResponsesEditResponseView.react'),{initialResponse:this.state.responseToEdit,onBackButtonClicked:function(){return this.$SavedResponsesManagePanel5(false);}.bind(this),onClose:this.props.onClose,onEditDone:function(m){return this.$SavedResponsesManagePanel5(m);}.bind(this),onEnterPersonalizeView:function(){return this.$SavedResponsesManagePanel6();}.bind(this),pageID:this.props.pageID,supportedMacros:this.state.supportedMacros}));}};l.prototype.$SavedResponsesManagePanel1=function(){this.setState({isLoadingResponses:true});c('SavedResponsesUtils').fetchSavedResponses(this.props.pageID,this.props.otherUserID,function(m,n){return (this.setState({responses:m,supportedMacros:n,isLoadingResponses:false}));}.bind(this));};l.prototype.$SavedResponsesManagePanel5=function(m){if(this.props.initialViewType===c('SavedResponsesConstants').editPanelViewMode.CREATE){this.props.onClose();return;}if(m)this.$SavedResponsesManagePanel1();this.setState({responseToEdit:null,viewType:c('SavedResponsesConstants').editPanelViewMode.LIST});};l.prototype.$SavedResponsesManagePanel2=function(){this.setState({responseToEdit:null,viewType:c('SavedResponsesConstants').editPanelViewMode.CREATE});};l.prototype.$SavedResponsesManagePanel3=function(){this.props.onClose();};l.prototype.$SavedResponsesManagePanel6=function(){this.setState({viewType:c('SavedResponsesConstants').editPanelViewMode.PERSONALIZE});};l.prototype.$SavedResponsesManagePanel4=function(m){this.setState({responseToEdit:m,viewType:c('SavedResponsesConstants').editPanelViewMode.EDIT});};l.propTypes={initialViewType:k.string,onClose:k.func.isRequired,otherUserID:k.string.isRequired,pageID:k.string.isRequired};l.defaultProps={initialViewType:c('SavedResponsesConstants').editPanelViewMode.LIST};f.exports=l;},null);
__d('PagesManagerCountDownTimer.react',['cx','fbt','React'],function a(b,c,d,e,f,g,h,i){var j,k;if(c.__markCompiled)c.__markCompiled();var l=1000;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(n,o){'use strict';k.constructor.call(this,n,o);this.state={timeRemaining:this.$PagesManagerCountDownTimer1(this.props.expireTimestamp),isCountingDown:false};}m.prototype.componentDidMount=function(){'use strict';if(!this.state.isCountingDown)this.$PagesManagerCountDownTimer2();};m.prototype.componentWillReceiveProps=function(n){'use strict';this.setState({timeRemaining:this.$PagesManagerCountDownTimer1(n.expireTimestamp)});if(!this.state.isCountingDown)this.$PagesManagerCountDownTimer2();};m.prototype.render=function(){'use strict';return (c('React').createElement('div',{className:"_3uo9"+(this.props.isHidden?' '+"hidden_elem":'')},this.$PagesManagerCountDownTimer3()));};m.prototype.$PagesManagerCountDownTimer3=function(){'use strict';var n=Math.floor(this.state.timeRemaining/1000/60),o=this.$PagesManagerCountDownTimer4(Math.floor(n/60)),p=this.$PagesManagerCountDownTimer4(n%60);if(this.props.isNewInbox)return i._("Returning in {hours}:{minutes}",[i.param('hours',o),i.param('minutes',p)]);return i._("Quedan {hours}:{minutes}",[i.param('hours',o),i.param('minutes',p)]);};m.prototype.$PagesManagerCountDownTimer1=function(n){'use strict';return n?n-Date.now():0;};m.prototype.$PagesManagerCountDownTimer2=function(){'use strict';this.setState({isCountingDown:true});var n=function(){var o=this.$PagesManagerCountDownTimer1(this.props.expireTimestamp);if(o>0){this.setState({timeRemaining:o});this.$PagesManagerCountDownTimer2();return;}this.setState({isCountingDown:false});this.props.onTimeup();}.bind(this);setTimeout(n,l);};m.prototype.$PagesManagerCountDownTimer4=function(n){'use strict';return ("0"+n).slice(-2);};m.defaultProps={isNewInbox:false};f.exports=m;},null);
__d('PagesManagerPerfLogger',['PagesManagerPerfTypedLogger','Set'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=1000;function i(){this.$PagesManagerPerfLogger1=new (c('Set'))();}i.prototype.log=function(j,k){var l=k.perfID+':'+j;if(this.$PagesManagerPerfLogger1.has(l))return;this.$PagesManagerPerfLogger1.add(l);var m=Date.now()/h-k.baseTime;new (c('PagesManagerPerfTypedLogger'))().setPageID(k.pageID).setEventName(j).setEventSeriesID(k.perfID).setPerfTime(Math.round(m)).logVital();};f.exports=new i();},null);
__d('PagesManagerActionType',['ImmutableObject','keyMirrorRecursive'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=new (c('ImmutableObject'))(c('keyMirrorRecursive')({LIST:{FETCH:'',FETCHED:'',UPDATED:'',LOAD_MORE:'',LOADING:'',PREVENT_SCROLL:'',SELECT:'',DESELECT_ALL:'',VIEW:'',INITIAL_VIEW:'',CLEAR_INITIAL_VIEW:''},NAVIGATION_UNIT:{CHANGE:'',NOTIFICATION_COUNT_CHANGE:''},FILTER_PANEL:{TOGGLE_PANEL:''},LAYOUT:{HEIGHT_CHANGE:''},SEARCH:{TOGGLE_SEARCH:'',CHANGE_SEARCH_TERM:'',IS_SEARCHING_CHANGED:'',ADD_SEARCH_CUSTOM_TAG:'',REMOVE_SEARCH_CUSTOM_TAG:''}}));f.exports=h;},null);
__d('PagesManagerDispatcher',['ReactDispatcher_DEPRECATED'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();f.exports=new (c('ReactDispatcher_DEPRECATED'))();},null);
__d('PagesManagerStore',['PagesManagerActionType','FluxStore','Map','PagesManagerDispatcher'],function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('FluxStore'));i=h&&h.prototype;function j(k){'use strict';i.constructor.call(this,c('PagesManagerDispatcher'));this.$PagesManagerStore5=null;this.$PagesManagerStore1=0;this.$PagesManagerStore2=0;this.$PagesManagerStore3=[];this.$PagesManagerStore4=new (c('Map'))();}j.prototype.__onDispatch=function(k){'use strict';switch(k.type){case c('PagesManagerActionType').LIST.VIEW:this.$PagesManagerStore5=k.listItem;this.__emitChange();break;case c('PagesManagerActionType').LIST.SELECT:this.$PagesManagerStore7(k);this.__emitChange();break;case c('PagesManagerActionType').LAYOUT.HEIGHT_CHANGE:this.$PagesManagerStore1=k.heights.navigationHeight;this.$PagesManagerStore2=k.heights.layoutHeight;this.__emitChange();break;case c('PagesManagerActionType').LIST.DESELECT_ALL:this.$PagesManagerStore7({rowsAdded:[],rowsRemoved:this.$PagesManagerStore3,selectedRows:[]});this.__emitChange();break;case c('PagesManagerActionType').LIST.INITIAL_VIEW:this.$PagesManagerStore8(k.item);break;case c('PagesManagerActionType').LIST.CLEAR_INITIAL_VIEW:this.$PagesManagerStore6=null;break;default:return;}};j.prototype.$PagesManagerStore8=function(k){'use strict';this.$PagesManagerStore6=k;this.$PagesManagerStore5=k;};j.prototype.$PagesManagerStore7=function(k){'use strict';this.$PagesManagerStore3=k.selectedRows;k.rowsAdded.forEach(function(l){this.$PagesManagerStore4.set(l,true);}.bind(this));k.rowsRemoved.forEach(function(l){this.$PagesManagerStore4.set(l,false);}.bind(this));};j.prototype.getViewingListItem=function(){'use strict';return this.$PagesManagerStore5;};j.prototype.getInitialViewingItem=function(){'use strict';return this.$PagesManagerStore6;};j.prototype.getLayoutHeight=function(){'use strict';return this.$PagesManagerStore2;};j.prototype.getNavigationHeight=function(){'use strict';return this.$PagesManagerStore1;};j.prototype.getIsRowSelected=function(k){'use strict';return this.$PagesManagerStore4.has(k)?this.$PagesManagerStore4.get(k):false;};j.prototype.getSelectedRows=function(){'use strict';return this.$PagesManagerStore3;};j.prototype.isSelectionMode=function(){'use strict';return this.$PagesManagerStore3.length!==0;};f.exports=new j(c('PagesManagerDispatcher'));},null);
__d('PagesManagerListBatchActionContainer.react',['FluxContainer','PagesManagerStore','React'],function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.getStores=function(){'use strict';return [c('PagesManagerStore')];};j.calculateState=function(k){'use strict';var l=c('PagesManagerStore').getSelectedRows(),m=l.length>0;return {showBatchAction:m,selectedRows:l};};j.prototype.render=function(){'use strict';var k=this.props,l=k.ChildClass,m=babelHelpers.objectWithoutProperties(k,['ChildClass']);return (c('React').createElement(l,babelHelpers['extends']({},m,{selectedRows:this.state.selectedRows,showBatchAction:this.state.showBatchAction})));};function j(){'use strict';h.apply(this,arguments);}f.exports=c('FluxContainer').create(j);},null);
__d('PagesManagerAction',['PagesManagerActionType','PagesManagerDispatcher'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={viewListItem:function(i){c('PagesManagerDispatcher').dispatch({type:c('PagesManagerActionType').LIST.VIEW,listItem:i});},setInitialViewItem:function(i){c('PagesManagerDispatcher').dispatch({type:c('PagesManagerActionType').LIST.INITIAL_VIEW,item:i});},clearInitialViewItem:function(){c('PagesManagerDispatcher').dispatch({type:c('PagesManagerActionType').LIST.CLEAR_INITIAL_VIEW});},setHeight:function(i){c('PagesManagerDispatcher').dispatch({type:c('PagesManagerActionType').LAYOUT.HEIGHT_CHANGE,heights:i});},handleSelectionChange:function(i,j,k){c('PagesManagerDispatcher').dispatch({type:c('PagesManagerActionType').LIST.SELECT,rowsAdded:i,rowsRemoved:j,selectedRows:k});},deselectAll:function(){c('PagesManagerDispatcher').dispatch({type:c('PagesManagerActionType').LIST.DESELECT_ALL});}};f.exports=h;},null);
__d('PagesManagerResizeListener',['EventEmitter'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports=new (c('EventEmitter'))();},null);
__d('PagesManagerListDetailLayout.react',['cx','PagesManagerAction','PagesManagerResizeListener','React','ReactDOM','ResizeListener','SubscriptionsHandler','Vector','XUICard.react','Grid.react','joinClasses'],function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('Grid.react').GridItem,l=200;i=babelHelpers.inherits(m,c('React').Component);j=i&&i.prototype;m.getTopOffsetRelativeToView=function(n){'use strict';var o=0;do{if(!isNaN(n.offsetTop))o+=n.offsetTop;}while(n=n.offsetParent);return o;};function m(n,o){'use strict';j.constructor.call(this,n,o);this.state={top:0,height:l};}m.prototype.recalculateHeight=function(){'use strict';var n=Math.max(l,c('Vector').getViewportDimensions().y-m.getTopOffsetRelativeToView(c('ReactDOM').findDOMNode(this))-2-30);this.setState({height:n});var o=c('Vector').getElementDimensions(c('ReactDOM').findDOMNode(this.refs.navigationSection)).y;c('PagesManagerAction').setHeight({layoutHeight:n,navigationHeight:o});this.setState({top:o+8});};m.prototype.componentDidMount=function(){'use strict';this.recalculateHeight();this.$PagesManagerListDetailLayout1=new (c('SubscriptionsHandler'))();this.$PagesManagerListDetailLayout1.addSubscriptions(c('ResizeListener').add(function(){return this.recalculateHeight();}.bind(this)),c('PagesManagerResizeListener').addListener('change',function(){return this.recalculateHeight();}.bind(this)));};m.prototype.componentWillUnmount=function(){'use strict';this.$PagesManagerListDetailLayout1&&this.$PagesManagerListDetailLayout1.release();};m.prototype.render=function(){'use strict';var n=this.state.height+'px',o=this.state.top+'px',p=this.props.navigationSection===null?null:c('React').createElement('div',{className:"_2-97",ref:'navigationSection'},this.props.navigationSection);return (c('React').createElement(c('XUICard.react'),{style:{height:n}},p,c('React').createElement('div',{className:"_10ua",style:{top:o}},c('React').createElement(c('Grid.react'),{alignv:'top',className:"_10ue",cols:2},c('React').createElement(k,{className:c('joinClasses')("_10uf",this.props.listClassName)},this.props.listSection),c('React').createElement(k,{className:"_10ug"},this.props.detailSection)))));};f.exports=m;},null);
__d('PagesManagerListRowContainer.react',['FluxContainer','PagesManagerStore','React'],function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.getStores=function(){'use strict';return [c('PagesManagerStore')];};j.calculateState=function(k,l){'use strict';var m=false,n=false;if(l&&l.listItem){m=c('PagesManagerStore').getIsRowSelected(l.listItem);n=c('PagesManagerStore').getViewingListItem()===l.listItem;}var o=c('PagesManagerStore').isSelectionMode();return {selected:m,isViewing:n,selectionMode:o};};j.prototype.render=function(){'use strict';var k=this.props,l=k.ChildClass,m=babelHelpers.objectWithoutProperties(k,['ChildClass']);return (c('React').createElement(l,babelHelpers['extends']({ref:'childClass',selected:this.state.selected,isViewing:this.state.isViewing,selectionMode:this.state.selectionMode},m)));};function j(){'use strict';h.apply(this,arguments);}f.exports=c('FluxContainer').create(j,{withProps:true});},null);
__d('PagesManagerListView.react',['PagesManagerListRowContainer.react','PagesManagerAction','PagesSelectableList.react','React'],function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.prototype.$PagesManagerListView1=function(k){'use strict';c('PagesManagerAction').viewListItem(k);};j.prototype.componentWillUpdate=function(k){'use strict';if(k.navigationKey!==this.props.navigationKey){c('PagesManagerAction').deselectAll();this.refs.selectableList.clearSelection();}};function j(k){'use strict';i.constructor.call(this,k);this.state={scrollableHeight:0};}j.prototype.render=function(){'use strict';var k;if(!this.props.list.length){if(!this.props.initLoading){k=this.props.emptyView;}else k=this.$PagesManagerListView2();}else k=this.$PagesManagerListView3();return (c('React').createElement(c('PagesSelectableList.react'),{actionBarRightComponent:this.props.actionBarRightContainer,deselectAllLabel:'',selectAllLabel:this.props.selectAllLabel,enableOnVisible:this.props.hasMoreItem,forceRequestMoreRows:true,height:this.props.height,loadingIndicator:this.props.loadingMoreSpinner,onSelectionChange:this.props.onSelectionChange,onRequestMoreRows:this.props.onScroll,ref:'selectableList',scrollableAreaMode:true,scrollableAreaHasShadow:false,scrollableWidth:this.props.scrollableWidth},k));};j.prototype.$PagesManagerListView3=function(){'use strict';return this.props.list.map(function(k){return (c('React').createElement(c('PagesManagerListRowContainer.react'),babelHelpers['extends']({ChildClass:this.props.listRowContainer,listItem:k,pageID:this.props.pageID,ref:this.props.getKey(k),key:this.props.getKey(k),onViewingListItem:this.$PagesManagerListView1,type:'li'},this.props.containerProps)));}.bind(this));};j.prototype.clearSelection=function(){'use strict';this.refs.selectableList.clearSelection();};j.prototype.$PagesManagerListView2=function(){'use strict';return c('React').createElement('div',{key:'loading'});};f.exports=j;},null);
__d('PagesManagerStaticStore',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={_pageID:'',setPageID:function(i){this._pageID=i;},getPageID:function(){return this._pageID;}};f.exports=h;},null);
__d('PagesManagerCustomTagsActionType',['PagesManagerActionType','keyMirrorRecursive'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('keyMirrorRecursive')({FETCH:null,UPDATE:null,TOGGLE_TAG_MANAGEMENT_DIALOG:null},'CUSTOM_TAGS_');Object.assign(h,c('PagesManagerActionType'));f.exports=h;},null);
__d('PagesManagerCustomTagsAction',['PagesManagerCustomTagsActionType','PagesManagerDispatcher'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={fetch:function(i){c('PagesManagerDispatcher').dispatch({pageID:i,type:c('PagesManagerCustomTagsActionType').FETCH});},toggleTagManagementDialog:function(i,j){c('PagesManagerDispatcher').dispatch({type:c('PagesManagerCustomTagsActionType').TOGGLE_TAG_MANAGEMENT_DIALOG,pageID:i,show:j});}};f.exports=h;},null);
__d("XPagesCustomTagsDataController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/custom_tags\/data\/",{});},null);
__d('PagesManagerCustomTagsStore',['ActorURI','AsyncRequest','PagesManagerCustomTagsActionType','PagesManagerDispatcher','FluxStore','immutable','Map','XPagesCustomTagsDataController'],function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('FluxStore'));i=h&&h.prototype;function j(k){i.constructor.call(this,k);this.$PagesManagerCustomTagsStore1=new (c('Map'))();this.$PagesManagerCustomTagsStore2=false;}j.prototype.hasCustomTags=function(k){return this.$PagesManagerCustomTagsStore1.has(k);};j.prototype.getCustomTags=function(k){return c('immutable').Map(this.$PagesManagerCustomTagsStore1.get(k)||new (c('Map'))());};j.prototype.hasCustomTag=function(k,l){var m=this.$PagesManagerCustomTagsStore1.get(k);return m!==undefined&&m.has(l);};j.prototype.getIsManagingTags=function(){return this.$PagesManagerCustomTagsStore2;};j.prototype.__onDispatch=function(k){switch(k.type){case c('PagesManagerCustomTagsActionType').FETCH:new (c('AsyncRequest'))().setURI(c('ActorURI').create(c('XPagesCustomTagsDataController').getURIBuilder().getURI(),k.pageID)).setHandler(function(m){this.__dispatcher.dispatch({type:c('PagesManagerCustomTagsActionType').UPDATE,pageID:k.pageID,customTags:m.payload});}.bind(this)).send();break;case c('PagesManagerCustomTagsActionType').UPDATE:var l=this.$PagesManagerCustomTagsStore1.get(k.pageID)||new (c('Map'))();k.customTags.map(function(m){l.set(m.name,m);});this.$PagesManagerCustomTagsStore1.set(k.pageID,l);this.__emitChange();break;case c('PagesManagerCustomTagsActionType').TOGGLE_TAG_MANAGEMENT_DIALOG:this.$PagesManagerCustomTagsStore2=k.show;this.__emitChange();break;default:break;}};f.exports=new j(c('PagesManagerDispatcher'));},null);
__d('PagesManagerCustomTagManagementDialogContainer.react',['fbt','FluxContainer','immutable','PagesManagerCustomTagsAction','PagesManagerCustomTagsStore','React','XUIDialog.react','XUIDialogCancelButton.react','XUIDialogFooter.react','XUIDialogTitle.react'],function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=400;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(m){j.constructor.call(this,m);this.$PagesManagerCustomTagManagementDialogContainer1=this.$PagesManagerCustomTagManagementDialogContainer1.bind(this);}l.getStores=function(){return [c('PagesManagerCustomTagsStore')];};l.prototype.componentWillMount=function(){if(!c('PagesManagerCustomTagsStore').hasCustomTags(this.props.pageID))c('PagesManagerCustomTagsAction').fetch(this.props.pageID);};l.calculateState=function(m,n){return {customTags:c('PagesManagerCustomTagsStore').getCustomTags(n.pageID),isManagingTags:c('PagesManagerCustomTagsStore').getIsManagingTags()};};l.prototype.$PagesManagerCustomTagManagementDialogContainer1=function(m){c('PagesManagerCustomTagsAction').toggleTagManagementDialog(this.props.pageID,m);};l.prototype.render=function(){return (c('React').createElement(c('XUIDialog.react'),{layerHideOnBlur:true,onToggle:this.$PagesManagerCustomTagManagementDialogContainer1,shown:this.state.isManagingTags,width:k},c('React').createElement(c('XUIDialogTitle.react'),{showCloseButton:false},h._("Manage Labels")),c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIDialogCancelButton.react'),null))));};f.exports=c('FluxContainer').create(l,{withProps:true});},null);
__d('PagesManagerDetailContainer.react',['FluxContainer','PagesManagerStore','React'],function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;function j(k){'use strict';i.constructor.call(this,k);this.state={height:0,viewingListItem:null};}j.getStores=function(){'use strict';return [c('PagesManagerStore')];};j.calculateState=function(k){'use strict';var l=c('PagesManagerStore').getLayoutHeight()-c('PagesManagerStore').getNavigationHeight();return {height:l,viewingListItem:c('PagesManagerStore').getViewingListItem()};};j.prototype.render=function(){'use strict';var k=this.props,l=k.ChildContainerClass,m=babelHelpers.objectWithoutProperties(k,['ChildContainerClass']);return (c('React').createElement(l,babelHelpers['extends']({height:this.state.height,viewingListItem:this.state.viewingListItem,listItemKey:this.props.getListItemKey(this.state.viewingListItem)},m)));};f.exports=c('FluxContainer').create(j);},null);
__d('PagesManagerListContainer.react',['FluxContainer','PagesManagerAction','PagesManagerStore','React'],function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;function j(k){'use strict';i.constructor.call(this,k);this.state={height:0};}j.getStores=function(){'use strict';return [c('PagesManagerStore')];};j.calculateState=function(k){'use strict';var l=c('PagesManagerStore').getLayoutHeight()-c('PagesManagerStore').getNavigationHeight();return {height:l};};j.prototype.render=function(){'use strict';var k=this.props,l=k.ChildContainerClass,m=babelHelpers.objectWithoutProperties(k,['ChildContainerClass']);return (c('React').createElement(l,babelHelpers['extends']({height:this.state.height,onSelectionChange:this.$PagesManagerListContainer1},m)));};j.prototype.$PagesManagerListContainer1=function(k){var l=k.rowsAdded,m=k.rowsRemoved,n=k.selectedRows;'use strict';c('PagesManagerAction').handleSelectionChange(l,m,n);};f.exports=c('FluxContainer').create(j);},null);
__d('AbstractPagesManagerListStore',['invariant','PagesManagerActionType','FluxStore','Map'],function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();i=babelHelpers.inherits(k,c('FluxStore'));j=i&&i.prototype;function k(l){'use strict';j.constructor.call(this,l);this.__hasMoreItem=new (c('Map'))();this.__isLoading=false;}k.prototype.__onDispatch=function(l){'use strict';switch(l.type){case c('PagesManagerActionType').LIST.FETCH:this.__handleListFetch(l);break;case c('PagesManagerActionType').LIST.FETCHED:case c('PagesManagerActionType').LIST.UPDATED:this.__emitChange();break;case c('PagesManagerActionType').LIST.LOADING:this.__isLoading=true;this.__emitChange();break;case c('PagesManagerActionType').NAVIGATION_UNIT.CHANGE:case c('PagesManagerActionType').SEARCH.ADD_SEARCH_CUSTOM_TAG:case c('PagesManagerActionType').SEARCH.REMOVE_SEARCH_CUSTOM_TAG:this.__handleNavigationUnitChange(l);break;default:return;}};k.prototype.__handleListFetch=function(l){'use strict';h(0);};k.prototype.__handleNavigationUnitChange=function(l){'use strict';h(0);};k.prototype.hasMoreItem=function(l){'use strict';return this.__hasMoreItem.get(l);};k.prototype.getItemList=function(l,m){'use strict';h(0);};k.prototype.isLoading=function(){'use strict';return this.__isLoading;};f.exports=k;},null);
__d('PagesManagerMessagingActionType',['PagesManagerActionType','keyMirrorRecursive'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('keyMirrorRecursive')({THREAD_LEVEL:{READ_STATUS:'',ARCHIVE_STATUS:'',SPAM_STATUS:'',UPDATE_THREAD:''},MESSAGE_LEVEL:{READ_RECEIPTS:''},SET_SCROLL_HEIGHT:null,AWAY_STATE:{UPDATE:null,FETCH:null,SET:null},SET_IS_CONTEXT_CARD_HIDDEN:null,MESSAGE_SEARCH:{NAME_SEARCH_UPDATE:null,SNIPPET_SEARCH_UPDATE:null,LOAD_MORE_NAME_RESULT:null,LOAD_MORE_SNIPPET_RESULT:null},HOT_LIKE:{END:null,START:null},BAN:{RESET:null,UPDATE:null}});Object.assign(h,c('PagesManagerActionType'));f.exports=h;},null);
__d('PagesManagerMessagingAwayStatusDispatcher',['ReactDispatcher_DEPRECATED'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports=new (c('ReactDispatcher_DEPRECATED'))();},null);
__d('PagesManagerAwayToggleAction',['PagesManagerMessagingActionType','PagesManagerMessagingAwayStatusDispatcher'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={fetchStatus:function(i){c('PagesManagerMessagingAwayStatusDispatcher').dispatch({pageID:i,type:c('PagesManagerMessagingActionType').AWAY_STATE.FETCH});},setToggleStatus:function(i,j){c('PagesManagerMessagingAwayStatusDispatcher').dispatch({pageID:i,toggle:j,type:c('PagesManagerMessagingActionType').AWAY_STATE.SET});}};f.exports=h;},null);
__d('PagesManagerAwayBanner.react',['cx','fbt','ix','PagesManagerAwayToggleAction','Image.react','LeftRight.react','Link.react','PagesManagerResizeListener','PagesManagerCountDownTimer.react','React','XUIText.react'],function a(b,c,d,e,f,g,h,i,j){var k,l;if(c.__markCompiled)c.__markCompiled();var m='/help/800788243369168';k=babelHelpers.inherits(n,c('React').Component);l=k&&k.prototype;n.prototype.$PagesManagerAwayBanner1=function(){'use strict';c('PagesManagerAwayToggleAction').setToggleStatus(this.props.pageID,false);};n.prototype.componentDidUpdate=function(o){'use strict';if(o.isAway!==this.props.isAway)c('PagesManagerResizeListener').emit('change');};n.prototype.renderLeftChild=function(){'use strict';var o=this.props.expirationTimestamp*1000;return (c('React').createElement('div',null,c('React').createElement(c('Image.react'),{className:"_2fei",src:j('images/pages/pages_manager/messages/clock.png')}),c('React').createElement(c('XUIText.react'),{className:"_2fek",size:'small',display:'inline'},i._("Ausente en este momento"),c('React').createElement('div',{className:"_2fel"},c('React').createElement(c('PagesManagerCountDownTimer.react'),{expireTimestamp:o,isHidden:!this.props.isAway,isNewInbox:true,onTimeup:function(){return this.$PagesManagerAwayBanner1();}.bind(this)})))));};n.prototype.renderRightChild=function(){'use strict';return (c('React').createElement('div',null,c('React').createElement(c('Link.react'),{className:"_2fem",href:m,target:'_blank'},i._("M\u00e1s informaci\u00f3n")),c('React').createElement(c('XUIText.react'),{className:"_2fen",onClick:function(){c('PagesManagerAwayToggleAction').setToggleStatus(this.props.pageID,false);}.bind(this)},i._("Desactivar"))));};n.prototype.render=function(){'use strict';if(!this.props.isInitialized)return c('React').createElement('div',null);return (c('React').createElement(c('LeftRight.react'),{className:"_2feo"+(!this.props.isAway?' '+"hidden_elem":'')},this.renderLeftChild(),this.renderRightChild()));};function n(){'use strict';k.apply(this,arguments);}f.exports=n;},null);
__d("XPagesAwayToggleController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/manager\/messages\/awaytoggle\/",{});},null);
__d("XPagesAwayToggleStatusController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/manager\/messages\/awaytoggle\/status\/",{});},null);
__d('PagesManagerMessagingAwayStatusStore',['ActorURI','AsyncRequest','PagesManagerMessagingActionType','FluxStore','PagesManagerMessagingAwayStatusDispatcher','XPagesAwayToggleController','XPagesAwayToggleStatusController'],function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('FluxStore'));i=h&&h.prototype;function j(k){i.constructor.call(this,k);this.$PagesManagerMessagingAwayStatusStore1=false;this.$PagesManagerMessagingAwayStatusStore2=false;this.$PagesManagerMessagingAwayStatusStore3=0;}j.prototype.$PagesManagerMessagingAwayStatusStore4=function(k){var l=c('XPagesAwayToggleStatusController').getURIBuilder().getURI();l=c('ActorURI').create(l,k);new (c('AsyncRequest'))().setURI(l).setHandler(function(m){this.$PagesManagerMessagingAwayStatusStore1=m.payload.isAway;this.$PagesManagerMessagingAwayStatusStore3=m.payload.expiration;this.$PagesManagerMessagingAwayStatusStore2=true;this.__dispatcher.dispatch({type:c('PagesManagerMessagingActionType').AWAY_STATE.UPDATE});}.bind(this)).send();};j.prototype.$PagesManagerMessagingAwayStatusStore5=function(k,l){var m=c('XPagesAwayToggleController').getURIBuilder().getURI();m=c('ActorURI').create(m,k);new (c('AsyncRequest'))().setURI(m).setMethod('POST').setData({is_away:l}).setHandler(function(n){this.$PagesManagerMessagingAwayStatusStore1=n.payload.isAway;this.$PagesManagerMessagingAwayStatusStore3=n.payload.expiration;this.__dispatcher.dispatch({type:c('PagesManagerMessagingActionType').AWAY_STATE.UPDATE});}.bind(this)).send();};j.prototype.__onDispatch=function(k){switch(k.type){case c('PagesManagerMessagingActionType').AWAY_STATE.SET:this.$PagesManagerMessagingAwayStatusStore5(k.pageID,k.toggle);break;case c('PagesManagerMessagingActionType').AWAY_STATE.FETCH:this.$PagesManagerMessagingAwayStatusStore4(k.pageID);break;case c('PagesManagerMessagingActionType').AWAY_STATE.UPDATE:this.__emitChange();break;default:break;}};j.prototype.isAway=function(){return this.$PagesManagerMessagingAwayStatusStore1;};j.prototype.isInitialized=function(){return this.$PagesManagerMessagingAwayStatusStore2;};j.prototype.getExpirationTimestamp=function(){return this.$PagesManagerMessagingAwayStatusStore3;};f.exports=new j(c('PagesManagerMessagingAwayStatusDispatcher'));},null);
__d('PagesManagerAwayContainer.react',['PagesManagerMessagingAwayStatusStore','PagesManagerAwayToggleAction','FluxContainer','React'],function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.getStores=function(){'use strict';return [c('PagesManagerMessagingAwayStatusStore')];};j.calculateState=function(k,l){'use strict';return {isAway:c('PagesManagerMessagingAwayStatusStore').isAway(),isInitialized:c('PagesManagerMessagingAwayStatusStore').isInitialized(),expirationTimestamp:c('PagesManagerMessagingAwayStatusStore').getExpirationTimestamp()};};j.prototype.componentWillMount=function(){'use strict';c('PagesManagerAwayToggleAction').fetchStatus(this.props.pageID);};j.prototype.render=function(){'use strict';var k=this.props,l=k.RenderClass,m=babelHelpers.objectWithoutProperties(k,['RenderClass']);return (c('React').createElement(l,babelHelpers['extends']({},m,this.state)));};function j(){'use strict';h.apply(this,arguments);}f.exports=c('FluxContainer').create(j,{withProps:true});},null);
__d('PagesManagerMessagingComposerActionTypes',['keyMirrorRecursive'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('keyMirrorRecursive')({ATTACHMENT:{ALL_COMPLETE:'attachment/attach/complete/all',ATTACH_CACHED:'attachment/attach/cached',ATTACH_COMPLETE:'attachment/attach/complete',ATTACH_START:'attachment/attach/start',CANCEL:'attachment/cancel',DETACH:'attachment/detach',DETACH_ALL:'attachment/detach/all'},MESSAGE:{CLEAR:'message/clear',SET:'message/set'},PARTICIPANT:{SET:'participant/set'},SAVED_REPLIES:{LOADING:'saved-replies/loading',SET:'saved-replies/set'},SHARE_UPLOADER:{READY:'share-uploader/ready',CLEAR:'share-uploader/clear'},UPLOADER:{READY:'uploader/ready'}});f.exports=h;},null);
__d('PagesManagerMessagingComposerDispatcher',['ReactDispatcher_DEPRECATED'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports=new (c('ReactDispatcher_DEPRECATED'))();},null);
__d('PagesManagerMessagingComposerStore',['PagesManagerMessagingComposerActionTypes','FluxStore','Map','MercuryConfig','PagesManagerMessagingComposerDispatcher','PagesMessagingConfig','URI'],function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('FluxStore'));i=h&&h.prototype;function j(k){i.constructor.call(this,k);this.$PagesManagerMessagingComposerStore1=new (c('Map'))();this.$PagesManagerMessagingComposerStore2=null;this.$PagesManagerMessagingComposerStore3=false;this.$PagesManagerMessagingComposerStore4='';this.$PagesManagerMessagingComposerStore5=null;this.$PagesManagerMessagingComposerStore6={replies:[],tokens:{}};this.$PagesManagerMessagingComposerStore7=null;}j.prototype.getAllAttachmentsMeta=function(){var k=this.$PagesManagerMessagingComposerStore8(),l=[];for(var m=this.$PagesManagerMessagingComposerStore1.values(),n=Array.isArray(m),o=0,m=n?m:m[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var p;if(n){if(o>=m.length)break;p=m[o++];}else{o=m.next();if(o.done)break;p=o.value;}var q=p;if(q.id&&k.indexOf(q.id)!==-1||q.isUploading)l.push(q);}return l;};j.prototype.getAttachedAttachmentIds=function(){if(this.$PagesManagerMessagingComposerStore2)return this.$PagesManagerMessagingComposerStore2.getAttachments();return [];};j.prototype.getAttachedImageIds=function(){if(this.$PagesManagerMessagingComposerStore2)return this.$PagesManagerMessagingComposerStore2.getImageFiles();return [];};j.prototype.getAttachedAnimatedImageIds=function(){if(this.$PagesManagerMessagingComposerStore2)return this.$PagesManagerMessagingComposerStore2.getAnimatedImageFiles();return [];};j.prototype.getAttachedVideoIds=function(){if(this.$PagesManagerMessagingComposerStore2)return this.$PagesManagerMessagingComposerStore2.getVideoFiles();return [];};j.prototype.getAttachedAudioFilesIds=function(){if(this.$PagesManagerMessagingComposerStore2)return this.$PagesManagerMessagingComposerStore2.getAudioFiles();return [];};j.prototype.getAttachedFilesIds=function(){if(this.$PagesManagerMessagingComposerStore2)return this.$PagesManagerMessagingComposerStore2.getFiles();return [];};j.prototype.getFileUploader=function(){return this.$PagesManagerMessagingComposerStore2;};j.prototype.getIsAttachmentUploading=function(){if(this.$PagesManagerMessagingComposerStore2)return this.$PagesManagerMessagingComposerStore2.isUploading();return false;};j.prototype.getIsSavedRepliesLoading=function(){return this.$PagesManagerMessagingComposerStore3;};j.prototype.getMessage=function(){return this.$PagesManagerMessagingComposerStore4;};j.prototype.getQuickReplyMode=function(){return c('PagesMessagingConfig').sendOnEnter;};j.prototype.getParticipant=function(){return this.$PagesManagerMessagingComposerStore5;};j.prototype.getSavedReplies=function(){return this.$PagesManagerMessagingComposerStore6;};j.prototype.getShareLink=function(){if(this.$PagesManagerMessagingComposerStore7)return this.$PagesManagerMessagingComposerStore7.getAttachData();};j.prototype.getUploadActionFromUserID=function(k){if(!k)return null;return new (c('URI'))(c('MercuryConfig').upload_url).addQueryData('request_user_id',k).toString();};j.prototype.$PagesManagerMessagingComposerStore9=function(k,l){this.$PagesManagerMessagingComposerStore1.set(l.upload_id,{id:'',isUploading:true,name:l.metadata.filename,type:l.metadata.filetype,uploadID:l.upload_id});};j.prototype.$PagesManagerMessagingComposerStore10=function(k){k.map(function(l){this.$PagesManagerMessagingComposerStore1.set(l.upload_id,{id:'',isUploading:true,name:l.metadata.name,type:l.metadata.type,uploadID:l.upload_id});}.bind(this));};j.prototype.$PagesManagerMessagingComposerStore11=function(){this.$PagesManagerMessagingComposerStore4='';};j.prototype.$PagesManagerMessagingComposerStore12=function(k){if(this.$PagesManagerMessagingComposerStore1.has(k))this.$PagesManagerMessagingComposerStore1['delete'](k);};j.prototype.$PagesManagerMessagingComposerStore13=function(){if(this.$PagesManagerMessagingComposerStore7)this.$PagesManagerMessagingComposerStore7.clear();};j.prototype.$PagesManagerMessagingComposerStore14=function(k){var l;if(this.$PagesManagerMessagingComposerStore1.has(k.upload_id)){l=this.$PagesManagerMessagingComposerStore1.get(k.upload_id);l.id=this.$PagesManagerMessagingComposerStore15(k);l.isUploading=false;this.$PagesManagerMessagingComposerStore1.set(k.upload_id,l);}};j.prototype.$PagesManagerMessagingComposerStore8=function(){if(!this.$PagesManagerMessagingComposerStore2)return [];var k=this.$PagesManagerMessagingComposerStore2;return [].concat(k.getAttachments(),k.getImageFiles(),k.getAnimatedImageFiles(),k.getVideoFiles(),k.getAudioFiles(),k.getFiles());};j.prototype.$PagesManagerMessagingComposerStore15=function(k){return k.metadata.image_id||k.metadata.gif_id||k.metadata.video_id||k.metadata.audio_id||k.metadata.file_id;};j.prototype.__onDispatch=function(k){switch(k.actionType){case c('PagesManagerMessagingComposerActionTypes').ATTACHMENT.ALL_COMPLETE:this.$PagesManagerMessagingComposerStore16();this.__emitChange();break;case c('PagesManagerMessagingComposerActionTypes').ATTACHMENT.ATTACH_COMPLETE:this.$PagesManagerMessagingComposerStore14(k.attachment);this.__emitChange();break;case c('PagesManagerMessagingComposerActionTypes').ATTACHMENT.ATTACH_START:this.$PagesManagerMessagingComposerStore10(k.files);this.__emitChange();break;case c('PagesManagerMessagingComposerActionTypes').ATTACHMENT.DETACH:this.$PagesManagerMessagingComposerStore17(k.uploadID);this.__emitChange();break;case c('PagesManagerMessagingComposerActionTypes').ATTACHMENT.DETACH_ALL:this.$PagesManagerMessagingComposerStore18();this.__emitChange();break;case c('PagesManagerMessagingComposerActionTypes').MESSAGE.CLEAR:this.$PagesManagerMessagingComposerStore11();break;case c('PagesManagerMessagingComposerActionTypes').MESSAGE.SET:this.$PagesManagerMessagingComposerStore19(k.message);this.__emitChange();break;case c('PagesManagerMessagingComposerActionTypes').PARTICIPANT.SET:this.$PagesManagerMessagingComposerStore20(k.participant);this.__emitChange();break;case c('PagesManagerMessagingComposerActionTypes').SAVED_REPLIES.LOADING:this.$PagesManagerMessagingComposerStore21(k.isLoading);this.__emitChange();break;case c('PagesManagerMessagingComposerActionTypes').SAVED_REPLIES.SET:this.$PagesManagerMessagingComposerStore22(k.replies,k.tokens);this.__emitChange();break;case c('PagesManagerMessagingComposerActionTypes').SHARE_UPLOADER.READY:this.$PagesManagerMessagingComposerStore23(k.uploader);break;case c('PagesManagerMessagingComposerActionTypes').SHARE_UPLOADER.CLEAR:this.$PagesManagerMessagingComposerStore13();break;case c('PagesManagerMessagingComposerActionTypes').UPLOADER.READY:this.$PagesManagerMessagingComposerStore24(k.uploader);this.$PagesManagerMessagingComposerStore25();break;}};j.prototype.$PagesManagerMessagingComposerStore18=function(){if(this.$PagesManagerMessagingComposerStore2){this.$PagesManagerMessagingComposerStore2.removeAttachments();this.$PagesManagerMessagingComposerStore1.clear();}};j.prototype.$PagesManagerMessagingComposerStore17=function(k){if(this.$PagesManagerMessagingComposerStore2){this.$PagesManagerMessagingComposerStore2.removeOneAttachment(k);this.$PagesManagerMessagingComposerStore12(k);}};j.prototype.$PagesManagerMessagingComposerStore16=function(){this.$PagesManagerMessagingComposerStore1.forEach(function(k,l){if(k.isUploading)this.$PagesManagerMessagingComposerStore1['delete'](k.uploadID);}.bind(this));};j.prototype.$PagesManagerMessagingComposerStore24=function(k){this.$PagesManagerMessagingComposerStore2=k;};j.prototype.$PagesManagerMessagingComposerStore21=function(k){this.$PagesManagerMessagingComposerStore3=k;};j.prototype.$PagesManagerMessagingComposerStore19=function(k){this.$PagesManagerMessagingComposerStore4=k;};j.prototype.$PagesManagerMessagingComposerStore20=function(k){this.$PagesManagerMessagingComposerStore5=k;};j.prototype.$PagesManagerMessagingComposerStore22=function(k,l){this.$PagesManagerMessagingComposerStore6={replies:k,tokens:l};};j.prototype.$PagesManagerMessagingComposerStore23=function(k){this.$PagesManagerMessagingComposerStore7=k;};j.prototype.$PagesManagerMessagingComposerStore25=function(){var k=this.$PagesManagerMessagingComposerStore2;if(k)k.subscribe('cached-file-added',this.$PagesManagerMessagingComposerStore9.bind(this));};f.exports=new j(c('PagesManagerMessagingComposerDispatcher'));},null);
__d('PagesManagerMessagingComposerAttachmentListItem.react',['cx','ix','Image.react','React','XUICloseButton.react','XUISpinner.react'],function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(n){k.constructor.call(this,n);this.$PagesManagerMessagingComposerAttachmentListItem1=function(){return this.props.onDetach(this.props.uploadID);}.bind(this);}m.prototype.$PagesManagerMessagingComposerAttachmentListItem2=function(){if(this.props.type.startsWith('image')){return i('/images/pages/pages_manager/messages/photo-attachment.png');}else if(this.props.type.startsWith('video')){return i('/images/pages/pages_manager/messages/video-attachment.png');}else if(this.props.type.startsWith('audio')){return i('/images/pages/pages_manager/messages/audio-attachment.png');}else if(this.props.type.startsWith('text'))return i('/images/pages/pages_manager/messages/text-attachment.png');return i('/images/pages/pages_manager/messages/general-attachment.png');};m.prototype.$PagesManagerMessagingComposerAttachmentListItem3=function(){return (c('React').createElement(c('XUICloseButton.react'),{className:"_2uia",onClick:this.$PagesManagerMessagingComposerAttachmentListItem1}));};m.prototype.$PagesManagerMessagingComposerAttachmentListItem4=function(){return (c('React').createElement('span',{className:"_2uib"},this.props.isUploading?c('React').createElement(c('XUISpinner.react'),{size:'large'}):c('React').createElement(c('Image.react'),{src:this.$PagesManagerMessagingComposerAttachmentListItem2(),alt:this.props.type})));};m.prototype.$PagesManagerMessagingComposerAttachmentListItem5=function(){return (c('React').createElement('span',{className:"_2uic"},this.props.name));};m.prototype.render=function(){return (c('React').createElement('li',{className:"clearfix _2uid"},c('React').createElement('span',{className:"_kqe _kqf"},this.$PagesManagerMessagingComposerAttachmentListItem4()),c('React').createElement('span',{className:"_kqe _kqh"},this.$PagesManagerMessagingComposerAttachmentListItem5()),c('React').createElement('span',{className:"_kqe _kqi"},this.$PagesManagerMessagingComposerAttachmentListItem3())));};m.propTypes={attachmentID:l.string,isUploading:l.bool,key:l.string,name:l.string,onDetach:l.func,type:l.string,uploadID:l.string};f.exports=m;},null);
__d('PagesManagerMessagingComposerAttachmentList.react',['cx','PagesManagerMessagingComposerAttachmentListItem.react','React'],function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(m){j.constructor.call(this,m);}l.prototype.$PagesManagerMessagingComposerAttachmentList1=function(m){return (c('React').createElement(c('PagesManagerMessagingComposerAttachmentListItem.react'),{isUploading:m.isUploading,key:m.uploadID,name:m.name,onDetach:this.props.onDetach,type:m.type,uploadID:m.uploadID}));};l.prototype.render=function(){if(this.props.attachments.length>0)return (c('React').createElement('ul',{className:"_27ru"},this.props.attachments.map(this.$PagesManagerMessagingComposerAttachmentList1,this)));return null;};l.propTypes={attachments:k.array.isRequired,onDetach:k.func.isRequired};l.defaultProps={attachments:[]};f.exports=l;},null);
__d("XPagesSavedResponsesImageDuplicationController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/saved_responses\/image\/duplication\/",{});},null);
__d('PagesManagerMessagingSavedRepliesList.react',['cx','fbt','Link.react','React','PagesManagerMessagingSavedRepliesListItem.react','ScrollableArea.react','XUISpinner.react','SavedResponsesUtils'],function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;m.prototype.$PagesManagerMessagingSavedRepliesList1=function(n){var o=this.props.filter.toLowerCase();return (n.message.toLowerCase().indexOf(o)!==-1||(n.title||'').toLowerCase().indexOf(o)!==-1);};m.prototype.render=function(){return (c('React').createElement('div',{className:"_1_25"+(this.props.isLoading?' '+"_1_26":'')+(!this.props.isLoading&&this.props.replies.length===0?' '+"_1_27":'')},this.props.isLoading?this.$PagesManagerMessagingSavedRepliesList2():null,this.$PagesManagerMessagingSavedRepliesList3()));};m.prototype.$PagesManagerMessagingSavedRepliesList4=function(){return (c('React').createElement(c('Link.react'),{onClick:function(){return this.props.onCreateNewReply();}.bind(this),className:"_1_2a"},i._("Crear respuesta nueva")));};m.prototype.$PagesManagerMessagingSavedRepliesList5=function(){return (c('React').createElement('div',{className:"_2ph_ _1_28"},c('React').createElement('p',null,this.$PagesManagerMessagingSavedRepliesList6()),c('React').createElement('p',null,this.$PagesManagerMessagingSavedRepliesList4())));};m.prototype.$PagesManagerMessagingSavedRepliesList2=function(){return (c('React').createElement('div',null,c('React').createElement('div',{className:"_2ph_ _1_29"},c('React').createElement(c('XUISpinner.react'),{size:'large'}))));};m.prototype.$PagesManagerMessagingSavedRepliesList6=function(){return i._("Fin de las respuestas guardadas");};m.prototype.$PagesManagerMessagingSavedRepliesList3=function(){var n=c('SavedResponsesUtils').sortSavedResponses(this.props.replies,this.props.sortingKey);return (c('React').createElement(c('ScrollableArea.react'),{fade:true,shadow:false,height:300},c('React').createElement('ul',{className:"_1_2b"},n.map(this.$PagesManagerMessagingSavedRepliesList7,this),c('React').createElement('li',{className:"_2ph_ _1_2c"},this.$PagesManagerMessagingSavedRepliesList5()))));};m.prototype.$PagesManagerMessagingSavedRepliesList7=function(n,o){return (c('React').createElement(c('PagesManagerMessagingSavedRepliesListItem.react'),{className:!this.$PagesManagerMessagingSavedRepliesList1(n)?"hidden_elem":'',key:o,onClick:this.props.onReplySelected,onMouseEnter:this.props.onReplyMouseEnter,onMouseLeave:this.props.onReplyMouseLeave,pageID:this.props.pageID,reply:n,tokens:this.props.tokens}));};function m(){j.apply(this,arguments);}m.defaultProps={filter:''};m.propTypes={filter:l.string,isLoading:l.bool.isRequired,onCreateNewReply:l.func.isRequired,onReplyMouseEnter:l.func.isRequired,onReplyMouseLeave:l.func.isRequired,onReplySelected:l.func.isRequired,pageID:l.string.isRequired,replies:l.array.isRequired,tokens:l.object.isRequired};f.exports=m;},null);
__d('PagesManagerMessagingSavedRepliesFlyout.react',['cx','fbt','ix','Layout.react','Image.react','LeftFillRightFitLayout.react','LeftRight.react','Link.react','PagesManagerMessagingSavedRepliesList.react','React','SavedResponsesConstants','SavedResponsesOrderingMenu.react','XUICloseButton.react','XUITextInput.react'],function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l;if(c.__markCompiled)c.__markCompiled();var m=c('Layout.react').Column,n=c('Layout.react').FillColumn,o=c('React').PropTypes;k=babelHelpers.inherits(p,c('React').Component);l=k&&k.prototype;function p(q){l.constructor.call(this,q);this.state={searchQuery:'',activeSortingOptionKey:c('SavedResponsesConstants').sortingKey.MOST_USED};this.$PagesManagerMessagingSavedRepliesFlyout1=this.$PagesManagerMessagingSavedRepliesFlyout1.bind(this);}p.prototype.$PagesManagerMessagingSavedRepliesFlyout1=function(q){this.setState({activeSortingOptionKey:q});};p.prototype.$PagesManagerMessagingSavedRepliesFlyout2=function(q){var r=q.target.value;this.setState({searchQuery:r});};p.prototype.$PagesManagerMessagingSavedRepliesFlyout3=function(){this.setState({searchQuery:''});};p.prototype.render=function(){return (c('React').createElement('div',{className:"_201v"},this.$PagesManagerMessagingSavedRepliesFlyout4(),c('React').createElement(c('LeftFillRightFitLayout.react'),null,this.$PagesManagerMessagingSavedRepliesFlyout5(),c('React').createElement(c('SavedResponsesOrderingMenu.react'),{className:"_2tws",activeSortingOptionKey:this.state.activeSortingOptionKey,onSortingKeyChanged:this.$PagesManagerMessagingSavedRepliesFlyout1})),this.$PagesManagerMessagingSavedRepliesFlyout6()));};p.prototype.$PagesManagerMessagingSavedRepliesFlyout4=function(){return (c('React').createElement('div',{className:"_2ph_ _201w"},c('React').createElement(c('LeftRight.react'),null,c('React').createElement('h3',{className:"_201x"},i._("Saved Save Replies")),c('React').createElement(c('Link.react'),{className:'PagesManagerMessagingSavedRepliesFlyout/manageLink',onClick:this.props.onManageReplies},i._("Administrar respuestas")))));};p.prototype.$PagesManagerMessagingSavedRepliesFlyout6=function(){return (c('React').createElement(c('PagesManagerMessagingSavedRepliesList.react'),{filter:this.state.searchQuery,isLoading:this.props.isLoading,onCreateNewReply:this.props.onCreateNewReply,onReplyMouseEnter:this.props.onReplyMouseEnter,onReplyMouseLeave:this.props.onReplyMouseLeave,onReplySelected:this.props.onReplySelected,pageID:this.props.pageID,replies:this.props.replies,sortingKey:this.state.activeSortingOptionKey,tokens:this.props.tokens}));};p.prototype.$PagesManagerMessagingSavedRepliesFlyout5=function(){return (c('React').createElement(c('Layout.react'),{className:"_2ph_ _201y"},c('React').createElement(m,null,c('React').createElement(c('Image.react'),{className:"_201z",src:j('/images/browse/search/search-gray.png')})),c('React').createElement(n,null,c('React').createElement(c('XUITextInput.react'),{className:"_201-",onChange:this.$PagesManagerMessagingSavedRepliesFlyout2.bind(this),ref:'inputField',placeholder:i._("Search Saved Replies"),value:this.state.searchQuery})),c('React').createElement(m,null,c('React').createElement(c('XUICloseButton.react'),{size:'small',onClick:this.$PagesManagerMessagingSavedRepliesFlyout3.bind(this),className:(this.state.searchQuery.length===0?"hidden_elem":'')+(' '+"_2twt")}))));};p.propTypes={isLoading:o.bool.isRequired,onCreateNewReply:o.func.isRequired,onManageReplies:o.func.isRequired,onReplyMouseEnter:o.func.isRequired,onReplyMouseLeave:o.func.isRequired,onReplySelected:o.func.isRequired,pageID:o.string.isRequired,replies:o.array.isRequired,tokens:o.object.isRequired};f.exports=p;},null);
__d('PagesManagerMessagingComposerView.react',['cx','fbt','ix','PagesManagerMessagingComposerAttachmentList.react','Image.react','MercuryDragDropPrompt.react','MessengerHotLikeButton.react','PagesEventObserver','PagesEventType','PagesManagerMessagingSavedRepliesButton.react','PagesMessageSuggestedResponseHandler','PagesMessengerFileUploader.react','PagesMessengerOmnipicker.react','PagesMessengerSuggestedResponseView.react','PagesMessengerTextInput.react','React','ReactDOM','SavedResponsesUtils','UFIStickerButton.react','XUIButton.react'],function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l;if(c.__markCompiled)c.__markCompiled();var m=c('React').PropTypes,n=function(){};k=babelHelpers.inherits(o,c('React').Component);l=k&&k.prototype;function o(p){l.constructor.call(this,p);this.$PagesManagerMessagingComposerView1=false;this.state={isAttachmentsButtonVisible:true,isSavedRepliesButtonVisible:true,isStickerButtonVisible:true,placeholder:''};}o.prototype.componentDidUpdate=function(p,q){if(this.props.onInitialRender&&this.props.participant&&this.refs.textInput&&!this.$PagesManagerMessagingComposerView1){this.props.onInitialRender();this.$PagesManagerMessagingComposerView1=true;}if(p&&p.message!==this.props.message)this.refs.textInput.updateHeight();};o.prototype.componentWillMount=function(){this.$PagesManagerMessagingComposerView2(this.props);};o.prototype.componentWillReceiveProps=function(p){this.$PagesManagerMessagingComposerView2(p,this.state);};o.prototype.$PagesManagerMessagingComposerView2=function(p){var q=p.attachments.length,r=p.message.length;this.setState({isSavedRepliesButtonVisible:r<1&&q<1,isStickerButtonVisible:r<1&&q<1});};o.prototype.$PagesManagerMessagingComposerView3=function(){return (this.props.canAttachFiles&&this.state.isAttachmentsButtonVisible);};o.prototype.$PagesManagerMessagingComposerView4=function(){return (this.props.canUseSavedReplies&&this.state.isSavedRepliesButtonVisible);};o.prototype.$PagesManagerMessagingComposerView5=function(){return (this.props.canUseStickers&&this.state.isStickerButtonVisible);};o.prototype.$PagesManagerMessagingComposerView6=function(p){this.props.onEmoticonSelected(p,c('ReactDOM').findDOMNode(this.refs.textInput.refs.input));};o.prototype.$PagesManagerMessagingComposerView7=function(p){p.preventDefault();this.props.onSend();};o.prototype.$PagesManagerMessagingComposerView8=function(){if(this.$PagesManagerMessagingComposerView3()){if(this.props.canUseOmnipicker)return (c('React').createElement('div',{className:"_4dvy"},c('React').createElement(c('PagesMessengerOmnipicker.react'),{onPhotosSelected:this.props.onOmnipickerPhotosSelected,uploadURI:this.props.uploaderActionURI,pageID:this.props.userID})));return (c('React').createElement('div',{className:"_4dvy"},c('React').createElement(c('PagesMessengerFileUploader.react'),{actionURI:this.props.uploaderActionURI,iconSize:'large',onFileUploaderMounted:this.props.onFileUploaderMounted,onSubmit:this.props.onFileUploaderSubmit,onUpdateAttachmentsShelf:this.props.onFileUploadUpdateUI,onUploadFinished:this.props.onFileUploadFinished,ref:'fileUploader'})));}};o.prototype.$PagesManagerMessagingComposerView9=function(){if(this.props.canAttachFiles)return (c('React').createElement(c('PagesManagerMessagingComposerAttachmentList.react'),{attachments:this.props.attachments,attachmentsUploading:this.props.attachmentsUploading,onDetach:this.props.onAttachmentDetach,ref:'attachmentList'}));};o.prototype.$PagesManagerMessagingComposerView10=function(){if(this.props.canUseHotlike&&this.props.threadID)return (c('React').createElement('span',{className:"_1z9h"},c('React').createElement(c('MessengerHotLikeButton.react'),{disabled:!this.props.threadID,sendSticker:this.props.onStickerSelected,threadID:this.props.threadID})));};o.prototype.$PagesManagerMessagingComposerView11=function(){var p=this.state.placeholder||i._("Escribe una respuesta...");return (c('React').createElement('div',{className:"_4dv-"},c('React').createElement(c('PagesMessengerTextInput.react'),{className:"_1p7p _5id1 _4dv_",onNoShiftEnter:this.props.isQuickReplyMode?function(q){return this.$PagesManagerMessagingComposerView7(q);}.bind(this):null,onFocus:this.props.onFocus,placeholder:p,onChange:this.props.onInputChange,value:this.props.message,ref:'textInput'})));};o.prototype.$PagesManagerMessagingComposerView12=function(){return (c('React').createElement('div',{className:"_6fk",ref:'linkPreview'}));};o.prototype.$PagesManagerMessagingComposerView13=function(){return (c('React').createElement('div',{className:"_4dw0"},c('React').createElement(c('Image.react'),{className:"_1cjc",src:this.props.participant.image_src})));};o.prototype.$PagesManagerMessagingComposerView14=function(){if(this.$PagesManagerMessagingComposerView4()&&this.props.recipientID)return (c('React').createElement('span',{className:"_4dw1"},c('React').createElement(c('PagesManagerMessagingSavedRepliesButton.react'),{recipientID:this.props.recipientID,isSavedRepliesLoading:this.props.isSavedRepliesLoading,onFetchReplies:this.props.onFetchReplies,onReplyMouseEnter:this.$PagesManagerMessagingComposerView15.bind(this),onReplyMouseLeave:this.$PagesManagerMessagingComposerView16.bind(this),onReplySelected:this.$PagesManagerMessagingComposerView17.bind(this),pageID:this.props.userID,replies:this.props.savedReplies.replies,showTooltip:true,tokens:this.props.savedReplies.tokens})));};o.prototype.$PagesManagerMessagingComposerView18=function(){var p=i._("Enviar");return (c('React').createElement('div',{className:"_4dw3"},c('React').createElement(c('XUIButton.react'),{disabled:this.props.isSendBlocked,label:p,onClick:function(q){return this.$PagesManagerMessagingComposerView7(q);}.bind(this),use:'confirm'})));};o.prototype.$PagesManagerMessagingComposerView19=function(){var p=i._("Publicar un sticker");if(this.$PagesManagerMessagingComposerView5())return (c('React').createElement('span',{className:"_4dw4"},c('React').createElement(c('UFIStickerButton.react'),{onStickerSelected:this.props.onStickerSelected,onEmoticonSelected:function(q){return this.$PagesManagerMessagingComposerView6(q);}.bind(this)},c('React').createElement(c('Image.react'),{alt:p,className:"_3fhi",src:j('/images/pages/pages_manager/messages/composer-stickers.png')}))));};o.prototype.$PagesManagerMessagingComposerView20=function(){return (c('React').createElement(c('PagesMessengerSuggestedResponseView.react'),{suggestedResponseHandler:this.props.suggestedResponseHandler,onAccepted:this.props.onSuggestedResponseAccept,onDeclined:this.props.onSuggestedResponseDecline}));};o.prototype.render=function(){if(!this.props.recipientID||!this.props.threadID||!this.props.participant)return c('React').createElement('div',{className:"_26ue"});return (c('React').createElement('div',{className:"__1d"},c('React').createElement(c('MercuryDragDropPrompt.react'),null),c('React').createElement('div',{className:"_4dw9"},this.$PagesManagerMessagingComposerView13(),this.$PagesManagerMessagingComposerView11(),c('React').createElement('div',{className:"_3-8o _4dwa"},this.$PagesManagerMessagingComposerView8(),this.$PagesManagerMessagingComposerView19(),this.$PagesManagerMessagingComposerView14(),this.$PagesManagerMessagingComposerView10(),this.$PagesManagerMessagingComposerView18())),c('React').createElement('div',{className:"_6fl"},this.$PagesManagerMessagingComposerView20(),this.$PagesManagerMessagingComposerView12()),this.$PagesManagerMessagingComposerView9()));};o.prototype.$PagesManagerMessagingComposerView15=function(p){this.setState({placeholder:p});};o.prototype.$PagesManagerMessagingComposerView16=function(){this.setState({placeholder:''});};o.prototype.$PagesManagerMessagingComposerView17=function(p,q,r){this.setState({placeholder:''});this.props.onReplySelected(q,r);c('PagesEventObserver').notify(c('PagesEventType').SAVED_REPLIES_APPLY_REPLY,this.props.userID);c('SavedResponsesUtils').notifySavedResponseApplied(p,this.props.userID);};o.propTypes={attachments:m.array,canAttachFiles:m.bool,canUseSavedReplies:m.bool,canUseStickers:m.bool,isQuickReplyMode:m.bool,isSavedRepliesLoading:m.bool,isSendBlocked:m.bool,message:m.string.isRequired,onAttachmentDetach:m.func,onEmoticonSelected:m.func,onFetchReplies:m.func.isRequired,onFileUploaderSubmit:m.func,onFileUploaderMounted:m.func,onFileUploadFinished:m.func,onFocus:m.func,onInitialRender:m.func,onInputChange:m.func,onSend:m.func,onStickerSelected:m.func,onSuggestedResponseAccept:m.func,onSuggestedResponseDecline:m.func,participant:m.object,recipientID:m.string,savedReplies:m.object,suggestedResponseHandler:m.instanceOf(c('PagesMessageSuggestedResponseHandler')),uploaderActionURI:m.string,userID:m.string};o.defaultProps={attachments:[],canAttachFiles:true,canUseOmnipicker:false,canUseSavedReplies:true,canUseStickers:true,isSendBlocked:false,onAttachmentDetach:n,onEmoticonSelected:n,onFileUploaderMounted:n,onFileUploaderSubmit:n,onFileUploadFinished:n,onInputChange:n,onSend:n,onStickerSelected:n,onSuggestedResponseAccept:n};f.exports=o;},null);
__d('PagesManagerMessagingMessagelistDispatcher',['ReactDispatcher_DEPRECATED'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();f.exports=new (c('ReactDispatcher_DEPRECATED'))();},null);
__d('PagesManagerMessagingNUXActionTypes',['keyMirrorRecursive'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('keyMirrorRecursive')({RESET_STEP:'',SET_IS_VISIBLE:'',SET_ROOT_ELEMENT:'',SET_STEP:'',SET_SHOULD_SHOW_BANNER:'',SET_SHOULD_SHOW_CONTEXT_CARD_STEP:'',SET_DEPENDENCY_READY:{COMPOSER:'',CONTEXT_CARD:'',THREADLIST:''}});f.exports=h;},null);
__d('PagesManagerMessagingNUXDispatcher',['ReactDispatcher_DEPRECATED'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();f.exports=new (c('ReactDispatcher_DEPRECATED'))();},null);
__d('PagesManagerMessagingNUXActions',['PagesManagerMessagingNUXActionTypes','PagesManagerMessagingNUXDispatcher','PagesManagerMessagingMessagelistDispatcher','PagesManagerMessagingActionType'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={resetStep:function(){c('PagesManagerMessagingNUXDispatcher').dispatch({actionType:c('PagesManagerMessagingNUXActionTypes').RESET_STEP});},setComposerReady:function(){c('PagesManagerMessagingNUXDispatcher').dispatch({actionType:c('PagesManagerMessagingNUXActionTypes').SET_DEPENDENCY_READY.COMPOSER});},setContextCardReady:function(){c('PagesManagerMessagingNUXDispatcher').dispatch({actionType:c('PagesManagerMessagingNUXActionTypes').SET_DEPENDENCY_READY.CONTEXT_CARD});},setThreadlistReady:function(){c('PagesManagerMessagingNUXDispatcher').dispatch({actionType:c('PagesManagerMessagingNUXActionTypes').SET_DEPENDENCY_READY.THREADLIST});},setIsVisible:function(i){c('PagesManagerMessagingNUXDispatcher').dispatch({actionType:c('PagesManagerMessagingNUXActionTypes').SET_IS_VISIBLE,isVisible:i});},setRootElement:function(i){c('PagesManagerMessagingNUXDispatcher').dispatch({actionType:c('PagesManagerMessagingNUXActionTypes').SET_ROOT_ELEMENT,rootElement:i});},setStep:function(i){c('PagesManagerMessagingNUXDispatcher').dispatch({actionType:c('PagesManagerMessagingNUXActionTypes').SET_STEP,step:i});},setShouldShowBanner:function(i){c('PagesManagerMessagingNUXDispatcher').dispatch({actionType:c('PagesManagerMessagingNUXActionTypes').SET_SHOULD_SHOW_BANNER,shouldShow:i});},setShouldShowContextCardStep:function(i){c('PagesManagerMessagingNUXDispatcher').dispatch({actionType:c('PagesManagerMessagingNUXActionTypes').SET_SHOULD_SHOW_CONTEXT_CARD_STEP,shouldShow:i});},showContextCard:function(){c('PagesManagerMessagingMessagelistDispatcher').dispatch({type:c('PagesManagerMessagingActionType').SET_IS_CONTEXT_CARD_HIDDEN,isHidden:false});}};f.exports=h;},null);
__d('PagesManagerMessagingComposerContainer.react',['DragDropTarget','EmoticonsList','EmoticonUtils','FluxContainer','MercuryIDs','MercuryMessageActions','MercuryMessageObject','MercuryParticipants','MercurySourceType','PagesEventObserver','PagesEventType','PagesManagerMessagingComposerActions','PagesManagerMessagingComposerStore','PagesManagerMessagingComposerView.react','PagesManagerMessagingNUXActions','PagesMessagingConfig','PagesMessengerShareLinkUploader','React','ReactDOM','SavedResponsesUtils','SelectionPosition','SubscriptionsHandler','emptyFunction'],function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;k.getStores=function(){return [c('PagesManagerMessagingComposerStore')];};k.calculateState=function(l,m){var n=l?l.isShareLinkUploading:false;return {attachments:c('PagesManagerMessagingComposerStore').getAllAttachmentsMeta(),isAttachmentUploading:c('PagesManagerMessagingComposerStore').getIsAttachmentUploading(),isSavedRepliesLoading:c('PagesManagerMessagingComposerStore').getIsSavedRepliesLoading(),isQuickReplyMode:c('PagesManagerMessagingComposerStore').getQuickReplyMode(),isShareLinkUploading:n,message:c('PagesManagerMessagingComposerStore').getMessage(),participant:c('PagesManagerMessagingComposerStore').getParticipant(),savedReplies:c('PagesManagerMessagingComposerStore').getSavedReplies(),uploaderActionURI:c('PagesManagerMessagingComposerStore').getUploadActionFromUserID(m.userID)};};k.prototype.$PagesManagerMessagingComposerContainer7=function(l){this.$PagesManagerMessagingComposerContainer5.addSubscriptions(l.subscribe('one-upload-completed',this.$PagesManagerMessagingComposerContainer8.bind(this)));};k.prototype.componentDidUpdate=function(l){if(this.props.recipientID&&this.props.threadID&&(!l.recipientID||!l.threadID)){c('PagesManagerMessagingNUXActions').setComposerReady();if(this.props.onInitialRender)this.props.onInitialRender();}};k.prototype.componentDidMount=function(){this.$PagesManagerMessagingComposerContainer9(this.props.userID);};k.prototype.componentWillMount=function(){this.$PagesManagerMessagingComposerContainer10(this.props);this.$PagesManagerMessagingComposerContainer5=new (c('SubscriptionsHandler'))();};k.prototype.componentWillReceiveProps=function(l){this.$PagesManagerMessagingComposerContainer10(l);if(l.threadID!==this.props.threadID){c('PagesManagerMessagingComposerActions').clearMessage();c('PagesManagerMessagingComposerActions').detachAllAttachments();}if(l.userID!==this.props.userID)this.$PagesManagerMessagingComposerContainer9(l.userID);};k.prototype.componentWillUpdate=function(l,m){if(this.props.onMessageOrAttachmentUpdate&&(m.attachments.length!==this.state.attachments.length||m.message!==this.state.message))this.props.onMessageOrAttachmentUpdate();};k.prototype.componentWillUnmount=function(){this.$PagesManagerMessagingComposerContainer5&&this.$PagesManagerMessagingComposerContainer5.release();};k.prototype.$PagesManagerMessagingComposerContainer11=function(){var l=new (c('PagesMessengerShareLinkUploader'))(c('ReactDOM').findDOMNode(this.refs.composer.refs.linkPreview),this.refs.composer.refs.textInput.refs.input,c('emptyFunction'),c('emptyFunction'));this.$PagesManagerMessagingComposerContainer5.addSubscriptions(l.subscribe('link-detected',function(){this.setState({isShareLinkUploading:true});this.props.onMessageOrAttachmentUpdate();}.bind(this)),l.subscribe('share-loaded',function(){this.setState({isShareLinkUploading:false});}.bind(this)),l.subscribe('closed',function(){this.props.onMessageOrAttachmentUpdate();}.bind(this)));if(c('PagesMessagingConfig').dragdropEnabled){this.$PagesManagerMessagingComposerContainer1=this.$PagesManagerMessagingComposerContainer1||new (c('DragDropTarget'))(c('ReactDOM').findDOMNode(this)).enable();this.$PagesManagerMessagingComposerContainer1.setOnURLDropCallback(function(m){return (l.loadShare(m));});}c('PagesManagerMessagingComposerActions').setShareLinkUploader(l);};k.prototype.$PagesManagerMessagingComposerContainer12=function(){if(this.state.isSavedRepliesLoading||!this.props.userID||!this.props.recipientID)return;c('PagesManagerMessagingComposerActions').setIsSavedRepliesLoading(true);c('SavedResponsesUtils').fetchSavedResponses(this.props.userID,this.props.recipientID,function(l,m){c('PagesManagerMessagingComposerActions').setIsSavedRepliesLoading(false);c('PagesManagerMessagingComposerActions').setSavedReplies(l,m);});};k.prototype.$PagesManagerMessagingComposerContainer10=function(l){this.$PagesManagerMessagingComposerContainer2=c('MercuryMessageObject').getForFBID(l.userID);this.$PagesManagerMessagingComposerContainer3=c('MercuryMessageActions').getForFBID(l.userID);};k.prototype.$PagesManagerMessagingComposerContainer9=function(l){var m=c('MercuryIDs').getParticipantIDFromUserID(l);c('MercuryParticipants').get(m,function(n){c('PagesManagerMessagingComposerActions').setParticipant(n);});};k.prototype.isSendBlocked=function(){if(this.state.isAttachmentUploading||this.state.isShareLinkUploading||this.state.message===''&&this.state.attachments.length<1)return true;return false;};k.prototype.$PagesManagerMessagingComposerContainer13=function(l){c('PagesManagerMessagingComposerActions').detachAttachment(l);};k.prototype.$PagesManagerMessagingComposerContainer14=function(l,m){var n=c('EmoticonsList').symbols[l];if(!n)return;this.$PagesManagerMessagingComposerContainer4=this.$PagesManagerMessagingComposerContainer4||new (c('SelectionPosition'))(m);var o=c('EmoticonUtils').insertEmoticon(n,this.state.message,this.$PagesManagerMessagingComposerContainer4.getPos());this.$PagesManagerMessagingComposerContainer4.setPos(o.start,o.end);c('PagesManagerMessagingComposerActions').setMessage(o.result);};k.prototype.$PagesManagerMessagingComposerContainer15=function(l){this.$PagesManagerMessagingComposerContainer7(l);if(c('PagesMessagingConfig').dragdropEnabled){this.$PagesManagerMessagingComposerContainer1=this.$PagesManagerMessagingComposerContainer1||new (c('DragDropTarget'))(c('ReactDOM').findDOMNode(this)).enable();this.$PagesManagerMessagingComposerContainer1.setOnFilesDropCallback(this.$PagesManagerMessagingComposerContainer16.bind(this));}c('PagesManagerMessagingComposerActions').fileUploaderReady(l);};k.prototype.$PagesManagerMessagingComposerContainer8=function(l,m){c('PagesManagerMessagingComposerActions').completeAttachment(m);};k.prototype.$PagesManagerMessagingComposerContainer17=function(l,m){c('PagesManagerMessagingComposerActions').startAttachment(m.files);c('ReactDOM').findDOMNode(this.refs.composer.refs.textInput.refs.input).focus();};k.prototype.$PagesManagerMessagingComposerContainer18=function(l){if(l==='all-uploads-completed'){c('PagesManagerMessagingComposerActions').completeAllAttachments();}else l==='upload-canceled';};k.prototype.$PagesManagerMessagingComposerContainer19=function(l){c('PagesManagerMessagingComposerActions').setMessage(l.target.value);};k.prototype.$PagesManagerMessagingComposerContainer20=function(l,m){var n=c('PagesManagerMessagingComposerStore').getFileUploader();c('PagesManagerMessagingComposerActions').detachAllAttachments();c('PagesManagerMessagingComposerActions').setMessage(l);if(m&&n)n.addCachedAttachments([m]);if(this.refs.composer&&this.refs.composer.refs.textInput)c('ReactDOM').findDOMNode(this.refs.composer.refs.textInput.refs.input).focus();};k.prototype.$PagesManagerMessagingComposerContainer21=function(l){var m=c('PagesManagerMessagingComposerStore').getFileUploader();if(m)m.addCachedAttachments(l.map(function(n){return {filename:'Photo.jpg',image_id:n.fbid,filetype:'image/jpeg'};}));};k.prototype.$PagesManagerMessagingComposerContainer22=function(){var l=this.state.message,m=c('PagesManagerMessagingComposerStore').getAttachedAttachmentIds(),n=c('PagesManagerMessagingComposerStore').getAttachedImageIds(),o=c('PagesManagerMessagingComposerStore').getAttachedAnimatedImageIds(),p=c('PagesManagerMessagingComposerStore').getAttachedVideoIds(),q=c('PagesManagerMessagingComposerStore').getAttachedAudioFilesIds(),r=c('PagesManagerMessagingComposerStore').getAttachedFilesIds(),s=c('PagesManagerMessagingComposerStore').getShareLink(),t=this.$PagesManagerMessagingComposerContainer2.constructUserGeneratedMessageObject(l,c('MercurySourceType').TITAN_WEB,this.props.threadID,null,this.props.creatorInfo);if(this.isSendBlocked()||!l&&!m.length&&!q.length&&!n.length&&!r.length&&!o.length&&!p.length&&!s)return;if(s){t.has_attachment=true;t.content_attachment=s;}if(m.length>0){t.has_attachment=true;t.raw_attachments=m;}if(n.length>0){t.image_ids=n;t.has_attachment=true;}if(o.length>0){t.gif_ids=o;t.has_attachment=true;}if(p.length>0){t.video_ids=p;t.has_attachment=true;}if(q.length>0){t.audio_ids=q;t.has_attachment=true;}if(r.length>0){t.file_ids=r;t.has_attachment;}c('PagesEventObserver').logData_DEPRECATED({page_id:this.props.user,event_name:c('PagesEventType').MESSAGES_DIALOG_SEND,thread_id:this.props.threadElementID},null);this.$PagesManagerMessagingComposerContainer3.send(t);c('PagesManagerMessagingComposerActions').detachAllAttachments();c('PagesManagerMessagingComposerActions').clearMessage();c('PagesManagerMessagingComposerActions').clearShareLinkUploader();};k.prototype.$PagesManagerMessagingComposerContainer23=function(l){var m=this.$PagesManagerMessagingComposerContainer2.constructUserGeneratedMessageObject('',c('MercurySourceType').TITAN_WEB,this.props.threadID,null,this.props.creatorInfo);m.has_attachment=true;m.sticker_id=l;this.$PagesManagerMessagingComposerContainer3.send(m);c('PagesManagerMessagingComposerActions').clearMessage();};k.prototype.$PagesManagerMessagingComposerContainer16=function(l){if(this.refs.composer&&this.refs.composer.refs.fileUploader)this.refs.composer.refs.fileUploader.addFiles(l);};k.prototype.render=function(){return (c('React').createElement(c('PagesManagerMessagingComposerView.react'),babelHelpers['extends']({},this.props,this.state,{isSendBlocked:this.isSendBlocked(),onAttachmentDetach:this.$PagesManagerMessagingComposerContainer13.bind(this),onEmoticonSelected:this.$PagesManagerMessagingComposerContainer14.bind(this),onFetchReplies:this.$PagesManagerMessagingComposerContainer12.bind(this),onFileUploaderMounted:this.$PagesManagerMessagingComposerContainer15.bind(this),onFileUploaderSubmit:this.$PagesManagerMessagingComposerContainer17.bind(this),onFileUploadFinished:this.$PagesManagerMessagingComposerContainer18.bind(this),onInitialRender:function(){return this.$PagesManagerMessagingComposerContainer11();}.bind(this),onInputChange:function(l){return this.$PagesManagerMessagingComposerContainer19(l);}.bind(this),onOmnipickerPhotosSelected:this.$PagesManagerMessagingComposerContainer21.bind(this),onReplySelected:this.$PagesManagerMessagingComposerContainer20.bind(this),onSend:function(){return this.$PagesManagerMessagingComposerContainer22();}.bind(this),onStickerSelected:this.$PagesManagerMessagingComposerContainer23.bind(this),ref:'composer'})));};function k(){h.apply(this,arguments);}k.propTypes={canUseHotlike:j.bool,creatorInfo:j.object,onInitialRender:j.func,onMessageOrAttachmentUpdate:j.func,threadElementID:j.string,threadID:j.string,userID:j.string};f.exports=c('FluxContainer').create(k,{withProps:true});},null);
__d('PagesManagerNavigationUnit',['invariant'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(j){this.$PagesManagerNavigationUnit1=j;}i.prototype.getDisplayTitle=function(){h(0);};i.prototype.getKey=function(){return this.$PagesManagerNavigationUnit1;};i.prototype.getNotificationCount=function(j,k){return 0;};f.exports=i;},null);
__d('PagesManagerMessagingAllNavigationUnit',['fbt','PagesManagerMessagingNavigationUnitKey','PagesManagerNavigationUnit'],function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();i=babelHelpers.inherits(k,c('PagesManagerNavigationUnit'));j=i&&i.prototype;function k(){j.constructor.call(this,c('PagesManagerMessagingNavigationUnitKey').FILTERS.ALL);}k.prototype.getDisplayTitle=function(){return h._("Todos");};f.exports=k;},null);
__d('PagesManagerMessagingFolderNavigationUnit',['invariant','immutable','PagesManagerMessagingNavigationUnitKey','PagesManagerNavigationUnit'],function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('immutable').List;i=babelHelpers.inherits(l,c('PagesManagerNavigationUnit'));j=i&&i.prototype;l.prototype.getSupportedFilterKeys=function(){return k([c('PagesManagerMessagingNavigationUnitKey').FILTERS.ALL]);};l.prototype.assertSupportsFilter=function(m){!(this.getSupportedFilterKeys().indexOf(m.getKey())>=0)?h(0):undefined;};function l(){i.apply(this,arguments);}f.exports=l;},null);
__d('PagesManagerMessagingArchiveNavigationUnit',['fbt','PagesManagerMessagingFolderNavigationUnit','PagesManagerMessagingNavigationUnitKey'],function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();i=babelHelpers.inherits(k,c('PagesManagerMessagingFolderNavigationUnit'));j=i&&i.prototype;function k(){j.constructor.call(this,c('PagesManagerMessagingNavigationUnitKey').FOLDERS.ARCHIVED);}k.prototype.getDisplayTitle=function(){return h._("Archivados");};f.exports=k;},null);
__d('PagesManagerMessagingFlaggedNavigationUnit',['fbt','PagesManagerNavigationUnit','PagesManagerMessagingNavigationUnitKey'],function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();i=babelHelpers.inherits(k,c('PagesManagerNavigationUnit'));j=i&&i.prototype;function k(){j.constructor.call(this,c('PagesManagerMessagingNavigationUnitKey').FILTERS.FLAGGED);}k.prototype.getDisplayTitle=function(){return h._("Marcados");};f.exports=k;},null);
__d('PagesManagerMessagingUnreadCountHelper',['MercuryThreadlistConstants','MercuryUnreadState'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={getUnreadCount:function(i,j){var k=c('MercuryUnreadState').getForFBID(i),l=k.exceedsMaxCount(j);return l?c('MercuryThreadlistConstants').MAX_UNREAD_COUNT:k.getUnreadCount(j);}};f.exports=h;},null);
__d('PagesManagerMessagingInboxNavigationUnit',['fbt','immutable','PagesManagerMessagingFolderNavigationUnit','PagesManagerMessagingNavigationUnitKey','PagesManagerMessagingUnreadCountHelper'],function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('immutable').List;i=babelHelpers.inherits(l,c('PagesManagerMessagingFolderNavigationUnit'));j=i&&i.prototype;function l(){j.constructor.call(this,c('PagesManagerMessagingNavigationUnitKey').FOLDERS.INBOX);}l.prototype.getDisplayTitle=function(){return h._("Bandeja de entrada");};l.prototype.getSupportedFilterKeys=function(){return k([c('PagesManagerMessagingNavigationUnitKey').FILTERS.ALL,c('PagesManagerMessagingNavigationUnitKey').FILTERS.UNREAD,c('PagesManagerMessagingNavigationUnitKey').FILTERS.FLAGGED]);};l.prototype.getNotificationCount=function(m,n){return c('PagesManagerMessagingUnreadCountHelper').getUnreadCount(m,this.getKey());};f.exports=l;},null);
__d('PagesManagerMessagingLogger',['invariant','MessagingTag','PagesEventObserver','PagesEventType'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i='messages',j='inbox',k=':',l={logMessagesSectionViewEvent:function(m,n){var o=n||j,p=[];if(o.indexOf(':')){p=o.split(k);o=p[p.length-1];}c('PagesEventObserver').notify(c('PagesEventType').VIEW_MESSAGES,m,{section:i,subsection:o});},logPageViewFolderEvent:function(m,n,o){var event='';switch(n.getKey()){case c('MessagingTag').INBOX:event=c('PagesEventType').MESSAGES_VIEW_INBOX;break;case c('MessagingTag').ACTION_ARCHIVED:event=c('PagesEventType').MESSAGES_VIEW_ARCHIVED;break;case c('MessagingTag').SPAM:event=c('PagesEventType').MESSAGES_VIEW_SPAM;break;default:h(0);}c('PagesEventObserver').notify(event,m,{source:o});}};f.exports=l;},null);
__d('PagesMessagingSearchMode',['keyMirrorRecursive'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('keyMirrorRecursive')({ALL:'',NAME_SEARCH:'',KEYWORD_SEARCH:'',MESSAGE_SEARCH:'',NONE:''});f.exports=h;},null);
__d('PagesManagerMessagingThreadlistAction',['PagesManagerMessagingActionType','PagesManagerDispatcher','MercuryThreadlistConstants','PagesMessagingSearchMode'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={initThreadlist:function(i){this.fetchThreadlist(i,0,c('MercuryThreadlistConstants').WEBMESSENGER_THREAD_COUNT);},fetchThreadlist:function(i,j,k){c('PagesManagerDispatcher').dispatch({offset:j,limit:k,pageID:i,type:c('PagesManagerMessagingActionType').LIST.FETCH});},updateThreadlist:function(i){c('PagesManagerDispatcher').dispatch({pageID:i,type:c('PagesManagerMessagingActionType').LIST.UPDATED});},changeSearchTerm:function(i,j,k,l){c('PagesManagerDispatcher').dispatch({type:c('PagesManagerMessagingActionType').SEARCH.CHANGE_SEARCH_TERM,searchTerm:j,pageID:i,activeFolder:k,searchMode:l});},changeIsSearchingNameStatus:function(i){c('PagesManagerDispatcher').dispatch({type:c('PagesManagerMessagingActionType').MESSAGE_SEARCH.NAME_SEARCH_UPDATE,isSearching:i});},changeIsSearchingSnippetStatus:function(i){c('PagesManagerDispatcher').dispatch({type:c('PagesManagerMessagingActionType').MESSAGE_SEARCH.SNIPPET_SEARCH_UPDATE,isSearching:i});},loadMoreNameResult:function(i,j,k){c('PagesManagerDispatcher').dispatch({type:c('PagesManagerMessagingActionType').MESSAGE_SEARCH.LOAD_MORE_NAME_RESULT,searchTerm:j,pageID:i,activeFolder:k});},loadMoreSnippetResult:function(i,j,k){c('PagesManagerDispatcher').dispatch({type:c('PagesManagerMessagingActionType').MESSAGE_SEARCH.LOAD_MORE_SNIPPET_RESULT,searchTerm:j,pageID:i,activeFolder:k});},resetSearch:function(i){h.changeSearchTerm(i,'','',c('PagesMessagingSearchMode').NONE);},addSearchCustomTag:function(i,j){c('PagesManagerDispatcher').dispatch({type:c('PagesManagerMessagingActionType').SEARCH.ADD_SEARCH_CUSTOM_TAG,pageID:i,tagName:j});},removeSearchCustomTag:function(i,j){c('PagesManagerDispatcher').dispatch({type:c('PagesManagerMessagingActionType').SEARCH.REMOVE_SEARCH_CUSTOM_TAG,pageID:i,tagName:j});},searchNameResult:function(i,j,k){c('PagesManagerDispatcher').dispatch({type:c('PagesManagerMessagingActionType').MESSAGE_SEARCH.CHANGE_NAME_SEARCH_TERM,searchTerm:j,pageID:i,activeFolder:k});},searchMessageResult:function(i,j,k){c('PagesManagerDispatcher').dispatch({type:c('PagesManagerMessagingActionType').MESSAGE_SEARCH.CHANGE_MESSAGE_SEARCH_TERM,searchTerm:j,pageID:i,activeFolder:k});}};f.exports=h;},null);
__d('PagesManagerMessagingSearchStore',['PagesManagerMessagingActionType','PagesManagerDispatcher','FluxStore','immutable','MercurySearchSnippetResults','MercurySearchThreadResults','MercurySearchThreadResultOrderer','MercurySearchThreadsStrategy','PagesManagerCustomTagsStore','PagesMessengerThreadUtils','PagesMessagingSearchMode','PagesManagerMessagingThreadlistAction','emptyFunction','guid'],function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('FluxStore'));i=h&&h.prototype;function j(){i.constructor.call(this,c('PagesManagerDispatcher'));this.$PagesManagerMessagingSearchStore2='';this.$PagesManagerMessagingSearchStore3=false;this.$PagesManagerMessagingSearchStore4=false;this.$PagesManagerMessagingSearchStore5=false;this.$PagesManagerMessagingSearchStore6=false;this.$PagesManagerMessagingSearchStore7=false;this.$PagesManagerMessagingSearchStore8='';this.$PagesManagerMessagingSearchStore10=[];this.$PagesManagerMessagingSearchStore11={};this.$PagesManagerMessagingSearchStore1=[];this.$PagesManagerMessagingSearchStore9=c('PagesMessagingSearchMode').NONE;}j.prototype.getCurrentSearchTerm=function(){return this.$PagesManagerMessagingSearchStore2;};j.prototype.getIsInSearchMode=function(){return this.$PagesManagerMessagingSearchStore5;};j.prototype.getSearchMode=function(){return this.$PagesManagerMessagingSearchStore9;};j.prototype.getThreadNameSearchResults=function(){return this.$PagesManagerMessagingSearchStore10;};j.prototype.getThreadSnippetSearchResults=function(){return this.$PagesManagerMessagingSearchStore11;};j.prototype.getIsSearchingName=function(){return this.$PagesManagerMessagingSearchStore6;};j.prototype.getIsSearchingSnippet=function(){return this.$PagesManagerMessagingSearchStore7;};j.prototype.hasMoreNameSearchResult=function(){return this.$PagesManagerMessagingSearchStore3;};j.prototype.hasMoreSnippetSearchResult=function(){return this.$PagesManagerMessagingSearchStore4;};j.prototype.getCurrentSearchCustomTagNames=function(){return c('immutable').List(this.$PagesManagerMessagingSearchStore1);};j.prototype.getCustomTagsFilterName=function(){if(this.$PagesManagerMessagingSearchStore1.length==0)return null;return c('PagesMessengerThreadUtils').getCustomTagsFilter(this.$PagesManagerMessagingSearchStore1);};j.prototype.__onDispatch=function(k){switch(k.type){case c('PagesManagerMessagingActionType').SEARCH.CHANGE_SEARCH_TERM:this.$PagesManagerMessagingSearchStore2=k.searchTerm;if(this.$PagesManagerMessagingSearchStore2===''){this.$PagesManagerMessagingSearchStore10=[];this.$PagesManagerMessagingSearchStore5=false;this.$PagesManagerMessagingSearchStore9=c('PagesMessagingSearchMode').NONE;}else{this.$PagesManagerMessagingSearchStore5=true;this.$PagesManagerMessagingSearchStore9=k.searchMode;this.$PagesManagerMessagingSearchStore12(k.pageID,k.searchTerm,k.activeFolder,k.searchMode);}this.__emitChange();break;case c('PagesManagerMessagingActionType').MESSAGE_SEARCH.NAME_SEARCH_UPDATE:this.$PagesManagerMessagingSearchStore6=k.isSearching;this.__emitChange();break;case c('PagesManagerMessagingActionType').MESSAGE_SEARCH.SNIPPET_SEARCH_UPDATE:this.$PagesManagerMessagingSearchStore7=k.isSearching;this.__emitChange();break;case c('PagesManagerMessagingActionType').MESSAGE_SEARCH.LOAD_MORE_NAME_RESULT:this.$PagesManagerMessagingSearchStore13(k.pageID,k.searchTerm,k.activeFolder);this.__emitChange();break;case c('PagesManagerMessagingActionType').MESSAGE_SEARCH.LOAD_MORE_SNIPPET_RESULT:this.$PagesManagerMessagingSearchStore14(k.pageID,k.searchTerm,k.activeFolder);this.__emitChange();break;case c('PagesManagerMessagingActionType').SEARCH.ADD_SEARCH_CUSTOM_TAG:c('PagesManagerDispatcher').waitFor([c('PagesManagerCustomTagsStore').getDispatchToken()]);var l=c('PagesManagerCustomTagsStore').hasCustomTag(k.pageID,k.tagName);if(l){this.$PagesManagerMessagingSearchStore2='';this.$PagesManagerMessagingSearchStore5=false;this.$PagesManagerMessagingSearchStore1.push(k.tagName);this.__emitChange();}break;case c('PagesManagerMessagingActionType').SEARCH.REMOVE_SEARCH_CUSTOM_TAG:var m=this.$PagesManagerMessagingSearchStore1.indexOf(k.tagName);if(m>=0){this.$PagesManagerMessagingSearchStore1.splice(m,1);this.__emitChange();}break;}};j.prototype.$PagesManagerMessagingSearchStore12=function(k,l,m,n){var o=c('guid')();this.$PagesManagerMessagingSearchStore8=o;var p=c('MercurySearchThreadsStrategy').getForFBID(k),q=c('MercurySearchSnippetResults').getForFBID(k),r=c('MercurySearchThreadResultOrderer').getForFBID(k);if(n===c('PagesMessagingSearchMode').ALL||n===c('PagesMessagingSearchMode').NAME_SEARCH){this.$PagesManagerMessagingSearchStore6=true;p.search(l,function(s){this.$PagesManagerMessagingSearchStore10=r.filterThreadsInFolder(s,m);this.__emitChange();}.bind(this),function(s,t){if(o!==this.$PagesManagerMessagingSearchStore8)return;var u=r.filterThreadsInFolder(s,m);this.$PagesManagerMessagingSearchStore10=r.orderResults(this.$PagesManagerMessagingSearchStore10,[],u,m);this.$PagesManagerMessagingSearchStore3=!t;if(this.__dispatcher.isDispatching()){this.$PagesManagerMessagingSearchStore6=false;this.__emitChange();}else c('PagesManagerMessagingThreadlistAction').changeIsSearchingNameStatus(false);}.bind(this),c('emptyFunction'));}if(n===c('PagesMessagingSearchMode').ALL||n===c('PagesMessagingSearchMode').MESSAGE_SEARCH){this.$PagesManagerMessagingSearchStore7=true;q.getAllThreadSearchResults(l,function(s,t,u){this.$PagesManagerMessagingSearchStore11=this.$PagesManagerMessagingSearchStore15(t,s,m);this.$PagesManagerMessagingSearchStore4=!u;if(this.__dispatcher.isDispatching()){this.$PagesManagerMessagingSearchStore7=false;this.__emitChange();}else c('PagesManagerMessagingThreadlistAction').changeIsSearchingSnippetStatus(false);}.bind(this,r));}this.__emitChange();};j.prototype.$PagesManagerMessagingSearchStore15=function(k,l,m){var n=Object.keys(k),o=l.filterThreadsInFolder(n,m),p={};o.forEach(function(q){p[q]=k[q];});return p;};j.prototype.$PagesManagerMessagingSearchStore13=function(k,l,m){var n=c('MercurySearchThreadResults').getForFBID(k),o=c('MercurySearchThreadResultOrderer').getForFBID(k);this.$PagesManagerMessagingSearchStore6=true;n.getMoreThreadlist(l,function(p,q){var r=o.filterThreadsInFolder(p,m);this.$PagesManagerMessagingSearchStore10=r;if(this.__dispatcher.isDispatching()){this.$PagesManagerMessagingSearchStore6=false;this.__emitChange();}else c('PagesManagerMessagingThreadlistAction').changeIsSearchingNameStatus(false);}.bind(this));};j.prototype.$PagesManagerMessagingSearchStore14=function(k,l,m){var n=c('MercurySearchSnippetResults').getForFBID(k),o=c('MercurySearchThreadResultOrderer').getForFBID(k);n.getAllThreadSearchMoreResults(l,function(p,q,r){this.$PagesManagerMessagingSearchStore4=!r;this.$PagesManagerMessagingSearchStore11=this.$PagesManagerMessagingSearchStore15(q,p,m);if(this.__dispatcher.isDispatching()){this.$PagesManagerMessagingSearchStore7=false;this.__emitChange();}else c('PagesManagerMessagingThreadlistAction').changeIsSearchingSnippetStatus(false);}.bind(this,o));};f.exports=new j();},null);
__d('PagesManagerMessagingSpamNavigationUnit',['fbt','PagesManagerMessagingFolderNavigationUnit','PagesManagerMessagingNavigationUnitKey'],function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();i=babelHelpers.inherits(k,c('PagesManagerMessagingFolderNavigationUnit'));j=i&&i.prototype;function k(){j.constructor.call(this,c('PagesManagerMessagingNavigationUnitKey').FOLDERS.SPAM);}k.prototype.getDisplayTitle=function(){return h._("Spam");};f.exports=k;},null);
__d('PagesManagerMessagingUnreadNavigationUnit',['fbt','PagesManagerMessagingNavigationUnitKey','PagesManagerMessagingUnreadCountHelper','PagesManagerNavigationUnit'],function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();i=babelHelpers.inherits(k,c('PagesManagerNavigationUnit'));j=i&&i.prototype;function k(){j.constructor.call(this,c('PagesManagerMessagingNavigationUnitKey').FILTERS.UNREAD);}k.prototype.getDisplayTitle=function(){return h._("No le\u00eddos");};k.prototype.getNotificationCount=function(l,m){if(m.activeFolder.getKey()!==c('PagesManagerMessagingNavigationUnitKey').FOLDERS.INBOX)return 0;return c('PagesManagerMessagingUnreadCountHelper').getUnreadCount(l,m.activeFolder.getKey());};f.exports=k;},null);
__d('PagesManagerMessagingFilterStore',['invariant','FluxStore','immutable','Map','MessagingTag','MessageThreadViewSource','PagesManagerActionType','PagesManagerDispatcher','PagesManagerMessagingAllNavigationUnit','PagesManagerMessagingArchiveNavigationUnit','PagesManagerMessagingFlaggedNavigationUnit','PagesManagerMessagingInboxNavigationUnit','PagesManagerMessagingLogger','PagesManagerMessagingSpamNavigationUnit','PagesManagerMessagingSearchStore','PagesManagerMessagingUnreadNavigationUnit'],function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();i=babelHelpers.inherits(k,c('FluxStore'));j=i&&i.prototype;function k(){j.constructor.call(this,c('PagesManagerDispatcher'));var l=new (c('PagesManagerMessagingInboxNavigationUnit'))(),m=new (c('PagesManagerMessagingArchiveNavigationUnit'))(),n=new (c('PagesManagerMessagingSpamNavigationUnit'))();this.$PagesManagerMessagingFilterStore2=c('immutable').List([l,m,n]);this.$PagesManagerMessagingFilterStore8=new (c('PagesManagerMessagingAllNavigationUnit'))();var o=new (c('PagesManagerMessagingUnreadNavigationUnit'))();this.$PagesManagerMessagingFilterStore1=c('immutable').List([this.$PagesManagerMessagingFilterStore8,o,new (c('PagesManagerMessagingFlaggedNavigationUnit'))()]);this.$PagesManagerMessagingFilterStore4=this.$PagesManagerMessagingFilterStore2.first();this.$PagesManagerMessagingFilterStore5=this.getFilterByKey(this.$PagesManagerMessagingFilterStore4.getSupportedFilterKeys().first());this.$PagesManagerMessagingFilterStore7=false;this.$PagesManagerMessagingFilterStore6=false;this.$PagesManagerMessagingFilterStore3=[l,o,m,n];}k.prototype.$PagesManagerMessagingFilterStore9=function(l,m){var n=l.filter(function(o){return o.getKey()===m;});!(n.size>0)?h(0):undefined;return n.first();};k.prototype.$PagesManagerMessagingFilterStore10=function(l,m){c('PagesManagerMessagingLogger').logMessagesSectionViewEvent(l,m.getKey());c('PagesManagerMessagingLogger').logPageViewFolderEvent(l,m,c('MessageThreadViewSource').NEW_MESSAGETAB);this.$PagesManagerMessagingFilterStore4=m;this.$PagesManagerMessagingFilterStore5=this.getFilterByKey(m.getSupportedFilterKeys().first());this.__emitChange();};k.prototype.$PagesManagerMessagingFilterStore11=function(l,m){if(m.getKey()===c('MessagingTag').UNREAD){this.$PagesManagerMessagingFilterStore5=m;this.$PagesManagerMessagingFilterStore4=this.$PagesManagerMessagingFilterStore2.first();}else{this.$PagesManagerMessagingFilterStore4.assertSupportsFilter(m);this.$PagesManagerMessagingFilterStore5=m;}this.__emitChange();};k.prototype.getFilterByKey=function(l){return this.$PagesManagerMessagingFilterStore9(this.$PagesManagerMessagingFilterStore1,l);};k.prototype.getAvailableFolders=function(){return this.$PagesManagerMessagingFilterStore2;};k.prototype.getAvailableFilters=function(){return c('immutable').List(this.$PagesManagerMessagingFilterStore1.filter(function(l){return this.getActiveFolder().getSupportedFilterKeys().indexOf(l.getKey())>=0;}.bind(this)));};k.prototype.getActiveFolder=function(){return this.$PagesManagerMessagingFilterStore4;};k.prototype.getActiveFilter=function(){var l=c('PagesManagerMessagingSearchStore').getCurrentSearchCustomTagNames();return this.$PagesManagerMessagingFilterStore6||l.size!==0?this.$PagesManagerMessagingFilterStore8:this.$PagesManagerMessagingFilterStore5;};k.prototype.getActiveFolderName=function(){return this.getActiveFolder().getKey();};k.prototype.getActiveFilterName=function(){return this.getActiveFilter().getKey();};k.prototype.getFolderDropDown=function(){if(this.getActiveFilterName()===c('MessagingTag').UNREAD){return this.$PagesManagerMessagingFilterStore2;}else{var l=this.$PagesManagerMessagingFilterStore3.filter(function(m){return m.getKey()!==this.$PagesManagerMessagingFilterStore4.getKey();}.bind(this));return c('immutable').List(l);}};k.prototype.getActiveFolderDropDown=function(){if(this.getActiveFilterName()===c('MessagingTag').UNREAD){return this.$PagesManagerMessagingFilterStore5;}else return this.$PagesManagerMessagingFilterStore4;};k.prototype.getUnitNotificationCountMap=function(l){var m=new (c('Map'))(),n=function(o){return m.set(o,o.getNotificationCount(l,{activeFolder:this.getActiveFolder(),activeFilter:this.getActiveFilter()}));}.bind(this);this.getAvailableFolders().map(n);this.getAvailableFilters().map(n);return m;};k.prototype.getNavigationKey=function(){return this.getActiveFolderName()+'|'+this.getActiveFilterName()+'|'+(c('PagesManagerMessagingSearchStore').getCustomTagsFilterName()||'');};k.prototype.getIsFiltering=function(){return this.$PagesManagerMessagingFilterStore7;};k.prototype.__onDispatch=function(l){switch(l.type){case c('PagesManagerActionType').NAVIGATION_UNIT.CHANGE:if(this.getAvailableFolders().indexOf(l.unit)>=0){this.$PagesManagerMessagingFilterStore10(l.pageID,l.unit);}else this.$PagesManagerMessagingFilterStore11(l.pageID,l.unit);break;case c('PagesManagerActionType').NAVIGATION_UNIT.NOTIFICATION_COUNT_CHANGE:this.__emitChange();break;case c('PagesManagerActionType').SEARCH.ADD_SEARCH_CUSTOM_TAG:case c('PagesManagerActionType').SEARCH.ROMOVE_SEARCH_CUSTOM_TAG:case c('PagesManagerActionType').SEARCH.CHANGE_SEARCH_TERM:c('PagesManagerDispatcher').waitFor([c('PagesManagerMessagingSearchStore').getDispatchToken()]);var m=c('PagesManagerMessagingSearchStore').getCurrentSearchTerm()!=='';this.$PagesManagerMessagingFilterStore7=false;if(this.$PagesManagerMessagingFilterStore6!==m){this.$PagesManagerMessagingFilterStore6=m;this.__emitChange();}break;case c('PagesManagerActionType').FILTER_PANEL.TOGGLE_PANEL:this.$PagesManagerMessagingFilterStore7=l.showPanel;this.__emitChange();}};f.exports=new k();},null);
__d('PagesManagerMessagingMessageDateBreak.react',['cx','MessengerDateBreak.react','React'],function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;function k(l){'use strict';j.constructor.call(this,l);}k.prototype.render=function(){'use strict';return (c('React').createElement(c('MessengerDateBreak.react'),{className:"_2hvw",date:this.props.date}));};f.exports=k;},null);
__d('PagesManagerMessagingMessageList.react',['cx','ChatTypingIndicators.react','immutable','MessengerTypingIndicator.react','MessageList.react','MessengerLogMessage.react','MessengerMessageGroup.react','MessengerSpinner.react','PagesEventObserver','PagesEventType','PagesManagerMessagingMessageDateBreak.react','React','MercuryShareAttachmentRenderLocations','ScrollableArea.react','debounce'],function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();var k='message_tab';i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(m,n){'use strict';j.constructor.call(this,m,n);this.$PagesManagerMessagingMessageList1=true;this.prevScrollTop=0;this.prevScrollHeight=0;}l.prototype.componentDidUpdate=function(m){'use strict';var n=this.props.messagelist.last()&&this.props.messagelist.last().thread_fbid,o=m.messagelist.last()&&m.messagelist.last().thread_fbid;if(m.messagelist.size===0&&this.props.messagelist.size!==0||n!=o){this.refs.scrollableArea&&this.refs.scrollableArea.getArea().scrollToBottom();}else if(this.props.messagelist.size!==m.messagelist.size)this.$PagesManagerMessagingMessageList2(this.prevScrollHeight,this.prevScrollTop);};l.prototype.$PagesManagerMessagingMessageList2=function(m,n){'use strict';if(!this.refs.scrollableArea)return;var o=this.refs.scrollableArea.getArea(),p=o.getScrollHeight()-m+n;o.setScrollTop(p,false);};l.prototype.$PagesManagerMessagingMessageList3=function(){'use strict';if(!this.refs.scrollableArea)return;var m=this.refs.scrollableArea.getArea(),n=this.prevScrollTop,o=this.prevScrollHeight;this.$PagesManagerMessagingMessageList4();if(m.isScrolledToTop()){this.props.fetchEarlierMessages();}else if(m.isScrolledToBottom()){this.$PagesManagerMessagingMessageList5();}else{if(m.getScrollTop()===n&&m.getScrollHeight()!==o)this.$PagesManagerMessagingMessageList2(o,n);this.$PagesManagerMessagingMessageList6();}};l.prototype.$PagesManagerMessagingMessageList5=function(){'use strict';if(!this.$PagesManagerMessagingMessageList1)this.$PagesManagerMessagingMessageList1=true;};l.prototype.$PagesManagerMessagingMessageList6=function(){'use strict';if(this.$PagesManagerMessagingMessageList1)this.$PagesManagerMessagingMessageList1=false;};l.prototype.$PagesManagerMessagingMessageList4=function(){'use strict';var m=this.refs.scrollableArea;this.prevScrollHeight=m?m.getArea().getScrollHeight():0;this.prevScrollTop=m?m.getArea().getScrollTop():0;};l.prototype.$PagesManagerMessagingMessageList7=function(){'use strict';var m=Math.floor(this.props.scrollHeight/130);return (c('React').createElement('div',{className:"_31m6",style:{height:this.props.scrollHeight}},c('React').createElement('div',{className:"_31m7",style:{height:130*m}},this.$PagesManagerMessagingMessageList8(m))));};l.prototype.$PagesManagerMessagingMessageList8=function(m){'use strict';var n=c('React').createElement('div',null,c('React').createElement('div',{className:"_31m8"}),c('React').createElement('div',{className:"_31ma"}),c('React').createElement('div',{className:"_31mb"}),c('React').createElement('div',{className:"_31mc"}),c('React').createElement('div',{className:"_31me"}),c('React').createElement('div',{className:"_31mf"}),c('React').createElement('div',{className:"_31mg"}),c('React').createElement('div',{className:"_31mh"}),c('React').createElement('div',{className:"_31mi"}),c('React').createElement('div',{className:"_31mj"}),c('React').createElement('div',{className:"_31mk"}),c('React').createElement('div',{className:"_31ml"}),c('React').createElement('div',{className:"_31mm"}),c('React').createElement('div',{className:"_31mn"}),c('React').createElement('div',{className:"_31mo"}),c('React').createElement('div',{className:"_31mp"}),c('React').createElement('div',{className:"_31mq"})),o=[];for(var p=0;p<m;p++)o.push(c('React').cloneElement(n,{key:'loading'+p}));return o;};l.prototype.$PagesManagerMessagingMessageList9=function(){'use strict';if(!this.props.isLoadingMore)return null;return (c('React').createElement('div',{className:"_2k8v"},c('React').createElement(c('MessengerSpinner.react'),null)));};l.prototype.$PagesManagerMessagingMessageList10=function(){'use strict';c('PagesEventObserver').notify(c('PagesEventType').MESSAGES_VIEW_THREAD,this.props.pageID,{source:k,thread_id:this.props.threadID});return (c('React').createElement('div',{className:"clearfix _1ej0 _2mpc"},c('React').createElement(c('MessageList.react'),{DateBreak:c('PagesManagerMessagingMessageDateBreak.react'),deliveryTimestamp:0,isCanonical:true,isPageMessage:true,location:c('MercuryShareAttachmentRenderLocations').MESSENGER,LogMessage:c('MessengerLogMessage.react'),MessageGroup:c('MessengerMessageGroup.react'),messages:this.props.messagelist,readReceipts:this.props.readReceipts,viewer:this.props.pageID}),c('React').createElement(c('ChatTypingIndicators.react'),{indicatorClass:c('MessengerTypingIndicator.react'),indicatorsWillShow:function(){},indicatorsDidShow:function(){this.$PagesManagerMessagingMessageList1&&this.refs.scrollableArea&&this.refs.scrollableArea.getArea().scrollToBottom();}.bind(this),rootClassName:"clearfix _17pz _4gv2",threadID:this.props.threadID,viewer:this.props.pageID})));};l.prototype.render=function(){'use strict';if(this.props.initLoading)return this.$PagesManagerMessagingMessageList7();return (c('React').createElement(c('ScrollableArea.react'),{className:"_11y7",fade:false,height:this.props.scrollHeight,onScroll:c('debounce')(function(){return this.$PagesManagerMessagingMessageList3();}.bind(this),500),ref:'scrollableArea',shadow:false},this.$PagesManagerMessagingMessageList9(),c('React').createElement('div',{className:"_14y3"},this.props.threadID?this.$PagesManagerMessagingMessageList10():c('React').createElement('div',null))));};f.exports=l;},null);
__d("XPagesBanUserStatusFetchController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/admin\/ban_user\/status\/",{page_id:{type:"FBID",required:true},user_id:{type:"FBID",required:true}});},null);
__d('PagesManagerMessagingMessagelistAction',['AsyncRequest','PagesManagerMessagingActionType','Map','PagesManagerMessagingMessagelistDispatcher','XPagesBanUserStatusFetchController'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('PagesManagerMessagingActionType').LIST,i=new (c('Map'))(),j={updateMessagelist:function(k,l,m){c('PagesManagerMessagingMessagelistDispatcher').dispatch({type:h.LOADED,pageID:k,threadID:l,data:m});},setIsLoading:function(k){c('PagesManagerMessagingMessagelistDispatcher').dispatch({type:h.LOADING,isLoading:k});},setIsLoadingMore:function(k){c('PagesManagerMessagingMessagelistDispatcher').dispatch({type:h.LOAD_MORE,isLoadingMore:k});},setScrollAreaHeight:function(k){c('PagesManagerMessagingMessagelistDispatcher').dispatch({type:c('PagesManagerMessagingActionType').SET_SCROLL_HEIGHT,height:k});},updateReadReceipts:function(k,l,m){c('PagesManagerMessagingMessagelistDispatcher').dispatch({type:c('PagesManagerMessagingActionType').MESSAGE_LEVEL.READ_RECEIPTS,pageID:k,threadID:l,readReceipts:m});},updateThread:function(k,l){c('PagesManagerMessagingMessagelistDispatcher').dispatch({type:c('PagesManagerMessagingActionType').THREAD_LEVEL.UPDATE_THREAD,pageID:k,threadID:l});},setIsContextCardHidden:function(k){c('PagesManagerMessagingMessagelistDispatcher').dispatch({type:c('PagesManagerMessagingActionType').SET_IS_CONTEXT_CARD_HIDDEN,isHidden:k});},updateIsUserBanned:function(k,l,m){c('PagesManagerMessagingMessagelistDispatcher').dispatch({type:c('PagesManagerMessagingActionType').BAN.UPDATE,pageID:k,userID:l,isBanned:m});},_getBanningMapKey:function(k,l){return k+'_'+l;},fetchIsUserBanned:function(k,l){var m=this._getBanningMapKey(k,l);if(i.has(m)&&i.get(m))return;var n=c('XPagesBanUserStatusFetchController').getURIBuilder().setFBID('page_id',k).setFBID('user_id',l).getURI();new (c('AsyncRequest'))().setURI(n).setHandler(function(o){j.updateIsUserBanned(k,l,o.payload);}).send();i.set(m,true);},resetIsUserBanned:function(k,l){i.set(this._getBanningMapKey(k,l),false);}};f.exports=j;},null);
__d("XPagesContextCardSetIsHiddenController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/customer\/context_card\/set_is_hidden\/",{});},null);
__d('PagesManagerMessagingMessagelistStore',['PagesManagerMessagingActionType','AsyncRequest','FluxStore','immutable','Map','MercuryMessages','PagesManagerMessagingMessagelistDispatcher','MercuryThreadlistConstants','XPagesContextCardSetIsHiddenController'],function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('FluxStore'));i=h&&h.prototype;function j(){'use strict';i.constructor.call(this,c('PagesManagerMessagingMessagelistDispatcher'));this.$PagesManagerMessagingMessagelistStore1='';this.$PagesManagerMessagingMessagelistStore2=false;this.$PagesManagerMessagingMessagelistStore3=false;this.$PagesManagerMessagingMessagelistStore4=[];this.$PagesManagerMessagingMessagelistStore5=c('immutable').OrderedMap();this.$PagesManagerMessagingMessagelistStore6=0;this.$PagesManagerMessagingMessagelistStore8=new (c('Map'))();}j.prototype.__onDispatch=function(k){'use strict';switch(k.type){case c('PagesManagerMessagingActionType').LIST.LOADED:this.$PagesManagerMessagingMessagelistStore9(k);this.__emitChange();break;case c('PagesManagerMessagingActionType').LIST.LOADING:this.$PagesManagerMessagingMessagelistStore2=k.isLoading;this.__emitChange();break;case c('PagesManagerMessagingActionType').LIST.LOAD_MORE:this.$PagesManagerMessagingMessagelistStore3=k.isLoadingMore;this.__emitChange();break;case c('PagesManagerMessagingActionType').MESSAGE_LEVEL.READ_RECEIPTS:this.$PagesManagerMessagingMessagelistStore10(k);this.__emitChange();break;case c('PagesManagerMessagingActionType').SET_SCROLL_HEIGHT:var l=k.height;if(l!==this.$PagesManagerMessagingMessagelistStore6){this.$PagesManagerMessagingMessagelistStore6=l;this.__emitChange();}break;case c('PagesManagerMessagingActionType').THREAD_LEVEL.UPDATE_THREAD:this.__emitChange();break;case c('PagesManagerMessagingActionType').SET_IS_CONTEXT_CARD_HIDDEN:this.$PagesManagerMessagingMessagelistStore11(k.isHidden);this.__emitChange();break;case c('PagesManagerMessagingActionType').BAN.UPDATE:this.$PagesManagerMessagingMessagelistStore12(k.pageID,k.userID,k.isBanned);this.__emitChange();break;default:return;}};j.prototype.$PagesManagerMessagingMessagelistStore9=function(k){'use strict';this.$PagesManagerMessagingMessagelistStore2=false;this.$PagesManagerMessagingMessagelistStore1=k.threadID;this.$PagesManagerMessagingMessagelistStore4=k.data.messages;};j.prototype.$PagesManagerMessagingMessagelistStore10=function(k){'use strict';if(this.$PagesManagerMessagingMessagelistStore1!==k.threadID)this.$PagesManagerMessagingMessagelistStore4=[];this.$PagesManagerMessagingMessagelistStore1=k.threadID;this.$PagesManagerMessagingMessagelistStore5=k.readReceipts;};j.prototype.isLoading=function(){'use strict';return this.$PagesManagerMessagingMessagelistStore2;};j.prototype.isLoadingMore=function(){'use strict';return this.$PagesManagerMessagingMessagelistStore3;};j.prototype.getMessagelist=function(k,l){'use strict';var m;if(l!=this.$PagesManagerMessagingMessagelistStore1)return c('MercuryMessages').getForFBID(k).getThreadMessagesRangeNow(l,0,c('MercuryThreadlistConstants').RECENT_MESSAGES_LIMIT).reverse();return this.$PagesManagerMessagingMessagelistStore4;};j.prototype.getScrollHeight=function(){'use strict';return this.$PagesManagerMessagingMessagelistStore6;};j.prototype.getReadReceipts=function(k){'use strict';if(k!=this.$PagesManagerMessagingMessagelistStore1)return c('immutable').OrderedMap();return this.$PagesManagerMessagingMessagelistStore5;};j.prototype.isCardHidden=function(){'use strict';if(this.$PagesManagerMessagingMessagelistStore7===undefined||this.$PagesManagerMessagingMessagelistStore7===null)return null;return this.$PagesManagerMessagingMessagelistStore7;};j.prototype.$PagesManagerMessagingMessagelistStore11=function(k){'use strict';this.$PagesManagerMessagingMessagelistStore7=k;var l=c('XPagesContextCardSetIsHiddenController').getURIBuilder().getURI();new (c('AsyncRequest'))().setURI(l).setData({is_hidden:k}).send();};j.prototype.$PagesManagerMessagingMessagelistStore13=function(k,l){'use strict';return k+'_'+l;};j.prototype.getIsUserBanned=function(k,l){'use strict';return this.$PagesManagerMessagingMessagelistStore8.get(this.$PagesManagerMessagingMessagelistStore13(k,l));};j.prototype.$PagesManagerMessagingMessagelistStore12=function(k,l,m){'use strict';this.$PagesManagerMessagingMessagelistStore8.set(this.$PagesManagerMessagingMessagelistStore13(k,l),m);};f.exports=new j(c('PagesManagerMessagingMessagelistDispatcher'));},null);
__d('PagesManagerMessagingNoteComposerView.react',['cx','fbt','Image.react','PagesMessengerTextInput.react','React','XUIButton.react','isEmpty'],function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(n){k.constructor.call(this,n);this.state={isQuickReplyMode:true};}m.prototype.$PagesManagerMessagingNoteComposerView1=function(n){n.preventDefault();this.props.onCreateNote();};m.prototype.$PagesManagerMessagingNoteComposerView2=function(){var n=i._("Cancelar");return (c('React').createElement('div',{className:"_1vgy"},c('React').createElement(c('XUIButton.react'),{label:n,onClick:this.props.onCancelCreateNote})));};m.prototype.$PagesManagerMessagingNoteComposerView3=function(){var n=i._("A\u00f1adir");if(this.props.message.length>0)return (c('React').createElement('div',{className:"_1vgz"},c('React').createElement(c('XUIButton.react'),{label:n,onClick:function(o){return this.$PagesManagerMessagingNoteComposerView1(o);}.bind(this),use:'confirm'})));};m.prototype.$PagesManagerMessagingNoteComposerView4=function(){var n=i._("A\u00f1ade una nota del administrador...");return (c('React').createElement('div',{className:"_4dv-"},c('React').createElement(c('PagesMessengerTextInput.react'),{className:"_1p7p"+(' '+"_5id1")+(c('isEmpty')(this.props.message)?' '+"_3197":'')+(' '+"_1vg-"),onNoShiftEnter:this.state.isQuickReplyMode?function(o){return this.$PagesManagerMessagingNoteComposerView1(o);}.bind(this):null,placeholder:n,onChange:this.props.onInputChange,value:this.props.message,ref:'textInput'})));};m.prototype.$PagesManagerMessagingNoteComposerView5=function(){return (c('React').createElement('div',{className:"_4dw0"},c('React').createElement(c('Image.react'),{className:"_1cjc",src:this.props.participant.image_src})));};m.prototype.render=function(){if(!this.props.participant)return c('React').createElement('div',{className:"_1vg_"});return (c('React').createElement('div',{className:"_1vh0"},c('React').createElement('div',{className:"_1vh1"},this.$PagesManagerMessagingNoteComposerView5(),this.$PagesManagerMessagingNoteComposerView4(),c('React').createElement('div',{className:"_4dwa"},this.$PagesManagerMessagingNoteComposerView2(),this.$PagesManagerMessagingNoteComposerView3()))));};m.propTypes={onInputChange:l.func,onCancelCreateNote:l.func,onCreateNote:l.func,participant:l.object};f.exports=m;},null);
__d('PagesManagerMessagingNoteComposerContainer.react',['MercuryIDs','MercuryMessageIDs','MercuryMessages','MercuryPageMessageActions','MercuryParticipants','PagesManagerMessagingNoteComposerView.react','React'],function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;function k(l,m){i.constructor.call(this,l,m);this.state={message:'',participant:null};}k.prototype.$PagesManagerMessagingNoteComposerContainer3=function(){this.setState({message:''});};k.prototype.componentWillMount=function(){this.$PagesManagerMessagingNoteComposerContainer4(this.props);};k.prototype.componentWillReceiveProps=function(l){this.$PagesManagerMessagingNoteComposerContainer5(l.userID);this.$PagesManagerMessagingNoteComposerContainer4(l);if(l.threadID!==this.props.threadID)this.$PagesManagerMessagingNoteComposerContainer3();if(l.userID!==this.props.userID)this.$PagesManagerMessagingNoteComposerContainer5(l.userID);};k.prototype.componentDidMount=function(){setTimeout(function(){return this.$PagesManagerMessagingNoteComposerContainer5(this.props.userID);}.bind(this),0);};k.prototype.componentWillUpdate=function(l,m){if(this.props.onMessageOrAttachmentUpdate&&m.message!==this.state.message)this.props.onMessageOrAttachmentUpdate();};k.prototype.$PagesManagerMessagingNoteComposerContainer4=function(l){var m=l.userID;this.$PagesManagerMessagingNoteComposerContainer1=c('MercuryPageMessageActions').getForFBID(m);this.$PagesManagerMessagingNoteComposerContainer2=c('MercuryMessages').getForFBID(m);};k.prototype.$PagesManagerMessagingNoteComposerContainer6=function(l){var m=l.target;this.setState({message:m.value});};k.prototype.$PagesManagerMessagingNoteComposerContainer7=function(){if(!this.props.threadID)return;var l=this.props.creatorInfo?{creatorID:this.props.creatorInfo.creatorID,creatorType:this.props.creatorInfo.creatorType,creatorName:this.props.creatorInfo.creatorName,labelType:'page_admin_note',pageID:this.props.creatorInfo.pageID,profileURI:this.props.creatorInfo.profileURI}:null,m={id:null,body:{text:this.state.message},creator_info:l,timestamp:Math.floor(Date.now()/1000)};this.$PagesManagerMessagingNoteComposerContainer2.getThreadMessagesRange(this.props.threadID,0,1,function(n){if(!n.length)return;var o=n[0];if(this.$PagesManagerMessagingNoteComposerContainer2.isLocalMessage(o)){c('MercuryMessageIDs').getServerIDs([o.message_id],function(p){if(p.length){var q=p[0];this.$PagesManagerMessagingNoteComposerContainer1.createNote(m,this.props.threadID,q);}}.bind(this));}else this.$PagesManagerMessagingNoteComposerContainer1.createNote(m,this.props.threadID,o.message_id);}.bind(this));this.$PagesManagerMessagingNoteComposerContainer3();this.props.onDisablePageAdminNoteMode();};k.prototype.$PagesManagerMessagingNoteComposerContainer8=function(){this.$PagesManagerMessagingNoteComposerContainer3();this.props.onDisablePageAdminNoteMode();};k.prototype.$PagesManagerMessagingNoteComposerContainer5=function(l){var m=c('MercuryIDs').getParticipantIDFromUserID(l);c('MercuryParticipants').get(m,function(n){this.setState({participant:n});}.bind(this));};k.prototype.render=function(){return (c('React').createElement(c('PagesManagerMessagingNoteComposerView.react'),babelHelpers['extends']({},this.props,this.state,{onInputChange:function(l){return this.$PagesManagerMessagingNoteComposerContainer6(l);}.bind(this),onCreateNote:function(){return this.$PagesManagerMessagingNoteComposerContainer7();}.bind(this),onCancelCreateNote:function(){return this.$PagesManagerMessagingNoteComposerContainer8();}.bind(this)})));};k.propTypes={creatorInfo:j.object,onDisablePageAdminNoteMode:j.func.isRequired,onMessageOrAttachmentUpdate:j.func,threadID:j.string,userID:j.string.isRequired};f.exports=k;},null);
__d('PagesManagerMessagingFilterActions',['PagesManagerActionType','PagesManagerDispatcher','PagesManagerMessagingThreadlistAction','PagesManagerNavigationUnit'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={changeFilter:function(i,j){c('PagesManagerDispatcher').dispatch({unit:j,pageID:i,type:c('PagesManagerActionType').NAVIGATION_UNIT.CHANGE});c('PagesManagerMessagingThreadlistAction').resetSearch(i);},notifyNotificationCountChanged:function(i){c('PagesManagerDispatcher').dispatch({pageID:i,type:c('PagesManagerActionType').NAVIGATION_UNIT.NOTIFICATION_COUNT_CHANGE});},toggleFilterPanel:function(i,j){c('PagesManagerDispatcher').dispatch({pageID:i,showPanel:j,type:c('PagesManagerActionType').FILTER_PANEL.TOGGLE_PANEL});}};f.exports=h;},null);
__d('PagesManagerMessagingThreadlistStore',['AbstractPagesManagerListStore','PagesManagerActionType','MercuryOrderedThreadlist','MercuryThreadlistConstants','PagesManagerDispatcher','PagesManagerMessagingFilterStore','PagesManagerMessagingSearchStore'],function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('AbstractPagesManagerListStore'));i=h&&h.prototype;function j(){'use strict';i.constructor.call(this,c('PagesManagerDispatcher'));}j.prototype.$PagesManagerMessagingThreadlistStore1=function(){'use strict';return c('PagesManagerMessagingSearchStore').getCustomTagsFilterName()||c('PagesManagerMessagingFilterStore').getActiveFilterName();};j.prototype.$PagesManagerMessagingThreadlistStore2=function(k,l){'use strict';var m=c('MercuryOrderedThreadlist').getForFBID(k);return m.hasLoadedThreadlist(c('PagesManagerMessagingFilterStore').getActiveFolderName(),this.$PagesManagerMessagingThreadlistStore1())||m.getThreadCount(c('PagesManagerMessagingFilterStore').getActiveFolderName(),this.$PagesManagerMessagingThreadlistStore1())>=l;};j.prototype.$PagesManagerMessagingThreadlistStore3=function(k,l,m){'use strict';var n=c('MercuryOrderedThreadlist').getForFBID(k);n.getFilteredThreadlist(l,m+1,c('PagesManagerMessagingFilterStore').getActiveFolderName(),this.$PagesManagerMessagingThreadlistStore1(),function(o){var p=o.length>m;this.$PagesManagerMessagingThreadlistStore4(p);}.bind(this));};j.prototype.$PagesManagerMessagingThreadlistStore5=function(k){'use strict';var l=c('MercuryOrderedThreadlist').getForFBID(k);return l.getAvailableThreadlistNow(c('PagesManagerMessagingFilterStore').getActiveFolderName(),this.$PagesManagerMessagingThreadlistStore1());};j.prototype.__handleListFetch=function(k){'use strict';var l=k.pageID,m=k.offset,n=k.limit;this.__isLoading=true;var o=this.$PagesManagerMessagingThreadlistStore2(l,m+n);if(o){this.$PagesManagerMessagingThreadlistStore4(this.__hasMoreItem.get(c('PagesManagerMessagingFilterStore').getNavigationKey()));}else this.$PagesManagerMessagingThreadlistStore3(l,m,n);this.__emitChange();};j.prototype.__handleNavigationUnitChange=function(k){'use strict';c('PagesManagerDispatcher').waitFor([c('PagesManagerMessagingFilterStore').getDispatchToken(),c('PagesManagerMessagingSearchStore').getDispatchToken()]);this.__handleListFetch({pageID:k.pageID,offset:0,limit:c('MercuryThreadlistConstants').WEBMESSENGER_THREAD_COUNT});};j.prototype.$PagesManagerMessagingThreadlistStore4=function(k){'use strict';this.__isLoading=false;this.__hasMoreItem.set(c('PagesManagerMessagingFilterStore').getNavigationKey(),k);if(!this.__dispatcher.isDispatching())this.__dispatcher.dispatch({type:c('PagesManagerActionType').LIST.FETCHED});};j.prototype.getItemList=function(k){'use strict';var l=this.$PagesManagerMessagingThreadlistStore5(k),m=c('PagesManagerMessagingFilterStore').getNavigationKey();return this.hasMoreItem(m)&&l.length>0?l.slice(0,l.length-1):l;};f.exports=new j();},null);
__d('PagesManagerMessagingThreadInteractionHelper',['MercuryPageThreadActions','MercuryThreadIDMap','MercuryThreads','MessagingTag','PagesManagerMessagingFilterActions','PagesManagerMessagingFilterStore','PagesManagerMessagingMessagelistStore','PagesManagerMessagingNavigationUnitKey','PagesManagerMessagingThreadlistStore','PagesManagerStore','PagesMessagingActionPlacement','URI'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={_getPermalinkURI:function(i,j){var k=c('MercuryThreadIDMap').getForFBID(j).getServerIDFromClientIDNow(i),l=c('URI').getRequestURI(),m=c('MercuryThreads').getForFBID(j).getThreadMetaNow(i);l.addQueryData({threadid:k,mercurythreadid:i,timestamp:m?m.timestamp:null});return l;},_clearURLParam:function(){var i=c('URI').getRequestURI();i.removeQueryData('mercurythreadid');i.removeQueryData('threadid');i.removeQueryData('timestamp');window.history.replaceState({},null,i);},handlePermalinkUpdate:function(i,j){if(!i){this._clearURLParam();return;}var k=h._getPermalinkURI(i,j);window.history.replaceState({},null,k);},handleUnreadStateUpdate:function(i,j,k){var l=c('PagesManagerStore').getViewingListItem();if(!l)return;var m=c('MercuryThreads').getForFBID(j).getThreadMetaNow(l.toString()),n=c('PagesManagerMessagingMessagelistStore').getMessagelist(j,l.toString()),o=c('PagesManagerMessagingThreadlistStore').getItemList(j,k).length,p=c('MercuryPageThreadActions').getForFBID(j);if(m&&m.unread_count>0||n.length>0)if(k===c('MessagingTag').UNREAD&&o>1&&i!==l){p.markRead(l,c('PagesMessagingActionPlacement').MESSAGE_DIALOG_SHOWN);}else if(k===c('MessagingTag').UNREAD&&o===1){p.markRead(i,c('PagesMessagingActionPlacement').MESSAGE_DIALOG_SHOWN);c('PagesManagerMessagingFilterActions').changeFilter(j,c('PagesManagerMessagingFilterStore').getFilterByKey(c('PagesManagerMessagingNavigationUnitKey').FILTERS.ALL));}else if(k!==c('MessagingTag').UNREAD)p.markRead(i,c('PagesMessagingActionPlacement').MESSAGE_DIALOG_SHOWN);}};f.exports=h;},null);
__d("XPagesBanUserDataController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/admin\/ban_user\/",{page_id:{type:"FBID",required:true},user_ids:{type:"FBIDVector",required:true}});},null);
__d('PagesManagerMessagingBatchActionMenu.react',['cx','fbt','invariant','AsyncRequest','MercuryPageThreadActions','InsightsInfoTip.react','PagesManagerAction','PagesManagerMessagingMessagelistAction','PagesMessengerActions','PagesMessagingActionPlacement','PopoverMenu.react','React','SimpleXUIDialog','XPagesBanUserDataController','ReactXUIMenu','XUIDialogButton.react','XUIDialogCancelButton.react','XUIText.react'],function a(b,c,d,e,f,g,h,i,j){var k,l;if(c.__markCompiled)c.__markCompiled();var m=c('ReactXUIMenu').Item;k=babelHelpers.inherits(n,c('React').Component);l=k&&k.prototype;function n(o){'use strict';l.constructor.call(this,o);this.$PagesManagerMessagingBatchActionMenu1=c('MercuryPageThreadActions').getForFBID(o.pageID);}n.prototype.$PagesManagerMessagingBatchActionMenu2=function(event,o){'use strict';var p=o.item.getValue(),q=null;switch(p){case c('PagesMessengerActions').FLAG:q=this.$PagesManagerMessagingBatchActionMenu1.batchAddFlag;break;case c('PagesMessengerActions').UNFLAG:q=this.$PagesManagerMessagingBatchActionMenu1.batchRemoveFlag;break;case c('PagesMessengerActions').MARK_AS_SPAM:q=this.$PagesManagerMessagingBatchActionMenu1.batchMarkSpam;break;case c('PagesMessengerActions').MARK_AS_UNSPAM:q=this.$PagesManagerMessagingBatchActionMenu1.batchUnmarkSpam;break;case c('PagesMessengerActions').MARK_AS_READ:q=this.$PagesManagerMessagingBatchActionMenu1.batchMarkRead;break;case c('PagesMessengerActions').MARK_AS_UNREAD:q=this.$PagesManagerMessagingBatchActionMenu1.batchMarkUnread;break;case c('PagesMessengerActions').ARCHIVE:q=this.$PagesManagerMessagingBatchActionMenu1.batchArchive;break;case c('PagesMessengerActions').UNARCHIVE:q=this.$PagesManagerMessagingBatchActionMenu1.batchUnarchive;break;case c('PagesMessengerActions').DELETE_THREAD:this.$PagesManagerMessagingBatchActionMenu3();return;case c('PagesMessengerActions').HIDE_CONTEXT_CARD:this.$PagesManagerMessagingBatchActionMenu4();return;case c('PagesMessengerActions').SHOW_CONTEXT_CARD:this.$PagesManagerMessagingBatchActionMenu5();return;case c('PagesMessengerActions').SHOW_BAN_FROM_PAGE:this.$PagesManagerMessagingBatchActionMenu6();return;default:j(0);}if(q)q.call(this.$PagesManagerMessagingBatchActionMenu1,this.props.selectedRows,this.props.placement);c('PagesManagerAction').deselectAll();this.props.onSelectionClear&&this.props.onSelectionClear();};n.prototype.$PagesManagerMessagingBatchActionMenu3=function(){'use strict';var o=this.props.selectedRows.length,p=i._("Eliminar mensajes"),q=i._("\u00bfSeguro que quieres eliminar {number of messages}?",[i.param('number of messages',c('React').createElement('span',{className:"_50f7"},i._({"*":{"message":"{number of messages} mensaje","messages":"{number of messages} mensajes"}},[i.param('number of messages',o,[0]),i['enum'](o>1?'messages':'message',{message:'message',messages:'messages'})])))]),r=i._("Eliminar mensajes"),s=[c('React').createElement(c('XUIDialogCancelButton.react'),null),c('React').createElement(c('XUIDialogButton.react'),{action:'cancel',label:r,onClick:function(){this.$PagesManagerMessagingBatchActionMenu1.batchDelete(this.props.selectedRows,c('PagesMessagingActionPlacement').THREAD_LIST_BATCH_ACTION);}.bind(this),use:'confirm'})];c('SimpleXUIDialog').showEx(q,p,s);};n.prototype.$PagesManagerMessagingBatchActionMenu4=function(){'use strict';c('PagesManagerMessagingMessagelistAction').setIsContextCardHidden(true);};n.prototype.$PagesManagerMessagingBatchActionMenu5=function(){'use strict';c('PagesManagerMessagingMessagelistAction').setIsContextCardHidden(false);};n.prototype.$PagesManagerMessagingBatchActionMenu6=function(){'use strict';!this.props.pageID?j(0):undefined;!this.props.userID?j(0):undefined;var o=c('XPagesBanUserDataController').getURIBuilder().setFBID('page_id',this.props.pageID).setFBIDVector('user_ids',[this.props.userID]).getURI(),p=i._("Prohibir a una persona el acceso a la p\u00e1gina"),q=i._("Si bloqueas a una persona, no podr\u00e1 publicar, comentar, indicar que le gustan las publicaciones ni realizar otras acciones en la p\u00e1gina. Tampoco recibir\u00e1 notificaciones."),r=this.props.userName?i._("\u00bfQuieres bloquear a {user name}?",[i.param('user name',c('React').createElement(c('XUIText.react'),{weight:'bold'},this.props.userName))]):i._("\u00bfQuieres bloquear a este usuario?"),s=c('React').createElement('div',null,r,c('React').createElement(c('InsightsInfoTip.react'),{alignH:'center',position:'above',tip:q}));c('SimpleXUIDialog').showConfirm(s,p,function(t){if(!t)return;new (c('AsyncRequest'))().setURI(o).setHandler(function(u){if(!u.payload.success)return;c('PagesManagerMessagingMessagelistAction').resetIsUserBanned(this.props.pageID,this.props.userID);this.$PagesManagerMessagingBatchActionMenu1.batchMarkSpam(this.props.selectedRows,c('PagesMessagingActionPlacement').THREAD_LIST_BATCH_ACTION);}.bind(this)).send();}.bind(this));};n.prototype.renderMenu=function(){'use strict';return (c('React').createElement(c('ReactXUIMenu'),{onItemClick:function(event,o){return this.$PagesManagerMessagingBatchActionMenu2(event,o);}.bind(this)},this.props.inlineActionParam.showFlag?c('React').createElement(m,{value:c('PagesMessengerActions').FLAG},i._("Marcar")):null,this.props.inlineActionParam.showUnflag?c('React').createElement(m,{value:c('PagesMessengerActions').UNFLAG},i._("Desmarcar")):null,this.props.inlineActionParam.showSpam?c('React').createElement(m,{value:c('PagesMessengerActions').MARK_AS_SPAM},i._("Marcar como spam")):null,this.props.inlineActionParam.showUnspam?c('React').createElement(m,{value:c('PagesMessengerActions').MARK_AS_UNSPAM},i._("Enviar a la bandeja de entrada")):null,this.props.inlineActionParam.showMarkRead?c('React').createElement(m,{value:c('PagesMessengerActions').MARK_AS_READ},i._("Marcar como le\u00edda")):null,this.props.inlineActionParam.showMarkUnread?c('React').createElement(m,{value:c('PagesMessengerActions').MARK_AS_UNREAD},i._(["Marcar como no le\u00edda","d40d50f73da3233202117a2dc422f97d"])):null,this.props.inlineActionParam.showArchive?c('React').createElement(m,{value:c('PagesMessengerActions').ARCHIVE},i._("Archivar")):null,this.props.inlineActionParam.showUnarchive?c('React').createElement(m,{value:c('PagesMessengerActions').UNARCHIVE},i._("Enviar a la bandeja de entrada")):null,this.props.inlineActionParam.showDelete?c('React').createElement(m,{value:c('PagesMessengerActions').DELETE_THREAD},i._("Eliminar")):null,this.props.inlineActionParam.showHideContextCard?c('React').createElement(m,{value:c('PagesMessengerActions').HIDE_CONTEXT_CARD},i._("Ocultar informaci\u00f3n del remitente")):null,this.props.inlineActionParam.showShowContextCard?c('React').createElement(m,{value:c('PagesMessengerActions').SHOW_CONTEXT_CARD},i._("Mostrar informaci\u00f3n del remitente")):null,this.props.showBanFromPage&&this.props.pageID&&this.props.userID?c('React').createElement(m,{value:c('PagesMessengerActions').SHOW_BAN_FROM_PAGE},i._("Prohibir el acceso a la p\u00e1gina")):null));};n.prototype.render=function(){'use strict';return (c('React').createElement(c('PopoverMenu.react'),{alignh:this.props.alignh,className:"_1tly"+(!this.props.showBatchAction?' '+"hidden_elem":''),layerBehaviors:this.props.layerBehaviors,menu:this.renderMenu(),onHide:this.props.onHide,onShow:this.props.onShow,ref:'menu'},this.props.children));};n.defaultProps={alignh:'left'};f.exports=n;},null);
__d('PagesManagerMessagingThreadTitle.react',['cx','fbt','ix','ContextualDialogArrow','ContextualLayerAutoFlip','Image.react','InlineBlock.react','LeftRight.react','Link.react','MercuryIDs','MercuryParticipants','MercuryThreadTitle.react','PagesManagerMessagingBatchActionMenu.react','PagesMessengerThreadUtils','PagesMessagingActionPlacement','MercuryParticipantListRenderer','XUIPopoverButton.react','React'],function a(b,c,d,e,f,g,h,i,j){var k,l;if(c.__markCompiled)c.__markCompiled();k=babelHelpers.inherits(m,c('React').Component);l=k&&k.prototype;function m(n){'use strict';l.constructor.call(this,n);this.state={href:'',userName:null,imageSource:null,menuShown:false};}m.prototype.$PagesManagerMessagingThreadTitle1=function(n){'use strict';if(n&&n.other_user_fbid){var o=c('MercuryIDs').getParticipantIDFromUserID(n.other_user_fbid);c('MercuryParticipants').get(o,function(p){var q=new (c('MercuryParticipantListRenderer'))().renderParticipantList([p]);this.setState({userName:q,href:p.href,imageSource:p.image_src});}.bind(this));}};m.prototype.componentWillMount=function(){'use strict';this.$PagesManagerMessagingThreadTitle1(this.props.thread);};m.prototype.componentWillReceiveProps=function(n){'use strict';this.$PagesManagerMessagingThreadTitle1(n.thread);};m.prototype.$PagesManagerMessagingThreadTitle2=function(){'use strict';if(this.props.updatedUI){return (c('React').createElement('div',null,this.state.imageSource?c('React').createElement(c('Image.react'),{className:"_3stv",src:this.state.imageSource}):c('React').createElement('div',{className:"_3stv"}),c('React').createElement(c('InlineBlock.react'),{className:"_3-9a"},c('React').createElement(c('MercuryThreadTitle.react'),{className:"_174p",thread:this.props.thread,viewer:this.props.pageID,showUnreadCount:false}),c('React').createElement(c('Link.react'),{href:this.state.href?this.state.href:'',target:'_blank'},i._("Ver perfil")))));}else return (c('React').createElement(c('MercuryThreadTitle.react'),{className:"_174p",thread:this.props.thread,viewer:this.props.pageID,showUnreadCount:false}));};m.prototype.render=function(){'use strict';if(this.props.thread===null||this.props.thread===undefined)return c('React').createElement('div',{className:"_174o"});var n=c('PagesMessengerThreadUtils').getBatchActionMenuParam(this.props.thread);n.showMarkRead=false;n.showMarkUnread=false;n.showHideContextCard=this.props.isContextCardEnabled&&!this.props.isContextCardHidden;n.showShowContextCard=this.props.isContextCardEnabled&&this.props.isContextCardHidden;var o=!this.props.updatedUI?c('React').createElement(c('Image.react'),{className:"_3lq_",onClick:function(event){return event.stopPropagation();},src:j('/images/mobile/chrome/ui/divebar/settings_gear.png')}):c('React').createElement(c('XUIPopoverButton.react'),{label:i._("Acciones")});return (c('React').createElement(c('LeftRight.react'),{className:(!this.props.updatedUI?"_174o":'')+(this.props.updatedUI?' '+"_3stw":'')},this.$PagesManagerMessagingThreadTitle2(),c('React').createElement(c('PagesManagerMessagingBatchActionMenu.react'),{alignh:'right',layerBehaviors:[c('ContextualDialogArrow'),c('ContextualLayerAutoFlip')],onHide:function(){this.setState({menuShown:false});}.bind(this),onShow:function(){this.setState({menuShown:true});}.bind(this),pageID:this.props.pageID,inlineActionParam:n,placement:c('PagesMessagingActionPlacement').THREAD_TITLE_BAR,selectedRows:[this.props.thread&&this.props.thread.thread_id],showBanFromPage:this.props.isBanFromPageEnabled,showBatchAction:true,userID:this.props.thread?this.props.thread.other_user_fbid:null,userName:this.state?this.state.userName:null},o)));};f.exports=m;},null);
__d('PagesManagerMessagingDetailContainer.react',['cx','fbt','BootloadedComponent.react','FBID','FluxContainer','Grid.react','immutable','JSResource','MercuryMessageStore','MercuryRoger','MercuryThreadInformer','MercuryThreads','MessagingTag','MessengerConfig','PagesEventObserver','PagesEventType','PagesManagerMessagingComposerContainer.react','PagesManagerMessagingFilterStore','PagesManagerMessagingMessageList.react','PagesManagerMessagingMessagelistAction','PagesManagerMessagingMessagelistStore','PagesManagerMessagingNoteComposerContainer.react','PagesManagerMessagingTabPerfEvents','PagesManagerMessagingThreadInteractionHelper','PagesManagerMessagingThreadTitle.react','PagesManagerPerfLogger','React','ReactDOM','Set','SubscriptionsHandler','Vector','XUIButton.react','debounce'],function a(b,c,d,e,f,g,h,i){var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('Grid.react').GridItem;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(n,o){'use strict';k.constructor.call(this,n,o);this.$PagesManagerMessagingDetailContainer6=c('MercuryRoger').getForFBID(n.pageID);this.$PagesManagerMessagingDetailContainer9=c('MercuryThreadInformer').getForFBID(n.pageID);this.$PagesManagerMessagingDetailContainer2=null;this.$PagesManagerMessagingDetailContainer4=false;this.state={isContextCardEnabled:false,isLoading:false,isLoadingMore:false,isPageAdminNoteMode:false,messaginglist:[],preventScroll:false,hideContextCard:n.config.hideContextCard,threadID:'',thread:{}};this.$PagesManagerMessagingDetailContainer7=c('debounce')(function(){if(this.props.height)this.$PagesManagerMessagingDetailContainer10(this.props.height);}.bind(this),50);}m.getStores=function(){'use strict';return [c('PagesManagerMessagingMessagelistStore')];};m.calculateState=function(n,o){'use strict';var p=[],q={},r=null;if(o.listItemKey){p=c('PagesManagerMessagingMessagelistStore').getMessagelist(o.pageID,o.listItemKey);q=c('PagesManagerMessagingMessagelistStore').getReadReceipts(o.listItemKey);r=c('MercuryThreads').getForFBID(o.pageID).getThreadMetaNow(o.listItemKey);if(r&&r.other_user_fbid&&o.config&&o.pageID)c('PagesManagerMessagingMessagelistAction').fetchIsUserBanned(o.pageID,r.other_user_fbid);}var s=c('PagesManagerMessagingMessagelistStore').isCardHidden();if(s===null)s=o.config.hideContextCard;var t=o.config.enableContextCard&&r&&r.other_user_fbid&&c('FBID').isUser(r.other_user_fbid),u=o.pageID&&r&&r.other_user_fbid?c('PagesManagerMessagingMessagelistStore').getIsUserBanned(o.pageID,r.other_user_fbid):false;return {isContextCardEnabled:t,hideContextCard:s,isLoading:c('PagesManagerMessagingMessagelistStore').isLoading(),isLoadingMore:c('PagesManagerMessagingMessagelistStore').isLoadingMore(),isPageAdminNoteMode:n?n.isPageAdminNoteMode:false,isUserBanned:u,scrollHeight:c('PagesManagerMessagingMessagelistStore').getScrollHeight(),messagelist:p,readReceipts:q,threadID:o.listItemKey,thread:r};};m.prototype.$PagesManagerMessagingDetailContainer10=function(n){'use strict';var o=0;if(this.refs.threadTitle)o=c('Vector').getElementDimensions(c('ReactDOM').findDOMNode(this.refs.threadTitle)).y;var p=c('Vector').getElementDimensions(this.state.isPageAdminNoteMode?c('ReactDOM').findDOMNode(this.refs.noteComposer):c('ReactDOM').findDOMNode(this.refs.composer)).y,q=n-o-p;if(q<0)q=0;c('PagesManagerMessagingMessagelistAction').setScrollAreaHeight(q);};m.prototype.$PagesManagerMessagingDetailContainer11=function(n,o){'use strict';var p=this.$PagesManagerMessagingDetailContainer6.getSeenTimestamps(n),q=new (c('Set'))(p.keys());return p.withMutations(function(r){c('immutable').Seq(o).reverse().forEach(function(s){if(q.size===0)return false;if(!q.has(s.author))return true;r.update(s.author,function(t){return Math.max(t,s.timestamp);});q['delete'](s.author);});});};m.prototype.componentDidMount=function(){'use strict';c('PagesManagerPerfLogger').log(c('PagesManagerMessagingTabPerfEvents').MESSAGE_TAB_DETAIL_VIEW_DID_RENDER,this.props.perfParams);if(this.props.listItemKey)this.$PagesManagerMessagingDetailContainer12(this.props.listItemKey);};m.prototype.componentWillReceiveProps=function(n){'use strict';if(this.props.listItemKey!==n.listItemKey)this.$PagesManagerMessagingDetailContainer12(n.listItemKey);};m.prototype.componentWillUpdate=function(n){'use strict';if(n.height!==this.props.height)this.$PagesManagerMessagingDetailContainer10(n.height);};m.prototype.getMessageStore=function(){'use strict';return this.$PagesManagerMessagingDetailContainer5;};m.prototype.logMessageLoadingStart=function(){'use strict';var n=Date.now();this.$PagesManagerMessagingDetailContainer1=this.props.pageID+String(Math.random()).slice(2)+'/'+n;this.$PagesManagerMessagingDetailContainer3=true;c('PagesEventObserver').notify(c('PagesEventType').MESSAGES_MESSAGELIST_LOAD_START,this.props.pageID,{flowID:this.$PagesManagerMessagingDetailContainer1,page_id:this.props.pageID,loading_event_time:Date.now()});};m.prototype.logMessageLoadingEnd=function(){'use strict';if(this.$PagesManagerMessagingDetailContainer3){this.$PagesManagerMessagingDetailContainer3=false;c('PagesEventObserver').notify(c('PagesEventType').MESSAGES_MESSAGELIST_LOAD_END,this.props.pageID,{flowID:this.$PagesManagerMessagingDetailContainer1,page_id:this.props.pageID,loading_event_time:Date.now()});}};m.prototype.$PagesManagerMessagingDetailContainer12=function(n){'use strict';this.$PagesManagerMessagingDetailContainer13&&this.$PagesManagerMessagingDetailContainer13.destroy();this.$PagesManagerMessagingDetailContainer14&&this.$PagesManagerMessagingDetailContainer14.release();this.$PagesManagerMessagingDetailContainer5=new (c('MercuryMessageStore'))(n,c('MessengerConfig').MessageLoadCount,this.props.pageID);var o=c('PagesManagerMessagingMessagelistStore').getMessagelist(this.props.pageID,n);if(o.length===0){c('PagesManagerMessagingMessagelistAction').setIsLoadingMore(false);c('PagesManagerMessagingMessagelistAction').setIsLoading(true);this.logMessageLoadingStart();}var p=this.$PagesManagerMessagingDetailContainer11(n,o);c('PagesManagerMessagingMessagelistAction').updateReadReceipts(this.props.pageID,n,p);this.$PagesManagerMessagingDetailContainer14=new (c('SubscriptionsHandler'))();this.$PagesManagerMessagingDetailContainer14.addSubscriptions(this.$PagesManagerMessagingDetailContainer5.subscribe(function(q){this.logMessageLoadingEnd();c('PagesManagerMessagingMessagelistAction').setIsLoading(false);c('PagesManagerMessagingMessagelistAction').setIsLoadingMore(false);c('PagesManagerMessagingMessagelistAction').updateMessagelist(this.props.pageID,n,q);}.bind(this)),this.$PagesManagerMessagingDetailContainer9.subscribe('threads-updated',function(q,r){if(r[this.props.listItemKey])c('PagesManagerMessagingMessagelistAction').updateThread(this.props.pageID,this.props.listItemKey);}.bind(this)),this.$PagesManagerMessagingDetailContainer6.subscribe('change',function(q,r){if(r[this.props.listItemKey]){var s=c('PagesManagerMessagingMessagelistStore').getMessagelist(this.props.pageID,this.props.listItemKey),t=this.$PagesManagerMessagingDetailContainer11(this.props.listItemKey,s);c('PagesManagerMessagingMessagelistAction').updateReadReceipts(this.props.pageID,this.props.listItemKey,t);}}.bind(this)));};m.prototype.$PagesManagerMessagingDetailContainer15=function(){'use strict';var n=c('PagesManagerMessagingFilterStore').getActiveFilterName();if(!this.props.listItemKey||n===c('MessagingTag').UNREAD)return;c('PagesManagerMessagingThreadInteractionHelper').handleUnreadStateUpdate(this.props.listItemKey,this.props.pageID,n);c('PagesManagerMessagingThreadInteractionHelper').handlePermalinkUpdate(this.props.listItemKey,this.props.pageID);};m.prototype.$PagesManagerMessagingDetailContainer16=function(){'use strict';if(!this.state.isLoadingMore)if(this.getMessageStore().fetchMoreMessages()){c('PagesManagerMessagingMessagelistAction').setIsLoading(false);c('PagesManagerMessagingMessagelistAction').setIsLoadingMore(true);}};m.prototype.$PagesManagerMessagingDetailContainer17=function(){'use strict';return (c('React').createElement(c('PagesManagerMessagingMessageList.react'),babelHelpers['extends']({},this.props,{initLoading:this.state.isLoading,isLoadingMore:this.state.isLoadingMore,messagelist:c('immutable').List(this.state.messagelist),fetchEarlierMessages:function(){return this.$PagesManagerMessagingDetailContainer16();}.bind(this),readReceipts:this.state.readReceipts,scrollHeight:this.state.scrollHeight,threadID:this.state.threadID,thread:this.state.thread})));};m.prototype.$PagesManagerMessagingDetailContainer18=function(n){'use strict';if(!this.state.isContextCardEnabled)return null;var o=n;if(this.props.config.enableUpdatedUI){var p=0;if(this.refs.threadTitle)p=c('Vector').getElementDimensions(c('ReactDOM').findDOMNode(this.refs.threadTitle)).y;o+=p;}return (c('React').createElement(l,{alignv:'middle',className:"_2utd"+(this.state.hideContextCard?' '+"hidden_elem":'')},c('React').createElement(c('BootloadedComponent.react'),{bootloadPlaceholder:c('React').createElement('div',{className:"hidden_elem"}),bootloadLoader:c('JSResource')('PagesMessengerContextCardContainer.react'),pageID:this.props.pageID,userID:this.state.thread&&this.state.thread.other_user_fbid,scrollHeight:o,updatedUI:this.props.config.enableUpdatedUI})));};m.prototype.$PagesManagerMessagingDetailContainer19=function(){'use strict';if(!this.props.config.enableNotes)return null;var n=i._("Agregar nota");return (c('React').createElement('div',{className:"_iif"},c('React').createElement(c('XUIButton.react'),{label:n,onClick:function(o){return this.setState({isPageAdminNoteMode:true});}.bind(this)})));};m.prototype.$PagesManagerMessagingDetailContainer20=function(){'use strict';this.setState({isPageAdminNoteMode:false});};m.prototype.$PagesManagerMessagingDetailContainer21=function(){'use strict';return (this.props.config.enableComposer&&!this.state.isPageAdminNoteMode);};m.prototype.$PagesManagerMessagingDetailContainer22=function(){'use strict';return (this.props.config.enableComposer&&this.state.isPageAdminNoteMode);};m.prototype.render=function(){'use strict';return (c('React').createElement('div',null,this.props.config.enableUpdatedUI?c('React').createElement('div',null):c('React').createElement(c('PagesManagerMessagingThreadTitle.react'),{pageID:this.props.pageID,isContextCardEnabled:this.state.isContextCardEnabled,isContextCardHidden:this.state.hideContextCard,isBanFromPageEnabled:!this.state.isUserBanned,onIconClick:function(){return this.$PagesManagerMessagingDetailContainer23();}.bind(this),ref:'threadTitle',thread:this.state.thread}),c('React').createElement(c('Grid.react'),{alignv:'top',className:"_2utb",cols:this.state.isContextCardEnabled?2:1},c('React').createElement(l,{className:"_2utc"},!this.props.config.enableUpdatedUI?c('React').createElement('div',null):c('React').createElement(c('PagesManagerMessagingThreadTitle.react'),{pageID:this.props.pageID,isContextCardEnabled:this.state.isContextCardEnabled,isContextCardHidden:this.state.hideContextCard,isBanFromPageEnabled:!this.state.isUserBanned,onIconClick:function(){return this.$PagesManagerMessagingDetailContainer23();}.bind(this),ref:'threadTitle',thread:this.state.thread,updatedUI:true}),this.$PagesManagerMessagingDetailContainer17(),this.$PagesManagerMessagingDetailContainer19()),this.$PagesManagerMessagingDetailContainer18(this.state.scrollHeight)),c('React').createElement('div',{className:!this.$PagesManagerMessagingDetailContainer21()?"hidden_elem":''},c('React').createElement(c('PagesManagerMessagingComposerContainer.react'),{canUseHotlike:this.props.config.enableHotLike,canUseOmnipicker:this.props.config.enableOmnipicker,creatorInfo:this.props.config.creatorInfo,onInitialRender:function(){return this.$PagesManagerMessagingDetailContainer7();}.bind(this),onMessageOrAttachmentUpdate:function(){return this.$PagesManagerMessagingDetailContainer7();}.bind(this),onFocus:function(){return this.$PagesManagerMessagingDetailContainer15();}.bind(this),recipientID:this.state.thread?this.state.thread.other_user_fbid.toString():null,ref:'composer',threadElementID:this.state.threadID,threadID:this.state.threadID,userID:this.props.pageID})),c('React').createElement('div',{className:!this.$PagesManagerMessagingDetailContainer22()?"hidden_elem":''},c('React').createElement(c('PagesManagerMessagingNoteComposerContainer.react'),{creatorInfo:this.props.config.creatorInfo,key:'notecomposer',onDisablePageAdminNoteMode:function(){return (this.$PagesManagerMessagingDetailContainer20());}.bind(this),onMessageOrAttachmentUpdate:function(){return this.$PagesManagerMessagingDetailContainer7();}.bind(this),ref:'noteComposer',threadID:this.state.threadID,userID:this.props.pageID}))));};f.exports=c('FluxContainer').create(m,{withProps:true});},null);
__d('PagesManagerMessagingNotificationCountSubscriber',['Map','MercuryThreadInformer','PagesManagerMessagingFilterActions'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={_pageIDTokenMap:new (c('Map'))(),enableRealtimeNotificationCountUpdates:function(i){var j=h._pageIDTokenMap;if(j.has(i))return;var k=c('MercuryThreadInformer').getForFBID(i),l=k.subscribe('unread-updated',function(m,n){c('PagesManagerMessagingFilterActions').notifyNotificationCountChanged(i);});j.set(i,l);},disableRealtimeNotificationCountUpdates:function(i){var j=h._pageIDTokenMap;if(!j.has(i))return;var k=j.get(i);c('MercuryThreadInformer').getForFBID(i).unsubscribe(k);j['delete'](k);}};f.exports=h;},null);
__d('PagesManagerNavigationView.react',['cx','invariant','ContextualDialogArrow','ContextualLayerAutoFlip','Map','PagesManagerNavigationUnit','PopoverMenu.react','React','ReactXUIMenu','immutable'],function a(b,c,d,e,f,g,h,i){var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('ReactXUIMenu').Item,m=c('immutable').List;j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(o,p){'use strict';k.constructor.call(this,o,p);this.$PagesManagerNavigationView1=this.$PagesManagerNavigationView1.bind(this);this.$PagesManagerNavigationView2=this.$PagesManagerNavigationView2.bind(this);}n.prototype.$PagesManagerNavigationView3=function(o){'use strict';var p=this.$PagesManagerNavigationView4(o,this.props.tabbarUnits);if(p)return p;p=this.$PagesManagerNavigationView4(o,this.props.dropdownUnits);if(p)return p;i(0);};n.prototype.$PagesManagerNavigationView4=function(o,p){'use strict';var q=p.filter(function(r){return r.getKey()===o;});if(q.count()>0)return q.get(0);};n.prototype.$PagesManagerNavigationView1=function(o,p){'use strict';this.props.onUnitSelected(this.$PagesManagerNavigationView3(p.item.getValue()));};n.prototype.render=function(){'use strict';return (c('React').createElement('div',{className:"_-7a"},this.$PagesManagerNavigationView5(),this.$PagesManagerNavigationView6()));};n.prototype.$PagesManagerNavigationView2=function(o){'use strict';return (c('React').createElement(l,{key:o.getKey(),value:o.getKey()},c('React').createElement('div',{className:"_-7b"},o.getDisplayTitle())));};n.prototype.$PagesManagerNavigationView5=function(){'use strict';var o=this.props.activeDropdownUnit;if(this.props.dropdownUnits.size===0||!o)return null;var p=c('React').createElement(c('ReactXUIMenu'),{onItemClick:this.$PagesManagerNavigationView1},this.props.dropdownUnits.map(this.$PagesManagerNavigationView2));return (c('React').createElement(c('PopoverMenu.react'),{layerBehaviors:[c('ContextualDialogArrow'),c('ContextualLayerAutoFlip')],menu:p},c('React').createElement('div',{className:"_-7c"},o.getDisplayTitle())));};n.prototype.$PagesManagerNavigationView7=function(o){'use strict';var p=this.props.unitNotificationCountMap.get(o);return (c('React').createElement('div',babelHelpers['extends']({},this.props,{className:"_-7d"+(' '+"_-7e")+(o===this.props.activeTabbarUnit?' '+"_-7f":''),onClick:function(){return this.props.onUnitSelected(o);}.bind(this),key:o.getKey()}),c('React').createElement('div',{className:"_-7g _-7e"},o.getDisplayTitle().toString().toUpperCase()),c('React').createElement('div',{className:"_-7h"+(' '+"_-7e")+(p===0?' '+"hidden_elem":'')},p)));};n.prototype.$PagesManagerNavigationView6=function(){'use strict';return this.props.tabbarUnits.map(function(o){return this.$PagesManagerNavigationView7(o);}.bind(this));};f.exports=n;},null);
__d('PagesManagerMessagingFilterContainer.react',['PagesManagerMessagingFilterStore','FluxContainer','immutable','Map','PagesManagerMessagingFilterActions','PagesManagerMessagingNotificationCountSubscriber','PagesManagerNavigationUnit','PagesManagerNavigationView.react','React'],function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('immutable').List;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;function k(l){i.constructor.call(this,l);this.$PagesManagerMessagingFilterContainer1=function(m){c('PagesManagerMessagingFilterActions').changeFilter(this.props.pageID,m);}.bind(this);}k.getStores=function(){return [c('PagesManagerMessagingFilterStore')];};k.calculateState=function(l,m){return {activeFolder:c('PagesManagerMessagingFilterStore').getActiveFolder(),activeFilter:c('PagesManagerMessagingFilterStore').getActiveFilter(),folders:c('PagesManagerMessagingFilterStore').getAvailableFolders(),filters:c('PagesManagerMessagingFilterStore').getAvailableFilters(),unitNotificationCountMap:c('PagesManagerMessagingFilterStore').getUnitNotificationCountMap(m.pageID)};};k.prototype.componentWillMount=function(){c('PagesManagerMessagingNotificationCountSubscriber').enableRealtimeNotificationCountUpdates(this.props.pageID);};k.prototype.componentWillUnmount=function(){c('PagesManagerMessagingNotificationCountSubscriber').disableRealtimeNotificationCountUpdates(this.props.pageID);};k.prototype.render=function(){return (c('React').createElement(c('PagesManagerNavigationView.react'),{activeDropdownUnit:this.state.activeFolder,activeTabbarUnit:this.state.activeFilter,tabbarUnits:this.state.filters,dropdownUnits:this.state.folders,unitNotificationCountMap:this.state.unitNotificationCountMap,onUnitSelected:this.$PagesManagerMessagingFilterContainer1}));};f.exports=c('FluxContainer').create(k,{withProps:true});},null);
__d('PagesManagerAwayToggle.react',['cx','fbt','PagesManagerAwayToggleAction','BUISwitch.react','React','Tooltip'],function a(b,c,d,e,f,g,h,i){var j,k;if(c.__markCompiled)c.__markCompiled();j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;l.prototype.$PagesManagerAwayToggle1=function(m){'use strict';c('PagesManagerAwayToggleAction').setToggleStatus(this.props.pageID,m);};l.prototype.render=function(){'use strict';var m=i._("\u00bfVas a salir? Configura el estado como \"Ausente\" durante 12 horas. C\u00e1mbialo si vuelves antes."),n=i._(["Ausente","8e0d60b5f4f0e61653bc5fce6cfff526"]);return (c('React').createElement('div',{className:"_4cdp"},c('React').createElement('div',{className:"_ast"},c('React').createElement(c('BUISwitch.react'),babelHelpers['extends']({onToggle:function(o){return this.$PagesManagerAwayToggle1(o);}.bind(this),value:this.props.isAway},c('Tooltip').propsFor(m)))),c('React').createElement('div',{className:"_asu"},n.toUpperCase())));};function l(){'use strict';j.apply(this,arguments);}f.exports=l;},null);
__d('PagesManagerMessagingBatchActionHeader.react',['cx','fbt','PagesManagerMessagingBatchActionMenu.react','PagesMessagingActionPlacement','React','XUIPopoverButton.react'],function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;l.prototype.render=function(){return (c('React').createElement(c('PagesManagerMessagingBatchActionMenu.react'),babelHelpers['extends']({layerBehaviors:[],placement:c('PagesMessagingActionPlacement').THREAD_LIST_BATCH_ACTION},this.props),c('React').createElement(c('XUIPopoverButton.react'),{className:"_3640",label:i._("Acciones")})));};function l(){j.apply(this,arguments);}f.exports=l;},null);
__d('PagesManagerMessagingBatchActionHeaderContainer.react',['FluxContainer','MercuryPageThreadActions','MercuryThreads','PagesManagerMessagingNavigationUnitKey','PagesManagerMessagingBatchActionHeader.react','PagesManagerMessagingFilterStore','PagesMessengerThreadUtils','React'],function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;function j(k,l){i.constructor.call(this,k,l);this.$PagesManagerMessagingBatchActionHeaderContainer1=c('MercuryPageThreadActions').getForFBID(k.pageID);}j.getStores=function(){return [c('PagesManagerMessagingFilterStore')];};j.calculateState=function(k,l){var m=c('PagesManagerMessagingFilterStore').getActiveFolderName(),n=c('PagesManagerMessagingFilterStore').getActiveFilterName(),o=c('MercuryThreads').getForFBID(l.pageID),p=false,q=false,r=false,s=false,t=false,u=false,v=false,w=false,x=false,y=0,z=0;l.selectedRows.forEach(function(ba){var ca=o.getThreadMetaNow(ba);if(c('PagesMessengerThreadUtils').isFlagThread(ca))y++;if(ca&&ca.unread_count===0)z++;});var aa=l.selectedRows.length;if(m===c('PagesManagerMessagingNavigationUnitKey').FOLDERS.INBOX&&n===c('PagesManagerMessagingNavigationUnitKey').FILTERS.ALL){p=true;s=true;u=aa-y>0;v=y>0;w=z<aa;x=z>0;}else if(m===c('PagesManagerMessagingNavigationUnitKey').FOLDERS.ARCHIVED&&n===c('PagesManagerMessagingNavigationUnitKey').FILTERS.ALL){q=true;r=true;}else if(m===c('PagesManagerMessagingNavigationUnitKey').FOLDERS.SPAM&&n===c('PagesManagerMessagingNavigationUnitKey').FILTERS.ALL){t=true;}else if(n===c('PagesManagerMessagingNavigationUnitKey').FILTERS.FLAGGED&&m===c('PagesManagerMessagingNavigationUnitKey').FOLDERS.INBOX){v=true;}else if(n===c('PagesManagerMessagingNavigationUnitKey').FILTERS.UNREAD&&m===c('PagesManagerMessagingNavigationUnitKey').FOLDERS.INBOX)w=true;return {inlineActionParam:{showArchive:p,showDelete:q,showUnarchive:r,showSpam:s,showUnspam:t,showFlag:u,showUnflag:v,showMarkRead:w,showMarkUnread:x}};};j.prototype.$PagesManagerMessagingBatchActionHeaderContainer2=function(){this.props.onSelectionClear();};j.prototype.render=function(){return (c('React').createElement(c('PagesManagerMessagingBatchActionHeader.react'),babelHelpers['extends']({onSelectionClear:function(){return this.$PagesManagerMessagingBatchActionHeaderContainer2();}.bind(this),pageID:this.props.pageID,showBatchAction:this.props.showBatchAction,selectedRows:this.props.selectedRows},this.state)));};f.exports=c('FluxContainer').create(j,{withProps:true});},null);
__d('PagesManagerMessagingFilterPanel.react',['cx','fbt','immutable','LeftRight.react','Link.react','PageCustomTagSearchSource','PageCustomTagSearchableEntry','PagesContextCardCustomTag.react','PagesEnumTag.react','PagesManagerCustomTagsAction','PagesManagerMessagingFilterActions','PagesManagerMessagingThreadlistAction','React','ReactDOM','SearchableTextInput.react','ScrollableArea.react','Vector','nullthrows'],function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();var l=45;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(n){k.constructor.call(this,n);this.state={tagQuery:'',tagQueryResult:null};this.$PagesManagerMessagingFilterPanel1=this.$PagesManagerMessagingFilterPanel1.bind(this);this.$PagesManagerMessagingFilterPanel2=this.$PagesManagerMessagingFilterPanel2.bind(this);this.$PagesManagerMessagingFilterPanel3=this.$PagesManagerMessagingFilterPanel3.bind(this);this.$PagesManagerMessagingFilterPanel4=this.$PagesManagerMessagingFilterPanel4.bind(this);this.$PagesManagerMessagingFilterPanel5=this.$PagesManagerMessagingFilterPanel5.bind(this);this.$PagesManagerMessagingFilterPanel6=this.$PagesManagerMessagingFilterPanel6.bind(this);}m.prototype.$PagesManagerMessagingFilterPanel1=function(n){c('PagesManagerMessagingFilterActions').changeFilter(this.props.pageID,n);};m.prototype.$PagesManagerMessagingFilterPanel2=function(n){this.setState({tagQuery:'',tagQueryResult:null});c('PagesManagerMessagingThreadlistAction').addSearchCustomTag(this.props.pageID,n.name);};m.prototype.$PagesManagerMessagingFilterPanel7=function(){var n=this.props.height-l,o=c('ReactDOM').findDOMNode(this.refs.header);if(o!==null)n-=c('Vector').getElementDimensions(o).y;var p=c('ReactDOM').findDOMNode(this.refs.searchBar);if(p!==null)n-=c('Vector').getElementDimensions(p).y;return n;};m.prototype.$PagesManagerMessagingFilterPanel4=function(event){this.setState({tagQuery:event.target.value});};m.prototype.$PagesManagerMessagingFilterPanel3=function(n,o){if(o===this.state.tagQuery)this.setState({tagQueryResult:n.map(function(p){return p.getTitle();})});};m.prototype.$PagesManagerMessagingFilterPanel8=function(n){return (c('React').createElement(c('LeftRight.react'),{className:"_3v0k",key:n.getKey()},c('React').createElement(c('PagesEnumTag.react'),{onClick:this.$PagesManagerMessagingFilterPanel1,unit:n})));};m.prototype.$PagesManagerMessagingFilterPanel5=function(n){return (c('React').createElement(c('LeftRight.react'),{className:"_3v0k",key:n.id},c('React').createElement(c('PagesContextCardCustomTag.react'),{canRemove:false,key:n.id,tagData:n,onClick:this.$PagesManagerMessagingFilterPanel2})));};m.prototype.$PagesManagerMessagingFilterPanel9=function(){var n=[],o=this.props.currentSearchCustomTagNames;if(this.state.tagQuery!==''&&this.state.tagQueryResult!==null){c('nullthrows')(this.state.tagQueryResult).map(function(q){if(!o.contains(q)&&this.props.customTags.has(q))n.push(this.$PagesManagerMessagingFilterPanel5(this.props.customTags.get(q)));}.bind(this));}else{if(this.props.enumTags)this.props.enumTags.forEach(function(q){n.push(this.$PagesManagerMessagingFilterPanel8(q));}.bind(this));var p=this.$PagesManagerMessagingFilterPanel5;this.props.customTags.forEach(function(q){if(!o.contains(q.name))n.push(p(q));},o,p);}return (c('React').createElement(c('ScrollableArea.react'),{className:"_3v0j",height:this.$PagesManagerMessagingFilterPanel7(),key:'tagList'},n));};m.prototype.$PagesManagerMessagingFilterPanel6=function(){c('PagesManagerCustomTagsAction').toggleTagManagementDialog(this.props.pageID,true);};m.prototype.render=function(){return (c('React').createElement('div',{className:"_5xjz",style:{height:this.props.height-l+'px'}},c('React').createElement(c('LeftRight.react'),{className:"_5xj_",ref:'header'},i._("ETIQUETAS"),this.props.enableManageTags?c('React').createElement(c('Link.react'),{onClick:this.$PagesManagerMessagingFilterPanel6},i._("Administrar")):c('React').createElement('span',null)),c('React').createElement(c('SearchableTextInput.react'),{className:"_30p_",onChange:this.$PagesManagerMessagingFilterPanel4,onEntriesFound:this.$PagesManagerMessagingFilterPanel3,placeholder:i._("Buscar etiquetas..."),queryString:this.state.tagQuery,searchSource:c('PageCustomTagSearchSource').getInstance(this.props.customTags.toArray(),false),ref:'searchBar'}),this.$PagesManagerMessagingFilterPanel9()));};f.exports=m;},null);
__d('PagesManagerMessagingFilterPanelContainer.react',['PagesManagerMessagingFilterStore','FluxContainer','immutable','PagesManagerCustomTagsAction','PagesManagerCustomTagsStore','PagesManagerMessagingFilterPanel.react','PagesManagerMessagingNavigationUnitKey','PagesManagerMessagingSearchStore','React'],function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('PagesManagerMessagingNavigationUnitKey').FILTERS;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;function k(l){i.constructor.call(this,l);}k.getStores=function(){return [c('PagesManagerMessagingFilterStore'),c('PagesManagerCustomTagsStore'),c('PagesManagerMessagingSearchStore')];};k.prototype.componentWillMount=function(){if(!c('PagesManagerCustomTagsStore').hasCustomTags(this.props.pageID))c('PagesManagerCustomTagsAction').fetch(this.props.pageID);};k.calculateState=function(l,m){return {currentSearchCustomTagNames:c('PagesManagerMessagingSearchStore').getCurrentSearchCustomTagNames(),customTags:c('PagesManagerCustomTagsStore').getCustomTags(m.pageID)};};k.prototype.render=function(){var l=[];if(c('PagesManagerMessagingFilterStore').getActiveFilterName()===j.ALL&&this.state.currentSearchCustomTagNames.size===0){var m=c('PagesManagerMessagingFilterStore').getAvailableFilters();l=m.filter(function(n){return n.getKey()===j.FLAGGED;});}return (c('React').createElement(c('PagesManagerMessagingFilterPanel.react'),{pageID:this.props.pageID,currentSearchCustomTagNames:this.state.currentSearchCustomTagNames,customTags:this.state.customTags,enumTags:l,height:this.props.height,enableManageTags:this.props.enableManageTags}));};f.exports=c('FluxContainer').create(k,{withProps:true});},null);
__d('PagesManagerMessagingFilterPanelSwitch.react',['cx','fbt','xuiglyph','ContextualDialogArrow','ContextualLayer.react','Image.react','PagesManagerMessagingFilterActions','PagesManagerMessagingFilterPanelContainer.react','React'],function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l;if(c.__markCompiled)c.__markCompiled();var m=j({name:'chevron-down',shade:'dark'}),n=j({name:'chevron-down',shade:'light'});k=babelHelpers.inherits(o,c('React').Component);l=k&&k.prototype;function o(p){l.constructor.call(this,p);this.$PagesManagerMessagingFilterPanelSwitch1=this.$PagesManagerMessagingFilterPanelSwitch1.bind(this);}o.prototype.$PagesManagerMessagingFilterPanelSwitch1=function(){c('PagesManagerMessagingFilterActions').toggleFilterPanel(this.props.pageID,!this.props.isFiltering);};o.prototype.render=function(){return (c('React').createElement('span',null,c('React').createElement('span',{className:"_5pwy",onClick:this.$PagesManagerMessagingFilterPanelSwitch1,ref:'contextRef'},c('React').createElement('span',{className:"_5pwz"+(this.props.isFiltering?' '+"_5px3":'')},i._("Filtrar")),c('React').createElement(c('Image.react'),{className:"_5px4",src:this.props.isFiltering?m:n})),c('React').createElement(c('ContextualLayer.react'),{alignment:'right',containerWidthMatchContext:false,contextRef:function(){return this.refs.contextRef;}.bind(this),layerBehaviors:[c('ContextualDialogArrow')],shown:this.props.isFiltering,offsetX:16,offsetY:16,position:'below'},c('React').createElement(c('PagesManagerMessagingFilterPanelContainer.react'),{pageID:this.props.pageID,height:this.props.height,enableManageTags:this.props.enableManageTags}))));};f.exports=o;},null);
__d('MercuryPageSeenIndicator.react',['cx','MercuryIDs','MercurySeenIndicator.react','React'],function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.render=function(){if(this.props.snippetSearchResult){var l=this.props.snippetSearchResult.num_total_snippets;if(l===1){var m=this.props.snippetSearchResult.snippets[0].author,n=c('MercuryIDs').getParticipantIDFromUserID(this.props.viewer);if(m===n)return (c('React').createElement('span',{className:"_3jy5 repliedLast"}));}return (c('React').createElement('span',null));}else return (c('React').createElement(c('MercurySeenIndicator.react'),{thread:this.props.thread,viewer:this.props.viewer}));};function k(){i.apply(this,arguments);}f.exports=k;},null);
__d('MercuryPageThreadTitle.react',['DOM','MercuryMessageRenderer','MercuryThreadTitle.react','React','ReactDOM'],function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('MercuryThreadTitle.react'));i=h&&h.prototype;j.prototype.render=function(){return (c('React').createElement('div',{className:this.props.className},c('React').createElement('span',{ref:'title'})));};j.prototype.componentDidUpdate=function(){var k=this.props.thread.name?this.$MercuryPageThreadTitle1():this.state.participantNames;if(this.props.useHighlightTitle){var l=k.toLowerCase().search(this.props.highlightText.toLowerCase()),m={};m[l]=this.props.highlightText;k=c('MercuryMessageRenderer').formatMessageBody(k,m);}c('DOM').setContent(c('ReactDOM').findDOMNode(this.refs.title),k);};function j(){h.apply(this,arguments);}j.defaultProps={isNewThread:false,showUnreadCount:false,useShortName:false,useAndSeparator:false};f.exports=j;},null);
__d('PagesManagerMessagingListRow.react',['cx','fbt','ContextualDialogArrow','ContextualLayerAutoFlip','CSS','PagesManagerMessagingFilterStore','Image.react','Layout.react','Link.react','MercuryPageSeenIndicator.react','MercuryThreadSnippet.react','MercuryThreadTimestamp.react','MercuryPageThreadTitle.react','PagesContextCardCustomTag.react','PagesEnumTag.react','PagesMessagingActionPlacement','PagesSelectableListRow.react','PagesManagerMessagingBatchActionMenu.react','React','XUIBadge.react','PagesManagerMessagingNavigationUnitKey'],function a(b,c,d,e,f,g,h,i){var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('Layout.react').Column,m=c('Layout.react').FillColumn,n=2;j=babelHelpers.inherits(o,c('React').Component);k=j&&j.prototype;function o(p){'use strict';k.constructor.call(this,p);this.state={menuShown:false,tagBlockCollapsed:true};this.$PagesManagerMessagingListRow1=this.$PagesManagerMessagingListRow1.bind(this);}o.prototype.renderSnippetSearchResult=function(){'use strict';var p=this.props.snippetSearchResult.num_total_snippets;if(p===1){return (c('React').createElement('div',null,this.props.snippetSearchResult.snippets[0].body));}else return (c('React').createElement('div',null,i._("Se han encontrado {number of messages found} resultados",[i.param('number of messages found',p)])));};o.prototype.$PagesManagerMessagingListRow2=function(){'use strict';return (c('React').createElement('div',null,c('React').createElement(c('Layout.react'),null,c('React').createElement(l,null,c('React').createElement(c('MercuryPageThreadTitle.react'),{className:"_1a_3",highlightText:this.props.highlightText,showUnreadCount:false,thread:this.props.thread,useShortName:false,useHighlightTitle:this.props.useHighlightTitle,viewer:this.props.pageID})),c('React').createElement(m,null),c('React').createElement(l,{className:"_55hu"+(this.props.isFlagged?' '+"_1hog":'')},c('React').createElement(c('MercuryThreadTimestamp.react'),{time:this.props.thread.timestamp,title:this.props.thread.timestamp_absolute,text:this.props.thread.timestamp_relative}))),c('React').createElement(c('Layout.react'),{className:"_1a_6"},c('React').createElement(l,{className:"_1hgx"},c('React').createElement(c('MercuryPageSeenIndicator.react'),{snippetSearchResult:this.props.snippetSearchResult,thread:this.props.thread,viewer:this.props.pageID})),c('React').createElement(m,{className:"_1a_7"},this.props.snippetSearchResult?this.renderSnippetSearchResult():c('React').createElement(c('MercuryThreadSnippet.react'),{participants:this.props.participants,shouldRenderYou:false,thread:this.props.thread,viewer:this.props.pageID})),c('React').createElement(l,null,c('React').createElement(c('PagesManagerMessagingBatchActionMenu.react'),{alignh:'right',layerBehaviors:[c('ContextualDialogArrow'),c('ContextualLayerAutoFlip')],onHide:function(){this.setState({menuShown:false});}.bind(this),onShow:function(){this.setState({menuShown:true});}.bind(this),pageID:this.props.pageID,inlineActionParam:this.props.inlineActionParam,placement:c('PagesMessagingActionPlacement').THREAD_ROW_ACTION_ICON,selectedRows:[this.props.thread.thread_id],showBatchAction:true},c('React').createElement('span',{className:"_4hq1",onClick:function(event){return event.stopPropagation();}}))))));};o.prototype.$PagesManagerMessagingListRow1=function(){'use strict';this.setState({tagBlockCollapsed:false});};o.prototype.$PagesManagerMessagingListRow3=function(){'use strict';if(!this.props.updatedUI&&this.props.customTagsData.length===0&&!this.props.isFlagged)return null;var p=this.props.customTagsData,q=null,r=null;if(this.props.isFlagged)r=c('React').createElement(c('PagesEnumTag.react'),{unit:c('PagesManagerMessagingFilterStore').getFilterByKey(c('PagesManagerMessagingNavigationUnitKey').FILTERS.FLAGGED)});var s=this.props.isFlagged?n-1:n;if(this.state.tagBlockCollapsed&&p.length>s){p=p.slice(0,s);q=c('React').createElement(c('Link.react'),{className:"_1bi6",onClick:this.$PagesManagerMessagingListRow1},i._("...ver todo"));}return (c('React').createElement('div',null,r,p.map(function(t){return (c('React').createElement(c('PagesContextCardCustomTag.react'),{key:t.name,canRemove:false,tagData:t}));}),q));};o.prototype.$PagesManagerMessagingListRow4=function(){'use strict';return (c('React').createElement('div',null,this.props.imageSource?c('React').createElement(c('Image.react'),{className:"_2fp5",src:this.props.imageSource}):c('React').createElement('div',{className:"_2fp5"}),c('React').createElement('div',{className:"_55hu"},c('React').createElement(c('MercuryThreadTimestamp.react'),{time:this.props.thread.timestamp,title:this.props.thread.timestamp_absolute,text:this.props.thread.timestamp_relative})),c('React').createElement(c('Layout.react'),null,c('React').createElement(m,{className:"_2fp6"},c('React').createElement(c('MercuryPageThreadTitle.react'),{className:"_1a_3",highlightText:this.props.highlightText,showUnreadCount:false,thread:this.props.thread,useShortName:false,useHighlightTitle:this.props.useHighlightTitle,viewer:this.props.pageID}),c('React').createElement('div',{className:"_1a_7"},this.props.snippetSearchResult?this.renderSnippetSearchResult():c('React').createElement(c('MercuryThreadSnippet.react'),{participants:this.props.participants,shouldRenderYou:false,thread:this.props.thread,viewer:this.props.pageID})),this.$PagesManagerMessagingListRow3()),c('React').createElement(l,{className:"_2fp8"},this.props.thread.unread_count>0?c('React').createElement('div',{className:"_2fp9"},c('React').createElement(c('XUIBadge.react'),{count:this.props.thread.unread_count,maxcount:99})):c('React').createElement('div',{className:"_2fpa"},c('React').createElement(c('MercuryPageSeenIndicator.react'),{snippetSearchResult:this.props.snippetSearchResult,thread:this.props.thread,viewer:this.props.pageID})),c('React').createElement(c('PagesManagerMessagingBatchActionMenu.react'),{alignh:'right',layerBehaviors:[c('ContextualDialogArrow'),c('ContextualLayerAutoFlip')],onHide:function(){this.setState({menuShown:false});}.bind(this),onShow:function(){this.setState({menuShown:true});}.bind(this),pageID:this.props.pageID,inlineActionParam:this.props.inlineActionParam,placement:c('PagesMessagingActionPlacement').THREAD_ROW_ACTION_ICON,selectedRows:[this.props.thread.thread_id],showBatchAction:true},c('React').createElement('span',{className:"_4hq1",onClick:function(event){return event.stopPropagation();}}))))));};o.prototype.render=function(){'use strict';return (c('React').createElement(c('PagesSelectableListRow.react'),{disabled:this.props.disableCheckBox,onSelected:this.props.onSelected,onClick:function(event){if(c('CSS').hasClass(event.target.parentElement,"_4vbb"))return;this.props.onViewingListItem(this.props.listItem);}.bind(this),selected:this.props.selected,className:"_1a_0"+(this.props.isUnread?' '+"_1a_1":'')+(this.props.isViewing&&!this.props.selected?' '+"_3wxb":'')+(this.state.menuShown?' '+"_1hgw":'')+(' '+"_o3f")+(this.props.config.enableUpdatedUI?' '+"_2fpb":'')+(this.props.config.enableUpdatedUI&&this.props.selectionMode?' '+"_ptw":'')},c('React').createElement('div',{className:"_5x5y"+(!this.props.isFlagged||this.props.config.enableUpdatedUI?' '+"hidden_elem":'')}),this.props.config.enableUpdatedUI?this.$PagesManagerMessagingListRow4():this.$PagesManagerMessagingListRow2()));};o.defaultProps={disableCheckBox:false,useHighlightTitle:false};f.exports=o;},null);
__d('PagesManagerMessagingListRowContainer.react',['immutable','PagesManagerMessagingListRow.react','MercuryIDs','MercuryParticipants','MercuryThreads','PagesManagerCustomTagsStore','PagesManagerMessagingFilterStore','PagesManagerMessagingThreadInteractionHelper','PagesMessengerThreadUtils','React'],function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('immutable').Map;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;function k(l){'use strict';i.constructor.call(this,l);this.$PagesManagerMessagingListRowContainer1=this.$PagesManagerMessagingListRowContainer1.bind(this);}k.prototype.componentWillMount=function(){'use strict';var l=c('MercuryThreads').getForFBID(this.props.pageID).getThreadMetaNow(this.props.listItem),m=c('MercuryIDs').getParticipantIDFromUserID(l.other_user_fbid);c('MercuryParticipants').get(m,function(n){this.setState({imageSource:n.image_src});}.bind(this));this.setState({inlineActionParam:c('PagesMessengerThreadUtils').getBatchActionMenuParam(l),thread:l,participants:j(c('immutable').Seq(l.participants).map(function(n){return [n,c('MercuryParticipants').getOrFetch(n)];}))});};k.prototype.render=function(){'use strict';var l=this.state.thread.unread_count&&this.state.thread.unread_count>0,m=this.state.thread.page_thread_info&&this.state.thread.page_thread_info.flagged,n=this.state.thread.page_thread_info&&this.state.thread.page_thread_info.customTagNames,o=c('PagesManagerCustomTagsStore').getCustomTags(this.props.pageID),p=(n||[]).map(function(t){return o.get(t);}),q=this.props,r=q.onViewingListItem,s=babelHelpers.objectWithoutProperties(q,['onViewingListItem']);return (c('React').createElement(c('PagesManagerMessagingListRow.react'),babelHelpers['extends']({customTagsData:p,imageSource:this.state.imageSource,isFlagged:m,isUnread:l,onViewingListItem:this.$PagesManagerMessagingListRowContainer1,thread:this.state.thread},s,this.state)));};k.prototype.updateThread=function(){'use strict';var l=c('MercuryThreads').getForFBID(this.props.pageID).getThreadMetaNow(this.props.listItem);this.setState({thread:l,inlineActionParam:c('PagesMessengerThreadUtils').getBatchActionMenuParam(l)});};k.prototype.$PagesManagerMessagingListRowContainer1=function(l){'use strict';c('PagesManagerMessagingThreadInteractionHelper').handleUnreadStateUpdate(l,this.props.pageID,c('PagesManagerMessagingFilterStore').getActiveFilterName());c('PagesManagerMessagingThreadInteractionHelper').handlePermalinkUpdate(l,this.props.pageID);this.props.onViewingListItem(l);};k.defaultProps={useHighlightTitle:false};f.exports=k;},null);
__d('PagesManagerMessagingSearchInput.react',['cx','fbt','ContextualLayer.react','LayerHideOnEscape','PageCustomTagSearchableEntry','PageCustomTagTypeaheadPresenter.react','React','SearchableTextInput.react','SearchableEntry','TokenizerToken.react','joinClasses'],function a(b,c,d,e,f,g,h,i){var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(n,o){'use strict';k.constructor.call(this,n,o);this.$PagesManagerMessagingSearchInput1=this.$PagesManagerMessagingSearchInput1.bind(this);this.$PagesManagerMessagingSearchInput2=this.$PagesManagerMessagingSearchInput2.bind(this);this.$PagesManagerMessagingSearchInput3=this.$PagesManagerMessagingSearchInput3.bind(this);this.$PagesManagerMessagingSearchInput4=this.$PagesManagerMessagingSearchInput4.bind(this);this.$PagesManagerMessagingSearchInput5=this.$PagesManagerMessagingSearchInput5.bind(this);this.$PagesManagerMessagingSearchInput6=this.$PagesManagerMessagingSearchInput6.bind(this);this.$PagesManagerMessagingSearchInput7=this.$PagesManagerMessagingSearchInput7.bind(this);this.state={query:'',showLayer:false,matchedLabels:[],highlightedEntry:{}};}m.prototype.$PagesManagerMessagingSearchInput1=function(){'use strict';this.setState({showLayer:false});};m.prototype.$PagesManagerMessagingSearchInput8=function(n,event){'use strict';this.setState({showLayer:false});switch(n){case 'message':this.props.searchMessage.call(this,event);break;case 'name':this.props.searchName.call(this,event);break;}};m.prototype.$PagesManagerMessagingSearchInput9=function(n){'use strict';return (c('React').createElement('div',{className:"_4j2v"},c('React').createElement('li',{className:"_4j2w",'data-query':this.state.query,onMouseDown:this.$PagesManagerMessagingSearchInput8.bind(this,'message')},i._("Mensajes que contienen \"{message search term}\"",[i.param('message search term',this.state.query)])),c('React').createElement('li',{className:"_4j2x",'data-query':this.state.query,onMouseDown:this.$PagesManagerMessagingSearchInput8.bind(this,'name')},i._("Nombres que contienen \"{message search term}\"",[i.param('message search term',this.state.query)]))));};m.prototype.$PagesManagerMessagingSearchInput10=function(n){'use strict';var o=this.state.matchedLabels.filter(function(q){return !n.hasOwnProperty(q.getUniqueID());});if(o.length==0){return c('React').createElement('div',null);}else{var p=c('PageCustomTagTypeaheadPresenter.react').ViewRenderer;return (c('React').createElement('div',null,c('React').createElement('li',{className:"_5n87"},i._("Etiquetas")),c('React').createElement(p,{entries:o,highlightedEntry:this.state.highlightedEntry,onHighlight:this.$PagesManagerMessagingSearchInput5,removeHighlight:this.$PagesManagerMessagingSearchInput6,onSelect:this.$PagesManagerMessagingSearchInput7,searchBar:true})));}};m.prototype.$PagesManagerMessagingSearchInput11=function(n,o){'use strict';var p=this.props.TokenRenderer||c('TokenizerToken.react'),q=c('joinClasses')("_2ei6",this.props.tokenClassName);return (c('React').createElement(p,{className:q,key:n.getUniqueID(),label:n.getTitle(),entry:n,index:o,onRemove:this.props.onRemove}));};m.prototype.$PagesManagerMessagingSearchInput2=function(n){'use strict';var o=n.target.value,p=true;if(o===''){p=false;this.props.onClear();}this.setState({query:o,showLayer:p});};m.prototype.$PagesManagerMessagingSearchInput3=function(n,o){'use strict';this.setState({matchedLabels:n});};m.prototype.$PagesManagerMessagingSearchInput4=function(){'use strict';if(this.state.query!==''){this.refs.input.getTextFieldDOM().select();this.setState({showLayer:true});}};m.prototype.$PagesManagerMessagingSearchInput5=function(n){'use strict';this.setState({highlightedEntry:n});};m.prototype.$PagesManagerMessagingSearchInput6=function(){'use strict';this.setState({highlightedEntry:{}});};m.prototype.$PagesManagerMessagingSearchInput7=function(n){'use strict';this.props.addCustomTag(n);this.setState({query:''});};m.prototype.render=function(){'use strict';var n=this.props.entries&&this.props.entries.length>0,o=this.props.entries.map(this.$PagesManagerMessagingSearchInput11,this),p={},q;if(n)for(var r=0,s=this.props.entries.length;r<s;r++){var t=this.props.entries[r];q=t.getUniqueID();p[q]=true;}var u=this.props,v=u.className,w=u.placeholder,x=babelHelpers.objectWithoutProperties(u,['className','placeholder']);v=c('joinClasses')("_29s6"+(n?' '+"_29s7":''),v);w=n?'':this.props.placeholder;return (c('React').createElement('div',{className:v},c('React').createElement('div',{className:"_29s8"},o),c('React').createElement(c('SearchableTextInput.react'),babelHelpers['extends']({onBlur:this.$PagesManagerMessagingSearchInput1,onChange:this.$PagesManagerMessagingSearchInput2,onFocus:this.$PagesManagerMessagingSearchInput4,onEntriesFound:this.$PagesManagerMessagingSearchInput3,placeholder:w,queryString:this.state.query,ref:'input'},x)),c('React').createElement(c('ContextualLayer.react'),{behaviors:{LayerHideOnEscape:c('LayerHideOnEscape')},containerWidthMatchContext:true,contextRef:this.props.contextRef,shown:this.state.showLayer,position:'below'},this.$PagesManagerMessagingSearchInput9(p))));};m.propTypes={addCustomTag:l.func,contextRef:l.func,searchMessage:l.func,searchName:l.func,textInputClassName:String,tokenClassName:String,TokenRenderer:l.element,entries:l.arrayOf(l.instanceOf(c('SearchableEntry')))};f.exports=m;},null);
__d('PagesManagerMessagingSearchView.react',['cx','fbt','ix','AbstractTextInput.react','AbstractTokenizer.react','PagesManagerMessagingFilterStore','Image.react','immutable','PageCustomTagSearchableEntry','PageCustomTagSearchSource','PageCustomTagTypeaheadPresenter.react','PagesContextCardCustomTagsBlock.react','PagesEnumTag.react','PagesManagerMessagingFilterActions','React','PagesManagerMessagingSearchInput.react','PagesMessagingSearchMode','PagesManagerMessagingThreadlistAction','PagesManagerMessagingNavigationUnitKey','XUICloseButton.react'],function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l;if(c.__markCompiled)c.__markCompiled();k=babelHelpers.inherits(m,c('React').Component);l=k&&k.prototype;function m(n,o){l.constructor.call(this,n,o);this.$PagesManagerMessagingSearchView1=function(p){c('PagesManagerMessagingThreadlistAction').changeSearchTerm(this.props.pageID,p.target.value,c('PagesManagerMessagingFilterStore').getActiveFolderName(),c('PagesMessagingSearchMode').ALL);}.bind(this);this.$PagesManagerMessagingSearchView2=function(){c('PagesManagerMessagingThreadlistAction').resetSearch(this.props.pageID);}.bind(this);this.$PagesManagerMessagingSearchView3=function(p){if(p.key==='Escape')c('PagesManagerMessagingThreadlistAction').resetSearch(this.props.pageID);}.bind(this);this.$PagesManagerMessagingSearchView4=this.$PagesManagerMessagingSearchView4.bind(this);this.$PagesManagerMessagingSearchView5=this.$PagesManagerMessagingSearchView5.bind(this);this.$PagesManagerMessagingSearchView10=this.$PagesManagerMessagingSearchView10.bind(this);this.$PagesManagerMessagingSearchView6=this.$PagesManagerMessagingSearchView6.bind(this);this.$PagesManagerMessagingSearchView8=function(p){c('PagesManagerMessagingThreadlistAction').changeSearchTerm(this.props.pageID,p.target.dataset.query,c('PagesManagerMessagingFilterStore').getActiveFolderName(),c('PagesMessagingSearchMode').NAME_SEARCH);this.setState({showLayer:false});}.bind(this);this.$PagesManagerMessagingSearchView9=function(p){c('PagesManagerMessagingThreadlistAction').changeSearchTerm(this.props.pageID,p.target.dataset.query,c('PagesManagerMessagingFilterStore').getActiveFolderName(),c('PagesMessagingSearchMode').MESSAGE_SEARCH);this.setState({showLayer:false});}.bind(this);this.$PagesManagerMessagingSearchView7=function(p){if(this.state.query!=='')this.setState({showLayer:true});}.bind(this);this.state={query:'',showLayer:false,highlightedEntry:{}};}m.prototype.$PagesManagerMessagingSearchView6=function(n){var o=n.target.value,p=true;if(o==='')p=false;this.setState({query:o,showLayer:p});};m.prototype.$PagesManagerMessagingSearchView4=function(n){c('PagesManagerMessagingThreadlistAction').addSearchCustomTag(this.props.pageID,n);};m.prototype.$PagesManagerMessagingSearchView5=function(n){c('PagesManagerMessagingThreadlistAction').removeSearchCustomTag(this.props.pageID,n);};m.prototype.$PagesManagerMessagingSearchView10=function(){c('PagesManagerMessagingFilterActions').changeFilter(this.props.pageID,c('PagesManagerMessagingFilterStore').getAvailableFilters().get(0));};m.prototype.$PagesManagerMessagingSearchView11=function(){var n=[];this.props.currentSearchCustomTagNames.toArray().map(function(o){if(this.props.customTagSearchSource.has(o))n.push(this.props.customTagSearchSource.get(o));}.bind(this));return n;};m.prototype.$PagesManagerMessagingSearchView12=function(){return this.$PagesManagerMessagingSearchView11().map(function(n){return new (c('PageCustomTagSearchableEntry'))(n);});};m.prototype.$PagesManagerMessagingSearchView13=function(){var n={};this.$PagesManagerMessagingSearchView12().map(function(o){n[o.getUniqueID()]=o;});return n;};m.prototype.$PagesManagerMessagingSearchView14=function(){var n=i._("Buscar mensajes...");if(this.props.enableSeparateSearch)n=i._("Search people and messages");if(!this.props.enableTagSearch||this.props.customTagSearchSource.count()===0){return (c('React').createElement('span',null,c('React').createElement(c('AbstractTextInput.react'),{className:"_5ptj",onChange:this.$PagesManagerMessagingSearchView1,onKeyDown:this.$PagesManagerMessagingSearchView3,placeholder:n,value:this.props.initSearchTerm}),c('React').createElement(c('XUICloseButton.react'),{className:"_3i2o",onClick:this.$PagesManagerMessagingSearchView2,size:'medium'})));}else if(this.props.enableSeparateSearch){return (c('React').createElement(c('PagesManagerMessagingSearchInput.react'),{addCustomTag:function(o){return this.$PagesManagerMessagingSearchView4(o.getTitle());}.bind(this),className:"_5ptj",contextRef:function(){return this.refs.input;}.bind(this),onClick:this.$PagesManagerMessagingSearchView7,onClear:this.$PagesManagerMessagingSearchView2,onRemove:function(o){return this.$PagesManagerMessagingSearchView5(o.getTitle());}.bind(this),placeholder:n,searchSource:c('PageCustomTagSearchSource').getInstance(this.props.customTagSearchSource.toArray(),false),searchMessage:this.$PagesManagerMessagingSearchView9,searchName:this.$PagesManagerMessagingSearchView8,entries:this.props.showTagsInSearchBox?this.$PagesManagerMessagingSearchView12():[],excludedEntries:this.$PagesManagerMessagingSearchView13(),TokenRendere:c('PageCustomTagTypeaheadPresenter.react').ViewRenderer}));}else return (c('React').createElement(c('AbstractTokenizer.react'),{className:"_5ptj",autoHighlight:false,entries:this.props.showTagsInSearchBox?this.$PagesManagerMessagingSearchView12():[],excludedEntries:this.$PagesManagerMessagingSearchView13(),onAddEntryAttempt:function(o){return this.$PagesManagerMessagingSearchView4(o.getTitle());}.bind(this),onChange:this.$PagesManagerMessagingSearchView1,onRemoveEntryAttempt:this.$PagesManagerMessagingSearchView5,placeholder:n,presenter:c('PageCustomTagTypeaheadPresenter.react'),value:this.props.initSearchTerm,searchSource:c('PageCustomTagSearchSource').getInstance(this.props.customTagSearchSource.toArray(),false),showEntriesOnFocus:true}));};m.prototype.$PagesManagerMessagingSearchView15=function(){if(this.props.showTagsInSearchBox||this.props.currentSearchCustomTagNames.toArray().length===0&&this.props.activeFilter.getKey()!==c('PagesManagerMessagingNavigationUnitKey').FILTERS.FLAGGED)return null;return (c('React').createElement('div',{className:"_4w11"},this.props.activeFilter.getKey()===c('PagesManagerMessagingNavigationUnitKey').FILTERS.FLAGGED?c('React').createElement(c('PagesEnumTag.react'),{canRemove:true,onRemove:this.$PagesManagerMessagingSearchView10,unit:this.props.activeFilter}):c('React').createElement(c('PagesContextCardCustomTagsBlock.react'),{canRemove:true,onRemove:this.$PagesManagerMessagingSearchView5,customTags:this.$PagesManagerMessagingSearchView11()})));};m.prototype.render=function(){return (c('React').createElement('div',null,c('React').createElement('div',{className:"_3i2n"+(this.props.enableSeparateSearch?' '+"_4m_d":'')+(!this.props.showTagsInSearchBox&&(this.props.currentSearchCustomTagNames.toArray().length>0||c('PagesManagerMessagingFilterStore').getActiveFilterName()===c('PagesManagerMessagingNavigationUnitKey').FILTERS.FLAGGED)?' '+"hidden_elem":''),ref:'input'},c('React').createElement(c('Image.react'),{className:"_5pti",src:j('/images/browse/search/search-gray.png')}),this.$PagesManagerMessagingSearchView14()),this.$PagesManagerMessagingSearchView15()));};f.exports=m;},null);
__d('PagesManagerMessagingSearchContainer.react',['PagesManagerMessagingFilterStore','FluxContainer','immutable','PagesManagerCustomTagsAction','PagesManagerCustomTagsStore','PagesManagerMessagingSearchStore','PagesManagerMessagingSearchView.react','React'],function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;function j(k,l){i.constructor.call(this,k,l);}j.getStores=function(){return [c('PagesManagerMessagingFilterStore'),c('PagesManagerCustomTagsStore'),c('PagesManagerMessagingSearchStore')];};j.prototype.componentWillMount=function(){if(this.props.enableTagSearch&&!c('PagesManagerCustomTagsStore').hasCustomTags(this.props.pageID))c('PagesManagerCustomTagsAction').fetch(this.props.pageID);};j.calculateState=function(k,l){return {activeFilter:c('PagesManagerMessagingFilterStore').getActiveFilter(),currentSearchCustomTagNames:c('PagesManagerMessagingSearchStore').getCurrentSearchCustomTagNames(),currentSearchTerm:c('PagesManagerMessagingSearchStore').getCurrentSearchTerm(),isSearchActive:c('PagesManagerMessagingSearchStore').getIsInSearchMode(),customTagSearchSource:c('PagesManagerCustomTagsStore').getCustomTags(l.pageID)};};j.prototype.render=function(){return (c('React').createElement(c('PagesManagerMessagingSearchView.react'),{activeFilter:this.state.activeFilter,enableSeparateSearch:this.props.enableSeparateSearch,enableTagSearch:this.props.enableTagSearch,initSearchTerm:this.state.currentSearchTerm,isSearchActive:this.state.isSearchActive,pageID:this.props.pageID,customTagSearchSource:this.state.customTagSearchSource,currentSearchCustomTagNames:this.state.currentSearchCustomTagNames,showTagsInSearchBox:!this.props.enableUpdatedUI}));};f.exports=c('FluxContainer').create(j,{withProps:true});},null);
__d('PagesManagerMessagingSearchListResult.react',['cx','fbt','Link.react','PagesManagerListRowContainer.react','PagesManagerAction','PagesSelectableList.react','React','emptyFunction'],function a(b,c,d,e,f,g,h,i){var j,k;if(c.__markCompiled)c.__markCompiled();j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;l.prototype.$PagesManagerMessagingSearchListResult1=function(m){'use strict';c('PagesManagerAction').viewListItem(m);};l.prototype.getNameResultKey=function(m){'use strict';return 'NameResult:'+m;};l.prototype.getSnippetResultKey=function(m){'use strict';return 'SnippetResult:'+m;};l.prototype.$PagesManagerMessagingSearchListResult2=function(){'use strict';var m=c('React').createElement('li',{className:"_16-z",key:'nameSearchTitle'},i._("Nombres que contienen \"{message search term}\"",[i.param('message search term',this.props.searchTerm)])),n=this.props.nameSearchResult.map(function(s){return (c('React').createElement(c('PagesManagerListRowContainer.react'),babelHelpers['extends']({ChildClass:this.props.listRowContainer,disableCheckBox:true,listItem:s,pageID:this.props.pageID,ref:this.getNameResultKey(s),key:this.getNameResultKey(s),onViewingListItem:this.$PagesManagerMessagingSearchListResult1,highlightText:this.props.searchTerm,useHighlightTitle:true,type:'li'},this.props.containerProps)));}.bind(this)),o=this.props.hasMoreNameSearchResult&&!this.props.isSearchingName?c('React').createElement('li',{className:"_16--",key:'loadMoreNameResult'},c('React').createElement(c('Link.react'),{onClick:this.props.loadMoreNameResult},i._("Ver m\u00e1s resultados"))):c('React').createElement('li',{className:"_3o39",key:'loadMoreNameResult'}),p=c('React').createElement('li',{className:"_16-z",key:'snippetSearchTitle'},i._("Mensajes que contienen \"{message search term}\"",[i.param('message search term',this.props.searchTerm)])),q=[];Object.keys(this.props.snippetSearchResult).forEach(function(s){q.push(c('React').createElement(c('PagesManagerListRowContainer.react'),babelHelpers['extends']({ChildClass:this.props.listRowContainer,disableCheckBox:true,listItem:s,pageID:this.props.pageID,ref:this.getSnippetResultKey(s),key:this.getSnippetResultKey(s),onViewingListItem:this.$PagesManagerMessagingSearchListResult1,snippetSearchResult:this.props.snippetSearchResult[s],highlightText:this.props.searchTerm,useHighlightTitle:false,type:'li'},this.props.containerProps)));}.bind(this));var r=this.props.hasMoreSnippetSearchResult&&!this.props.isSearchingSnippet?c('React').createElement('li',{className:"_16--",key:'loadMoreSnippetResult'},c('React').createElement(c('Link.react'),{onClick:this.props.loadMoreSnippetResult},i._("Ver m\u00e1s resultados"))):c('React').createElement('li',{className:"_3o39",key:'loadMoreSnippetResult'});return [m].concat(n,[o,p],q,[r]);};l.prototype.render=function(){'use strict';var m=this.$PagesManagerMessagingSearchListResult2();return (c('React').createElement(c('PagesSelectableList.react'),{actionBarRightComponent:this.props.actionBarRightContainer,deselectAllLabel:'',hideBatchAction:true,enableOnVisible:false,forceRequestMoreRows:false,height:this.props.height,onSelectionChange:this.props.onSelectionChange,onRequestMoreRows:c('emptyFunction'),ref:'selectableList',scrollableAreaMode:true,scrollableAreaHasShadow:false,scrollableWidth:this.props.scrollableWidth},m));};function l(){'use strict';j.apply(this,arguments);}f.exports=l;},null);
__d('PagesManagerMessagingSeparateSearchResultView.react',['cx','fbt','Link.react','PagesManagerListRowContainer.react','PagesManagerAction','PagesSelectableList.react','PagesMessagingSearchMode','React','emptyFunction'],function a(b,c,d,e,f,g,h,i){var j,k;if(c.__markCompiled)c.__markCompiled();j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;l.prototype.$PagesManagerMessagingSeparateSearchResultView1=function(m){'use strict';c('PagesManagerAction').viewListItem(m);};l.prototype.$PagesManagerMessagingSeparateSearchResultView2=function(){'use strict';var m=null,n=[];switch(this.props.searchMode){case c('PagesMessagingSearchMode').MESSAGE_SEARCH:m=i._("Mensajes que contienen \"{message search term}\"",[i.param('message search term',this.props.searchTerm)]);Object.keys(this.props.snippetSearchResult).forEach(function(p){n.push(c('React').createElement(c('PagesManagerListRowContainer.react'),babelHelpers['extends']({ChildClass:this.props.listRowContainer,disableCheckBox:true,listItem:p,pageID:this.props.pageID,ref:p,key:p,onViewingListItem:this.$PagesManagerMessagingSeparateSearchResultView1,snippetSearchResult:this.props.snippetSearchResult[p],highlightText:this.props.searchTerm,useHighlightTitle:false,type:'li'},this.props.containerProps)));}.bind(this));break;case c('PagesMessagingSearchMode').NAME_SEARCH:m=i._("Nombres que contienen \"{message search term}\"",[i.param('message search term',this.props.searchTerm)]);n=this.props.searchResult.map(function(p){return (c('React').createElement(c('PagesManagerListRowContainer.react'),babelHelpers['extends']({ChildClass:this.props.listRowContainer,disableCheckBox:true,listItem:p,pageID:this.props.pageID,ref:p,key:p,onViewingListItem:this.$PagesManagerMessagingSeparateSearchResultView1,highlightText:this.props.searchTerm,useHighlightTitle:true,type:'li'},this.props.containerProps)));}.bind(this));break;}m=c('React').createElement('li',{className:"_16-z",key:'searchTitle'},m);var o=this.props.hasMoreResult?c('React').createElement('li',{className:"_2b19",key:'loadMoreResult'},c('React').createElement(c('Link.react'),{onClick:this.props.loadMore.bind(null,this.props.searchMode,this.props.searchTerm)},i._("Ver m\u00e1s resultados"))):c('React').createElement('li',{className:"_3o39",key:'loadMoreResult'});return [m].concat(n,[o]);};l.prototype.render=function(){'use strict';var m=this.$PagesManagerMessagingSeparateSearchResultView2();return (c('React').createElement(c('PagesSelectableList.react'),{actionBarRightComponent:this.props.actionBarRightContainer,deselectAllLabel:'',hideBatchAction:true,enableOnVisible:false,forceRequestMoreRows:false,height:this.props.height,onSelectionChange:this.props.onSelectionChange,onRequestMoreRows:c('emptyFunction'),ref:'selectableList',scrollableAreaMode:true,scrollableAreaHasShadow:false,scrollableWidth:this.props.scrollableWidth},m));};function l(){'use strict';j.apply(this,arguments);}f.exports=l;},null);
__d('PagesManagerMessagingListContainer.react',['cx','fbt','PagesManagerMessagingBatchActionHeaderContainer.react','ContextualDialogArrow','ContextualLayerAutoFlip','FluxContainer','PagesManagerListBatchActionContainer.react','MercuryThreadlistConstants','MessageThreadViewSource','PagesEventObserver','PagesEventType','PagesManagerAction','PagesManagerAwayContainer.react','PagesManagerAwayToggle.react','PagesManagerListView.react','PagesManagerMessagingFilterActions','PagesManagerMessagingFilterStore','PagesManagerMessagingFilterPanelContainer.react','PagesManagerMessagingFilterPanelSwitch.react','PagesManagerMessagingList.react','PagesManagerMessagingListRowContainer.react','PagesManagerMessagingSearchContainer.react','PagesManagerMessagingLogger','PagesManagerMessagingNUXActions','PagesManagerMessagingSearchListResult.react','PagesMessagingSearchMode','PagesManagerMessagingSearchStore','PagesManagerMessagingSeparateSearchResultView.react','PagesManagerMessagingTabPerfEvents','PagesManagerMessagingThreadInteractionHelper','PagesManagerMessagingThreadlistAction','PagesManagerMessagingThreadlistStore','PagesManagerPerfLogger','PagesManagerStore','PopoverMenu.react','React','ReactDOM','SubscriptionsHandler','MercuryThreadInformer','Vector','XUICard.react','ReactXUIMenu','emptyFunction'],function a(b,c,d,e,f,g,h,i){var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('ReactXUIMenu').Item;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(n){'use strict';k.constructor.call(this,n);this.$PagesManagerMessagingListContainer1=false;this.$PagesManagerMessagingListContainer2=function(){this.refs.listView.clearSelection();}.bind(this);this.$PagesManagerMessagingListContainer3=this.$PagesManagerMessagingListContainer3.bind(this);this.$PagesManagerMessagingListContainer4=this.$PagesManagerMessagingListContainer4.bind(this);this.$PagesManagerMessagingListContainer5=this.$PagesManagerMessagingListContainer5.bind(this);this.$PagesManagerMessagingListContainer6=this.$PagesManagerMessagingListContainer6.bind(this);this.$PagesManagerMessagingListContainer7=this.$PagesManagerMessagingListContainer7.bind(this);}m.getStores=function(){'use strict';return [c('PagesManagerMessagingThreadlistStore'),c('PagesManagerMessagingFilterStore'),c('PagesManagerMessagingSearchStore')];};m.calculateSearchState=function(n,o){'use strict';var p=c('PagesManagerMessagingSearchStore').getThreadNameSearchResults(),q=c('PagesManagerMessagingSearchStore').getIsSearchingName(),r=c('PagesManagerMessagingSearchStore').hasMoreNameSearchResult(),s=c('PagesManagerMessagingSearchStore').hasMoreSnippetSearchResult(),t=c('PagesManagerMessagingSearchStore').getThreadSnippetSearchResults(),u=c('PagesManagerMessagingSearchStore').getIsSearchingSnippet();if(o.config.enableSeparateSearch){var v=[],w={},x=false,y=false;switch(c('PagesManagerMessagingSearchStore').getSearchMode()){case c('PagesMessagingSearchMode').MESSAGE_SEARCH:w=t;x=s;y=u;break;case c('PagesMessagingSearchMode').NAME_SEARCH:v=p;x=r;y=q;break;}return {hasMoreResult:x,isInSearchMode:true,isSearching:y,searchTerm:c('PagesManagerMessagingSearchStore').getCurrentSearchTerm(),searchMode:c('PagesManagerMessagingSearchStore').getSearchMode(),searchResult:v,snippetSearchResult:w};}else if(o.config.enableFullSearch){return {hasMoreNameSearchResult:r,hasMoreSnippetSearchResult:s,isInSearchMode:true,isSearchingName:q,isSearchingSnippet:u,nameSearchResult:p,threadSnippetResult:t,searchTerm:c('PagesManagerMessagingSearchStore').getCurrentSearchTerm(),searchMode:c('PagesManagerMessagingSearchStore').getSearchMode()};}else return {hasMoreItem:false,initLoading:false,isInSearchMode:true,threadIDList:p,emptyView:c('React').createElement('div',{key:'emptyView'})};};m.calsulateListState=function(n,o){'use strict';var p=c('PagesManagerMessagingThreadlistStore').getItemList(o.pageID),q=c('PagesManagerMessagingThreadlistStore').hasMoreItem(c('PagesManagerMessagingFilterStore').getNavigationKey()),r=p.findIndex(function(aa){return (aa===c('PagesManagerStore').getViewingListItem());})>=0,s=c('PagesManagerStore').getInitialViewingItem(),t=c('PagesManagerStore').getViewingListItem(),u=p.length>0,v=s&&s===t,w=!v&&(!t&&u||t&&u&&!r);if(w){var x=p[0];c('PagesManagerAction').viewListItem(x);c('PagesManagerMessagingThreadInteractionHelper').handlePermalinkUpdate(x,o.pageID);}var y=c('PagesManagerMessagingThreadlistStore').isLoading(),z=false;if(p.length===0)z=y;return {hasMoreItem:q,hasMoreResult:q,initLoading:z,isInSearchMode:false,threadIDList:p,emptyView:c('React').createElement('div',{key:'emptyView'})};};m.calculateState=function(n,o){'use strict';var p=null;if(c('PagesManagerMessagingSearchStore').getIsInSearchMode()&&c('PagesManagerMessagingSearchStore').getCurrentSearchTerm().length>0){p=m.calculateSearchState(n,o);}else p=m.calsulateListState(n,o);if(n&&n.initLoading&&!p.initLoading)c('PagesManagerMessagingNUXActions').setThreadlistReady();p.isFiltering=c('PagesManagerMessagingFilterStore').getIsFiltering();p.folderDropdown=c('PagesManagerMessagingFilterStore').getFolderDropDown();p.unitNotificationCountMap=c('PagesManagerMessagingFilterStore').getUnitNotificationCountMap(o.pageID);return p;};m.prototype.componentDidUpdate=function(){'use strict';if(this.$PagesManagerMessagingListContainer1&&!this.state.initLoading){this.$PagesManagerMessagingListContainer1=false;c('PagesEventObserver').notify(c('PagesEventType').MESSAGES_INBOX_LOAD_END,this.props.pageID,{flowID:this.props.flowID,page_id:this.props.pageID,loading_event_time:Date.now()});}};m.prototype.componentDidMount=function(){'use strict';c('PagesManagerPerfLogger').log(c('PagesManagerMessagingTabPerfEvents').MESSAGE_TAB_THREAD_LIST_DID_RENDER,this.props.perfParams);c('PagesManagerMessagingThreadlistAction').initThreadlist(this.props.pageID);c('PagesEventObserver').notify(c('PagesEventType').MESSAGES_THREADLIST_LOAD_START,this.props.pageID,{flowID:this.props.flowID,page_id:this.props.pageID,loading_event_time:Date.now()});c('PagesManagerMessagingLogger').logPageViewFolderEvent(this.props.pageID,c('PagesManagerMessagingFilterStore').getActiveFolder(),c('MessageThreadViewSource').NEW_MESSAGETAB);this.$PagesManagerMessagingListContainer1=true;this.$PagesManagerMessagingListContainer8=c('MercuryThreadInformer').getForFBID(this.props.pageID);this.$PagesManagerMessagingListContainer9=new (c('SubscriptionsHandler'))();this.$PagesManagerMessagingListContainer9.addSubscriptions(this.$PagesManagerMessagingListContainer8.subscribe('threadlist-updated',function(n,o){return this.$PagesManagerMessagingListContainer10();}.bind(this)),this.$PagesManagerMessagingListContainer8.subscribe('threads-updated',function(n,o){return this.$PagesManagerMessagingListContainer11(Object.keys(o));}.bind(this)));};m.prototype.componentWillUnmount=function(){'use strict';this.$PagesManagerMessagingListContainer9&&this.$PagesManagerMessagingListContainer9.release();};m.prototype.$PagesManagerMessagingListContainer12=function(n){'use strict';return n;};m.prototype.$PagesManagerMessagingListContainer4=function(){'use strict';c('PagesManagerMessagingThreadlistAction').loadMoreNameResult(this.props.pageID,this.state.searchTerm,c('PagesManagerMessagingFilterStore').getActiveFolderName());};m.prototype.$PagesManagerMessagingListContainer5=function(){'use strict';c('PagesManagerMessagingThreadlistAction').loadMoreSnippetResult(this.props.pageID,this.state.searchTerm,c('PagesManagerMessagingFilterStore').getActiveFolderName());};m.prototype.$PagesManagerMessagingListContainer3=function(n,o){'use strict';switch(n){case c('PagesMessagingSearchMode').NAME_SEARCH:c('PagesManagerMessagingThreadlistAction').loadMoreNameResult(this.props.pageID,o,c('PagesManagerMessagingFilterStore').getActiveFolderName());break;case c('PagesMessagingSearchMode').MESSAGE_SEARCH:c('PagesManagerMessagingThreadlistAction').loadMoreSnippetResult(this.props.pageID,o,c('PagesManagerMessagingFilterStore').getActiveFolderName());break;}};m.prototype.$PagesManagerMessagingListContainer7=function(){'use strict';var n=c('PagesManagerMessagingFilterStore').getNavigationKey();if(c('PagesManagerMessagingThreadlistStore').hasMoreItem(n)&&!c('PagesManagerMessagingThreadlistStore').isLoading()&&!this.state.isInSearchMode)c('PagesManagerMessagingThreadlistAction').fetchThreadlist(this.props.pageID,this.state.threadIDList.length,c('MercuryThreadlistConstants').WEBMESSENGER_MORE_COUNT);};m.prototype.$PagesManagerMessagingListContainer10=function(){'use strict';c('PagesManagerMessagingThreadlistAction').updateThreadlist(this.props.pageID);};m.prototype.$PagesManagerMessagingListContainer11=function(n){'use strict';n.forEach(function(o){if(this.refs.searchResult&&!this.props.config.enableSeparateSearch){var p=this.refs.searchResult.refs[this.refs.searchResult.getNameResultKey(o)];if(p)p.refs.childClass.updateThread();var q=this.refs.searchResult.refs[this.refs.searchResult.getSnippetResultKey(o)];if(q)q.refs.childClass.updateThread();return;}else if(this.refs.searchResult&&this.props.config.enableSeparateSearch){var r=this.refs.searchResult.refs[o];if(r)r.refs.childClass.updateThread();}else if(this.refs.listView){var s=this.refs.listView.refs[o];if(s)s.refs.childClass.updateThread();}}.bind(this));};m.prototype.$PagesManagerMessagingListContainer13=function(){'use strict';var n=null;if(this.props.config.enableUpdatedUI){n=c('React').createElement(c('PagesManagerMessagingFilterPanelSwitch.react'),{pageID:this.props.pageID,height:this.$PagesManagerMessagingListContainer14(),isFiltering:c('PagesManagerMessagingFilterStore').getIsFiltering(),enableManageTags:this.props.config.enableManageTags});}else if(this.props.config.enableAwayToggle)n=c('React').createElement(c('PagesManagerAwayContainer.react'),{pageID:this.props.pageID,RenderClass:c('PagesManagerAwayToggle.react')});return (c('React').createElement('div',null,c('React').createElement(c('PagesManagerListBatchActionContainer.react'),{ChildClass:c('PagesManagerMessagingBatchActionHeaderContainer.react'),pageID:this.props.pageID,onSelectionClear:this.$PagesManagerMessagingListContainer2}),n));};m.prototype.$PagesManagerMessagingListContainer6=function(n,o){'use strict';var p=this.state.folderDropdown.filter(function(q){return q.getKey()===o.item.getValue();});if(p.count()==0)return;c('PagesManagerMessagingFilterActions').changeFilter(this.props.pageID,p.get(0));};m.prototype.$PagesManagerMessagingListContainer15=function(n){'use strict';return (c('React').createElement(l,{key:n.getKey(),value:n.getKey()},c('React').createElement('div',{className:"_-7b"},n.getDisplayTitle())));};m.prototype.$PagesManagerMessagingListContainer16=function(){'use strict';var n=c('React').createElement(c('ReactXUIMenu'),{onItemClick:this.$PagesManagerMessagingListContainer6},this.state.folderDropdown.map(this.$PagesManagerMessagingListContainer15)),o=c('PagesManagerMessagingFilterStore').getActiveFolderDropDown(),p=this.state.unitNotificationCountMap.get(o);return (c('React').createElement(c('PopoverMenu.react'),{layerBehaviors:[c('ContextualDialogArrow'),c('ContextualLayerAutoFlip')],menu:n},c('React').createElement('div',{className:"_-7c"},o.getDisplayTitle(),c('React').createElement('div',{className:"_-7h"+(' '+"_-7e")+(p===0?' '+"hidden_elem":'')},p))));};m.prototype.$PagesManagerMessagingListContainer17=function(){'use strict';if(this.props.config.enableUpdatedUI)return '';return i._("Seleccionar todas");};m.prototype.$PagesManagerMessagingListContainer14=function(){'use strict';var n=c('ReactDOM').findDOMNode(this.refs.threadListHeader),o=0;if(n!==null&&!this.props.config.enableUpdatedUI)o=c('Vector').getElementDimensions(n).y;var p=c('ReactDOM').findDOMNode(this.refs.threadListFooter),q=0;if(p!==null)q=c('Vector').getElementDimensions(p).y;return this.props.height-o-q;};m.prototype.$PagesManagerMessagingListContainer18=function(){'use strict';return (c('React').createElement(c('XUICard.react'),{className:"_alj"+(!this.props.config.enableUpdatedUI?' '+"hidden_elem":''),ref:'threadListFooter'},c('React').createElement(c('PagesManagerAwayContainer.react'),{pageID:this.props.pageID,RenderClass:c('PagesManagerAwayToggle.react')})));};m.prototype.$PagesManagerMessagingListContainer19=function(){'use strict';return (c('React').createElement('div',{className:"_alk"+(!this.props.config.enableUpdatedUI?' '+"hidden_elem":''),ref:'threadListHeader'},c('React').createElement(c('PagesManagerMessagingSearchContainer.react'),{pageID:this.props.pageID,enableSeparateSearch:this.props.config.enableSeparateSearch,enableTagSearch:this.props.config.enableTagSearch,enableUpdatedUI:this.props.config.enableUpdatedUI})));};m.prototype.$PagesManagerMessagingListContainer20=function(){'use strict';if(this.props.config.enableUpdatedUI)return (c('React').createElement(c('PagesManagerMessagingList.react'),babelHelpers['extends']({},this.props,{actionBarRightContainer:this.$PagesManagerMessagingListContainer13(),folderDropDown:this.$PagesManagerMessagingListContainer16(),containerProps:{config:this.props.config},emptyView:this.state.emptyView,getKey:this.$PagesManagerMessagingListContainer12,hasMoreResult:this.state.hasMoreResult,header:this.$PagesManagerMessagingListContainer19(),height:this.$PagesManagerMessagingListContainer14(),initLoading:this.state.initLoading,isFiltering:this.state.isFiltering,isInSearchMode:this.state.isInSearchMode,isSearching:this.state.isSearching,list:this.state.threadIDList,listRowContainer:c('PagesManagerMessagingListRowContainer.react'),loadMore:this.$PagesManagerMessagingListContainer3,navigationKey:c('PagesManagerMessagingFilterStore').getNavigationKey(),onScroll:this.$PagesManagerMessagingListContainer7,onSelectionChange:this.props.onSelectionChange,ref:'listView',scrollableWidth:320,selectAllLabel:this.$PagesManagerMessagingListContainer17(),searchTerm:this.state.searchTerm,searchMode:this.state.searchMode,searchResult:this.state.searchResult,snippetSearchResult:this.state.snippetSearchResult})));if(this.state.isInSearchMode&&this.props.config.enableSeparateSearch)return (c('React').createElement(c('PagesManagerMessagingSeparateSearchResultView.react'),babelHelpers['extends']({},this.props,{actionBarRightContainer:this.$PagesManagerMessagingListContainer13(),containerProps:{config:this.props.config},hasMoreResult:this.state.hasMoreResult,height:this.$PagesManagerMessagingListContainer14(),isSearching:this.state.isSearching,listRowContainer:c('PagesManagerMessagingListRowContainer.react'),loadMore:this.$PagesManagerMessagingListContainer3.bind(this),onSelectionChange:this.props.onSelectionChange,ref:'searchResult',scrollableWidth:320,searchTerm:this.state.searchTerm,searchMode:this.state.searchMode,searchResult:this.state.searchResult,snippetSearchResult:this.state.snippetSearchResult})));if(this.state.isInSearchMode&&this.props.config.enableFullSearch)return (c('React').createElement(c('PagesManagerMessagingSearchListResult.react'),babelHelpers['extends']({},this.props,{actionBarRightContainer:this.$PagesManagerMessagingListContainer13(),containerProps:{config:this.props.config},getKey:this.$PagesManagerMessagingListContainer12,hasMoreNameSearchResult:this.state.hasMoreNameSearchResult,hasMoreSnippetSearchResult:this.state.hasMoreSnippetSearchResult,height:this.$PagesManagerMessagingListContainer14(),isSearchingName:this.state.isSearchingName,isSearchingSnippet:this.state.isSearchingSnippet,listRowContainer:c('PagesManagerMessagingListRowContainer.react'),loadMoreNameResult:this.$PagesManagerMessagingListContainer4,loadMoreSnippetResult:this.$PagesManagerMessagingListContainer5,nameSearchResult:this.state.nameSearchResult,onSelectionChange:this.props.onSelectionChange,ref:'searchResult',scrollableWidth:320,searchTerm:this.state.searchTerm,snippetSearchResult:this.state.threadSnippetResult})));return (c('React').createElement(c('PagesManagerListView.react'),babelHelpers['extends']({},this.props,{selectAllLabel:this.$PagesManagerMessagingListContainer17(),actionBarRightContainer:this.$PagesManagerMessagingListContainer13(),containerProps:{config:this.props.config},emptyView:this.state.emptyView,getKey:this.$PagesManagerMessagingListContainer12,hasMoreItem:this.state.hasMoreItem,height:this.$PagesManagerMessagingListContainer14(),initLoading:this.state.initLoading,isInSearchMode:this.state.isInSearchMode,list:this.state.threadIDList,listRowContainer:c('PagesManagerMessagingListRowContainer.react'),navigationKey:c('PagesManagerMessagingFilterStore').getNavigationKey(),onScroll:this.$PagesManagerMessagingListContainer7.bind(this),onSelectionChange:this.props.onSelectionChange,ref:'listView',scrollableWidth:320})));};m.prototype.render=function(){'use strict';return (c('React').createElement('div',{className:this.props.config.enableUpdatedUI?"_all":''},this.$PagesManagerMessagingListContainer20(),this.$PagesManagerMessagingListContainer18()));};f.exports=c('FluxContainer').create(m,{withProps:true});},null);
__d('PagesManagerMessagingApp.react',['cx','PagesManagerAction','LeftRight.react','MercuryPagesChannelHandler','MercuryServerPayloadPreprocessor','PagesEventObserver','PagesEventType','PagesManagerAwayBanner.react','PagesManagerAwayContainer.react','PagesManagerCustomTagManagementDialogContainer.react','PagesManagerDetailContainer.react','PagesManagerListContainer.react','PagesManagerListDetailLayout.react','PagesManagerMessagingDetailContainer.react','PagesManagerMessagingFilterContainer.react','PagesManagerMessagingListContainer.react','PagesManagerMessagingLogger','PagesManagerMessagingSearchContainer.react','PagesManagerMessagingTabPerfEvents','PagesManagerPerfLogger','PagesManagerStaticStore','PagesMessengerMessagePageButton.react','React','ReactDOM','PagesManagerStore'],function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();c('PagesManagerStore');i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;function k(l,m){'use strict';j.constructor.call(this,l,m);c('PagesManagerStaticStore').setPageID(this.props.pageID);this.state={rootElement:null};this.$PagesManagerMessagingApp1=function(){this.refs.body&&this.refs.body.recalculateHeight();}.bind(this);}k.prototype.componentWillMount=function(){'use strict';c('MercuryPagesChannelHandler').getForFBID(this.props.pageID).turnOn();c('PagesManagerMessagingLogger').logMessagesSectionViewEvent(this.props.pageID);c('PagesEventObserver').notify(c('PagesEventType').MESSAGES_THREADLIST_LAYOUT_LOAD_START,this.props.pageID,{flowID:this.props.flowID,page_id:this.props.pageID,loading_event_time:Date.now()});if(this.props.initialThreadID)c('PagesManagerAction').setInitialViewItem(this.props.initialThreadID);};k.prototype.componentDidMount=function(){'use strict';c('PagesManagerPerfLogger').log(c('PagesManagerMessagingTabPerfEvents').MESSAGE_TAB_APP_DID_RENDER,this.props.perfParams);var l=c('MercuryServerPayloadPreprocessor').getForFBID(this.props.pageID);l.handleUpdate(this.props.config.jewelInitData);this.setState({rootElement:c('ReactDOM').findDOMNode(this)});};k.prototype.componentWillUnmount=function(){'use strict';c('MercuryPagesChannelHandler').getForFBID(this.props.pageID).turnOff();};k.prototype.$PagesManagerMessagingApp2=function(l){'use strict';if(l)return l;return null;};k.prototype.$PagesManagerMessagingApp3=function(){'use strict';if(this.props.config.enabledPageToPageMessaging)return (c('React').createElement(c('PagesMessengerMessagePageButton.react'),{flowID:this.props.flowID,pageID:this.props.pageID,pagesCommNewMessagesTab:true,size:'large'}));return null;};k.prototype.$PagesManagerMessagingApp4=function(){'use strict';if(this.props.config.enableUpdatedUI)return c('React').createElement('div',{className:"_n4_"});return (c('React').createElement('div',{className:"_n4_"},c('React').createElement(c('LeftRight.react'),{className:"_n50"},c('React').createElement(c('PagesManagerMessagingFilterContainer.react'),{config:this.props.config,pageID:this.props.pageID}),c('React').createElement(c('LeftRight.react'),null,this.$PagesManagerMessagingApp3(),c('React').createElement(c('PagesManagerMessagingSearchContainer.react'),{pageID:this.props.pageID,enableSeparateSearch:this.props.config.enableSeparateSearch,enableTagSearch:this.props.config.enableTagSearch}))),this.$PagesManagerMessagingApp5()));};k.prototype.$PagesManagerMessagingApp6=function(){'use strict';return (c('React').createElement('div',{className:"_14vf"},c('React').createElement(c('PagesManagerListContainer.react'),{config:this.props.config,ChildContainerClass:c('PagesManagerMessagingListContainer.react'),flowID:this.props.flowID,pageID:this.props.pageID,perfParams:this.props.perfParams})));};k.prototype.$PagesManagerMessagingApp7=function(){'use strict';return (c('React').createElement('div',null,c('React').createElement(c('PagesManagerDetailContainer.react'),{config:this.props.config,pageID:this.props.pageID,ChildContainerClass:c('PagesManagerMessagingDetailContainer.react'),getListItemKey:this.$PagesManagerMessagingApp2,perfParams:this.props.perfParams})));};k.prototype.$PagesManagerMessagingApp5=function(){'use strict';if(!this.props.config.enableAwayToggle)return null;return (c('React').createElement('div',null,c('React').createElement(c('PagesManagerAwayContainer.react'),{pageID:this.props.pageID,RenderClass:c('PagesManagerAwayBanner.react')})));};k.prototype.$PagesManagerMessagingApp8=function(){'use strict';if(this.props.config.enableManageTags)return (c('React').createElement(c('PagesManagerCustomTagManagementDialogContainer.react'),{pageID:this.props.pageID}));};k.prototype.render=function(){'use strict';return (c('React').createElement('div',null,c('React').createElement('div',{className:"_15i2"},c('React').createElement(c('PagesManagerListDetailLayout.react'),{ref:'body',detailSection:this.$PagesManagerMessagingApp7(),listClassName:"_1-9p",listSection:this.$PagesManagerMessagingApp6(),navigationSection:this.$PagesManagerMessagingApp4()})),this.$PagesManagerMessagingApp8()));};f.exports=k;},null);